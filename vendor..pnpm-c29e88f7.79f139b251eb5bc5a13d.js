"use strict";(self.webpackChunkpixijs_game=self.webpackChunkpixijs_game||[]).push([[135],{2372:(t,e,i)=>{var r=i(9084),s=i(1026),n=i(5108),a=i(6524),o=i(3618),h=i(8143),u=i(7275),d=i(3929);class l{constructor(t,e){this.localUniforms=new a.k({uTransformMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new n.T({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=t,this._adaptor=e,this._adaptor.init(),t.renderableGC.addManagedHash(this,"_gpuBatchableMeshHash"),t.renderableGC.addManagedHash(this,"_meshDataHash")}validateRenderable(t){const e=this._getMeshData(t),i=e.batched,r=t.batched;if(e.batched=r,i!==r)return!0;if(r){const i=t._geometry;if(i.indices.length!==e.indexSize||i.positions.length!==e.vertexSize)return e.indexSize=i.indices.length,e.vertexSize=i.positions.length,!0;const r=this._getBatchableMesh(t);return!r._batcher.checkAndUpdateTexture(r,t.texture)}return!1}addRenderable(t,e){const i=this.renderer.renderPipes.batch,{batched:r}=this._getMeshData(t);if(r){const r=this._getBatchableMesh(t);r.texture=t._texture,r.geometry=t._geometry,i.addToBatch(r,e)}else i.break(e),e.add(t)}updateRenderable(t){if(t.batched){const e=this._gpuBatchableMeshHash[t.uid];e.texture=t._texture,e.geometry=t._geometry,e._batcher.updateElement(e)}}destroyRenderable(t){this._meshDataHash[t.uid]=null;const e=this._gpuBatchableMeshHash[t.uid];e&&(h.Z.return(e),this._gpuBatchableMeshHash[t.uid]=null),t.off("destroyed",this._destroyRenderableBound)}execute(t){if(!t.isRenderable)return;t.state.blendMode=(0,o.i)(t.groupBlendMode,t.texture._source);const e=this.localUniforms;e.uniforms.uTransformMatrix=t.groupTransform,e.uniforms.uRound=this.renderer._roundPixels|t._roundPixels,e.update(),(0,u.V)(t.groupColorAlpha,e.uniforms.uColor,0),this._adaptor.execute(this,t)}_getMeshData(t){return this._meshDataHash[t.uid]||this._initMeshData(t)}_initMeshData(t){return this._meshDataHash[t.uid]={batched:t.batched,indexSize:t._geometry.indices?.length,vertexSize:t._geometry.positions?.length},t.on("destroyed",this._destroyRenderableBound),this._meshDataHash[t.uid]}_getBatchableMesh(t){return this._gpuBatchableMeshHash[t.uid]||this._initBatchableMesh(t)}_initBatchableMesh(t){const e=h.Z.get(d.U);return e.renderable=t,e.texture=t._texture,e.transform=t.groupTransform,e.roundPixels=this.renderer._roundPixels|t._roundPixels,this._gpuBatchableMeshHash[t.uid]=e,e}destroy(){for(const t in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[t]&&h.Z.return(this._gpuBatchableMeshHash[t]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}l.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"mesh"},r.XO.add(l)},3929:(t,e,i)=>{i.d(e,{U:()=>r});class r{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(t){this._topology=t}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get uvs(){const t=this.geometry.getBuffer("aUV"),e=t.data;let i=e;const r=this.texture.textureMatrix;return r.isSimple||(i=this._transformedUvs,this._textureMatrixUpdateId===r._updateID&&this._uvUpdateId===t._updateID||((!i||i.length<e.length)&&(i=this._transformedUvs=new Float32Array(e.length)),this._textureMatrixUpdateId=r._updateID,this._uvUpdateId=t._updateID,r.multiplyUvs(e,i))),i}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},7981:(t,e,i)=>{i.d(e,{u:()=>h});var r=i(7752),s=i(4583),n=i(6712),a=i(2597);const o=class t extends n.V{constructor(...e){let i=e[0]??{};i instanceof Float32Array&&((0,a.t6)(a.lj,"use new MeshGeometry({ positions, uvs, indices }) instead"),i={positions:i,uvs:e[1],indices:e[2]}),i={...t.defaultOptions,...i};const n=i.positions||new Float32Array([0,0,1,0,1,1,0,1]),o=i.uvs||new Float32Array([0,0,1,0,1,1,0,1]),h=i.indices||new Uint32Array([0,1,2,0,2,3]),u=i.shrinkBuffersToFit;super({attributes:{aPosition:{buffer:new r.h({data:n,label:"attribute-mesh-positions",shrinkToFit:u,usage:s.S.VERTEX|s.S.COPY_DST}),format:"float32x2",stride:8,offset:0},aUV:{buffer:new r.h({data:o,label:"attribute-mesh-uvs",shrinkToFit:u,usage:s.S.VERTEX|s.S.COPY_DST}),format:"float32x2",stride:8,offset:0}},indexBuffer:new r.h({data:h,label:"index-mesh-buffer",shrinkToFit:u,usage:s.S.INDEX|s.S.COPY_DST}),topology:i.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(t){this.attributes.aPosition.buffer.data=t}get uvs(){return this.attributes.aUV.buffer.data}set uvs(t){this.attributes.aUV.buffer.data=t}get indices(){return this.indexBuffer.data}set indices(t){this.indexBuffer.data=t}};o.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let h=o},8460:(t,e,i)=>{var r=i(9084);class s{execute(t,e){const i=t.state,r=t.renderer,s=e.shader||t.defaultShader;s.resources.uTexture=e.texture._source,s.resources.uniforms=t.localUniforms;const n=r.gl,a=t.getBuffers(e);r.shader.bind(s),r.state.set(i),r.geometry.bind(a.geometry,s.glProgram);const o=2===a.geometry.indexBuffer.data.BYTES_PER_ELEMENT?n.UNSIGNED_SHORT:n.UNSIGNED_INT;n.drawElements(n.TRIANGLES,6*e.particleChildren.length,o,0)}}var n=i(1026),a=i(6524),o=i(3618),h=i(9678),u=i(7275),d=i(7752),l=i(4583),c=i(6712),p=i(5755),f=i(3439);function g(t,e=null){const i=6*t;if(i>65535?e||(e=new Uint32Array(i)):e||(e=new Uint16Array(i)),e.length!==i)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${i}`);for(let t=0,r=0;t<i;t+=6,r+=4)e[t+0]=r+0,e[t+1]=r+1,e[t+2]=r+2,e[t+3]=r+0,e[t+4]=r+2,e[t+5]=r+3;return e}function _(t,e){const i=[];i.push("\n      \n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            ");let r=0;for(const s in t){const n=t[s];if(e!==n.dynamic)continue;i.push(`offset = index + ${r}`),i.push(n.code);r+=(0,p.m)(n.format).stride/4}i.push("\n            index += stride * 4;\n        }\n    "),i.unshift(`\n        var stride = ${r};\n    `);const s=i.join("\n");return new Function("ps","f32v","u32v",s)}class m{constructor(t){this._size=0,this._generateParticleUpdateCache={};const e=this._size=t.size??1e3,i=t.properties;let r=0,s=0;for(const t in i){const e=i[t],n=(0,p.m)(e.format);e.dynamic?s+=n.stride:r+=n.stride}this._dynamicStride=s/4,this._staticStride=r/4,this.staticAttributeBuffer=new f.u(4*e*r),this.dynamicAttributeBuffer=new f.u(4*e*s),this.indexBuffer=g(e);const n=new c.V;let a=0,o=0;this._staticBuffer=new d.h({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:l.S.VERTEX|l.S.COPY_DST}),this._dynamicBuffer=new d.h({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:l.S.VERTEX|l.S.COPY_DST});for(const t in i){const e=i[t],r=(0,p.m)(e.format);e.dynamic?(n.addAttribute(e.attributeName,{buffer:this._dynamicBuffer,stride:4*this._dynamicStride,offset:4*a,format:e.format}),a+=r.size):(n.addAttribute(e.attributeName,{buffer:this._staticBuffer,stride:4*this._staticStride,offset:4*o,format:e.format}),o+=r.size)}n.addIndex(this.indexBuffer);const h=this.getParticleUpdate(i);this._dynamicUpload=h.dynamicUpdate,this._staticUpload=h.staticUpdate,this.geometry=n}getParticleUpdate(t){const e=function(t){const e=[];for(const i in t){const r=t[i];e.push(i,r.code,r.dynamic?"d":"s")}return e.join("_")}(t);return this._generateParticleUpdateCache[e]||(this._generateParticleUpdateCache[e]=this.generateParticleUpdate(t)),this._generateParticleUpdateCache[e]}generateParticleUpdate(t){return function(t){return{dynamicUpdate:_(t,!0),staticUpdate:_(t,!1)}}(t)}update(t,e){t.length>this._size&&(e=!0,this._size=Math.max(t.length,1.5*this._size|0),this.staticAttributeBuffer=new f.u(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new f.u(this._size*this._dynamicStride*4*4),this.indexBuffer=g(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const i=this.dynamicAttributeBuffer;if(this._dynamicUpload(t,i.float32View,i.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,t.length*this._dynamicStride*4,!0),e){const e=this.staticAttributeBuffer;this._staticUpload(t,e.float32View,e.uint32View),this._staticBuffer.setDataWithSize(e.float32View,t.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}var b=i(1598),x=i(1368),y=i(4557),v=i(5106),S=i(8554),w=i(3901),U="\nstruct ParticleUniforms {\n  uProjectionMatrix:mat3x3<f32>,\n  uColor:vec4<f32>,\n  uResolution:vec2<f32>,\n  uRoundPixels:f32,\n};\n\n@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;\n\n@group(1) @binding(0) var uTexture: texture_2d<f32>;\n@group(1) @binding(1) var uSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) color : vec4<f32>,\n  };\n@vertex\nfn mainVertex(\n  @location(0) aVertex: vec2<f32>,\n  @location(1) aPosition: vec2<f32>,\n  @location(2) aUV: vec2<f32>,\n  @location(3) aColor: vec4<f32>,\n  @location(4) aRotation: f32,\n) -> VSOutput {\n  \n   let v = vec2(\n       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),\n       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)\n   ) + aPosition;\n\n   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;\n\n  return VSOutput(\n   position,\n   aUV,\n   vColor,\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) color: vec4<f32>,\n  @builtin(position) position: vec4<f32>,\n) -> @location(0) vec4<f32> {\n\n    var sample = textureSample(uTexture, uSampler, uv) * color;\n   \n    return sample;\n}";class B extends v.M{constructor(){super({glProgram:x.M.from({vertex:"attribute vec2 aVertex;\nattribute vec2 aUV;\nattribute vec4 aColor;\n\nattribute vec2 aPosition;\nattribute float aRotation;\n\nuniform mat3 uTranslationMatrix;\nuniform float uRound;\nuniform vec2 uResolution;\nuniform vec4 uColor;\n\nvarying vec2 vUV;\nvarying vec4 vColor;\n\nvec2 roundPixels(vec2 position, vec2 targetSize)\n{       \n    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n}\n\nvoid main(void){\n    float cosRotation = cos(aRotation);\n    float sinRotation = sin(aRotation);\n    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;\n    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;\n\n    vec2 v = vec2(x, y);\n    v = v + aPosition;\n\n    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    if(uRound == 1.0)\n    {\n        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n    }\n\n    vUV = aUV;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;\n}\n",fragment:"varying vec2 vUV;\nvarying vec4 vColor;\n\nuniform sampler2D uTexture;\n\nvoid main(void){\n    vec4 color = texture2D(uTexture, vUV) * vColor;\n    gl_FragColor = color;\n}"}),gpuProgram:y.B.from({fragment:{source:U,entryPoint:"mainFragment"},vertex:{source:U,entryPoint:"mainVertex"}}),resources:{uTexture:S.g.WHITE.source,uSampler:new w.n({}),uniforms:{uTranslationMatrix:{value:new n.u,type:"mat3x3<f32>"},uColor:{value:new b.Q(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class T{constructor(t,e){this.state=h.U.for2d(),this._gpuBufferHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.localUniforms=new a.k({uTranslationMatrix:{value:new n.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=t,this.adaptor=e,this.defaultShader=new B,this.state=h.U.for2d()}validateRenderable(t){return!1}addRenderable(t,e){this.renderer.renderPipes.batch.break(e),e.add(t)}getBuffers(t){return this._gpuBufferHash[t.uid]||this._initBuffer(t)}_initBuffer(t){return this._gpuBufferHash[t.uid]=new m({size:t.particleChildren.length,properties:t._properties}),t.on("destroyed",this._destroyRenderableBound),this._gpuBufferHash[t.uid]}updateRenderable(t){}destroyRenderable(t){this._gpuBufferHash[t.uid].destroy(),this._gpuBufferHash[t.uid]=null,t.off("destroyed",this._destroyRenderableBound)}execute(t){const e=t.particleChildren;if(0===e.length)return;const i=this.renderer,r=this.getBuffers(t);t.texture||(t.texture=e[0].texture);const s=this.state;r.update(e,t._childrenDirty),t._childrenDirty=!1,s.blendMode=(0,o.i)(t.blendMode,t.texture._source);const n=this.localUniforms.uniforms,a=n.uTranslationMatrix;t.worldTransform.copyTo(a),a.prepend(i.globalUniforms.globalUniformData.projectionMatrix),n.uResolution=i.globalUniforms.globalUniformData.resolution,n.uRound=i._roundPixels|t._roundPixels,(0,u.V)(t.groupColorAlpha,n.uColor,0),this.adaptor.execute(this,t)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class P extends T{constructor(t){super(t,new s)}}P.extension={type:[r.Ag.WebGLPipes],name:"particle"};class M{execute(t,e){const i=t.renderer,r=e.shader||t.defaultShader;r.groups[0]=i.renderPipes.uniformBatch.getUniformBindGroup(t.localUniforms,!0),r.groups[1]=i.texture.getTextureBindGroup(e.texture);const s=t.state,n=t.getBuffers(e);i.encoder.draw({geometry:n.geometry,shader:e.shader||t.defaultShader,state:s,size:6*e.particleChildren.length})}}class C extends T{constructor(t){super(t,new M)}}C.extension={type:[r.Ag.WebGPUPipes],name:"particle"},r.XO.add(P),r.XO.add(C)},8445:(t,e,i)=>{var r=i(9084),s=i(8143),n=i(3929),a=i(8215);const o=class t extends a.b{constructor(e={}){super({width:(e={...t.defaultOptions,...e}).width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(t){this.width=t.width??this.width,this.height=t.height??this.height,this._originalWidth=t.originalWidth??this._originalWidth,this._originalHeight=t.originalHeight??this._originalHeight,this._leftWidth=t.leftWidth??this._leftWidth,this._rightWidth=t.rightWidth??this._rightWidth,this._topHeight=t.topHeight??this._topHeight,this._bottomHeight=t.bottomHeight??this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const t=this.positions,e=this._leftWidth+this._rightWidth,i=this.width>e?1:this.width/e,r=this._topHeight+this._bottomHeight,s=this.height>r?1:this.height/r,n=Math.min(i,s);t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this.height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this.height,t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this.width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const t=this.uvs;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1;const e=1/this._originalWidth,i=1/this._originalHeight;t[2]=t[10]=t[18]=t[26]=e*this._leftWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[4]=t[12]=t[20]=t[28]=1-e*this._rightWidth,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.getBuffer("aUV").update()}};o.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let h=o;class u{constructor(t){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(t,e){const i=this._getGpuSprite(t);t.didViewUpdate&&this._updateBatchableSprite(t,i),this._renderer.renderPipes.batch.addToBatch(i,e)}updateRenderable(t){const e=this._gpuSpriteHash[t.uid];t.didViewUpdate&&this._updateBatchableSprite(t,e),e._batcher.updateElement(e)}validateRenderable(t){const e=this._getGpuSprite(t);return!e._batcher.checkAndUpdateTexture(e,t._texture)}destroyRenderable(t){const e=this._gpuSpriteHash[t.uid];s.Z.return(e.geometry),s.Z.return(e),this._gpuSpriteHash[t.uid]=null,t.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(t,e){e.geometry.update(t),e.texture=t._texture}_getGpuSprite(t){return this._gpuSpriteHash[t.uid]||this._initGPUSprite(t)}_initGPUSprite(t){const e=s.Z.get(n.U);return e.geometry=s.Z.get(h),e.renderable=t,e.transform=t.groupTransform,e.texture=t._texture,e.roundPixels=this._renderer._roundPixels|t._roundPixels,this._gpuSpriteHash[t.uid]=e,t.didViewUpdate||this._updateBatchableSprite(t,e),t.on("destroyed",this._destroyRenderableBound),e}destroy(){for(const t in this._gpuSpriteHash){this._gpuSpriteHash[t].geometry.destroy()}this._gpuSpriteHash=null,this._renderer=null}}u.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"nineSliceSprite"},r.XO.add(u)},7172:(t,e,i)=>{var r=i(9084),s=i(3618),n=i(9678),a=i(2672),o=i(7275),h=i(3929),u=i(7981),d=i(1026),l=i(684),c=i(544),p=i(2152),f=i(5106),g=i(6524),_=i(8554);const m={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            } \n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},b={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n        \n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n        \n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n    \n        "}};let x,y;class v extends f.M{constructor(){x??(x=(0,l.v)({name:"tiling-sprite-shader",bits:[c.Ls,m,p.b]})),y??(y=(0,l.I)({name:"tiling-sprite-shader",bits:[c.mA,b,p.m]}));const t=new g.k({uMapCoord:{value:new d.u,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new d.u,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:y,gpuProgram:x,resources:{localUniforms:new g.k({uTransformMatrix:{value:new d.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:t,uTexture:_.g.EMPTY.source,uSampler:_.g.EMPTY.source.style}})}updateUniforms(t,e,i,r,s,n){const a=this.resources.tilingUniforms,o=n.width,h=n.height,u=n.textureMatrix,d=a.uniforms.uTextureTransform;d.set(i.a*o/t,i.b*o/e,i.c*h/t,i.d*h/e,i.tx/t,i.ty/e),d.invert(),a.uniforms.uMapCoord=u.mapCoord,a.uniforms.uClampFrame=u.uClampFrame,a.uniforms.uClampOffset=u.uClampOffset,a.uniforms.uTextureTransform=d,a.uniforms.uSizeAnchor[0]=t,a.uniforms.uSizeAnchor[1]=e,a.uniforms.uSizeAnchor[2]=r,a.uniforms.uSizeAnchor[3]=s,n&&(this.resources.uTexture=n.source,this.resources.uSampler=n.source.style)}}class S extends u.u{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}const w=new S;class U{constructor(t){this._state=n.U.default2d,this._tilingSpriteDataHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_tilingSpriteDataHash")}validateRenderable(t){const e=this._getTilingSpriteData(t),i=e.canBatch;this._updateCanBatch(t);const r=e.canBatch;if(r&&r===i){const{batchableMesh:i}=e;return!i._batcher.checkAndUpdateTexture(i,t.texture)}return i!==r}addRenderable(t,e){const i=this._renderer.renderPipes.batch;this._updateCanBatch(t);const r=this._getTilingSpriteData(t),{geometry:s,canBatch:n}=r;if(n){r.batchableMesh||(r.batchableMesh=new h.U);const n=r.batchableMesh;t.didViewUpdate&&(this._updateBatchableMesh(t),n.geometry=s,n.renderable=t,n.transform=t.groupTransform,n.texture=t._texture),n.roundPixels=this._renderer._roundPixels|t._roundPixels,i.addToBatch(n,e)}else i.break(e),r.shader||(r.shader=new v),this.updateRenderable(t),e.add(t)}execute(t){const{shader:e}=this._tilingSpriteDataHash[t.uid];e.groups[0]=this._renderer.globalUniforms.bindGroup;const i=e.resources.localUniforms.uniforms;i.uTransformMatrix=t.groupTransform,i.uRound=this._renderer._roundPixels|t._roundPixels,(0,o.V)(t.groupColorAlpha,i.uColor,0),this._state.blendMode=(0,s.i)(t.groupBlendMode,t.texture._source),this._renderer.encoder.draw({geometry:w,shader:e,state:this._state})}updateRenderable(t){const e=this._getTilingSpriteData(t),{canBatch:i}=e;if(i){const{batchableMesh:i}=e;t.didViewUpdate&&this._updateBatchableMesh(t),i._batcher.updateElement(i)}else if(t.didViewUpdate){const{shader:i}=e;i.updateUniforms(t.width,t.height,t._tileTransform.matrix,t.anchor.x,t.anchor.y,t.texture)}}destroyRenderable(t){const e=this._getTilingSpriteData(t);e.batchableMesh=null,e.shader?.destroy(),this._tilingSpriteDataHash[t.uid]=null,t.off("destroyed",this._destroyRenderableBound)}_getTilingSpriteData(t){return this._tilingSpriteDataHash[t.uid]||this._initTilingSpriteData(t)}_initTilingSpriteData(t){const e=new u.u({indices:w.indices,positions:w.positions.slice(),uvs:w.uvs.slice()});return this._tilingSpriteDataHash[t.uid]={canBatch:!0,renderable:t,geometry:e},t.on("destroyed",this._destroyRenderableBound),this._tilingSpriteDataHash[t.uid]}_updateBatchableMesh(t){const e=this._getTilingSpriteData(t),{geometry:i}=e,r=t.texture.source.style;"repeat"!==r.addressMode&&(r.addressMode="repeat",r.update()),function(t,e){const i=t.texture,r=i.frame.width,s=i.frame.height;let n=0,a=0;t.applyAnchorToTexture&&(n=t.anchor.x,a=t.anchor.y),e[0]=e[6]=-n,e[2]=e[4]=1-n,e[1]=e[3]=-a,e[5]=e[7]=1-a;const o=d.u.shared;o.copyFrom(t._tileTransform.matrix),o.tx/=t.width,o.ty/=t.height,o.invert(),o.scale(t.width/r,t.height/s),function(t,e,i,r){let s=0;const n=t.length/(e||2),a=r.a,o=r.b,h=r.c,u=r.d,d=r.tx,l=r.ty;for(i*=e;s<n;){const r=t[i],n=t[i+1];t[i]=a*r+h*n+d,t[i+1]=o*r+u*n+l,i+=e,s++}}(e,2,0,o)}(t,i.uvs),function(t,e){const i=t.anchor.x,r=t.anchor.y;e[0]=-i*t.width,e[1]=-r*t.height,e[2]=(1-i)*t.width,e[3]=-r*t.height,e[4]=(1-i)*t.width,e[5]=(1-r)*t.height,e[6]=-i*t.width,e[7]=(1-r)*t.height}(t,i.positions)}destroy(){for(const t in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[t].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(t){const e=this._getTilingSpriteData(t),i=t.texture;let r=!0;return this._renderer.type===a.W.WEBGL&&(r=this._renderer.context.supports.nonPowOf2wrapping),e.canBatch=i.textureMatrix.isSimple&&(r||i.source.isPowerOfTwo),e.canBatch}}U.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"tilingSprite"},r.XO.add(U)},5235:(t,e,i)=>{i.d(e,{K:()=>r});class r{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}}},9571:(t,e,i)=>{i.d(e,{k:()=>h});var r=i(7371),s=i(8554),n=i(4579),a=i(2597),o=i(2320);class h extends o.l{constructor(t=s.g.EMPTY){t instanceof s.g&&(t={texture:t});const{texture:e=s.g.EMPTY,anchor:i,roundPixels:n,width:a,height:o,...h}=t;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new r.o({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=n??!1,void 0!==a&&(this.width=a),void 0!==o&&(this.height=o)}static from(t,e=!1){return t instanceof s.g?new h(t):new h(s.g.from(t,e))}set texture(t){t||(t=s.g.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return(0,n.y)(this._visualBounds,this._anchor,this._texture,0),this._visualBounds}get sourceBounds(){return(0,a.t6)("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,i=this._bounds,{width:r,height:s}=e.orig;i.minX=-t._x*r,i.maxX=i.minX+r,i.minY=-t._y*s,i.maxY=i.minY+s}destroy(t=!1){super.destroy(t);if("boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._texture.destroy(e)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,this._texture.orig.width),void 0!==e&&this._setHeight(e,this._texture.orig.height)}}},1439:(t,e,i)=>{i.d(e,{k:()=>a});var r=i(9084),s=i(8143),n=i(5235);class a{constructor(t){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=t,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(t,e){const i=this._getGpuSprite(t);t.didViewUpdate&&this._updateBatchableSprite(t,i),this._renderer.renderPipes.batch.addToBatch(i,e)}updateRenderable(t){const e=this._gpuSpriteHash[t.uid];t.didViewUpdate&&this._updateBatchableSprite(t,e),e._batcher.updateElement(e)}validateRenderable(t){const e=this._getGpuSprite(t);return!e._batcher.checkAndUpdateTexture(e,t._texture)}destroyRenderable(t){const e=this._gpuSpriteHash[t.uid];s.Z.return(e),this._gpuSpriteHash[t.uid]=null,t.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(t,e){e.bounds=t.visualBounds,e.texture=t._texture}_getGpuSprite(t){return this._gpuSpriteHash[t.uid]||this._initGPUSprite(t)}_initGPUSprite(t){const e=s.Z.get(n.K);return e.renderable=t,e.transform=t.groupTransform,e.texture=t._texture,e.bounds=t.visualBounds,e.roundPixels=this._renderer._roundPixels|t._roundPixels,this._gpuSpriteHash[t.uid]=e,t.on("destroyed",this._destroyRenderableBound),e}destroy(){for(const t in this._gpuSpriteHash)s.Z.return(this._gpuSpriteHash[t]);this._gpuSpriteHash=null,this._renderer=null}}a.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"sprite"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLi5wbnBtLWMyOWU4OGY3LmU5Yzc4MDBhYTIyMDkyZDY2MWU0LmpzIiwibWFwcGluZ3MiOiI2TEFVQSxNQUFNQSxFQUNKLFdBQUFDLENBQVlDLEVBQVVDLEdBQ3BCQyxLQUFLQyxjQUFnQixJQUFJQyxFQUFBLEVBQWEsQ0FDcENDLGlCQUFrQixDQUFFQyxNQUFPLElBQUlDLEVBQUEsRUFBVUMsS0FBTSxlQUMvQ0MsT0FBUSxDQUFFSCxNQUFPLElBQUlJLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLRixLQUFNLGFBQ3ZERyxPQUFRLENBQUVMLE1BQU8sRUFBR0UsS0FBTSxTQUU1Qk4sS0FBS1UsdUJBQXlCLElBQUlDLEVBQUEsRUFBVSxDQUMxQyxFQUFHWCxLQUFLQyxnQkFFVkQsS0FBS1ksY0FBZ0NDLE9BQU9DLE9BQU8sTUFDbkRkLEtBQUtlLHNCQUF3Q0YsT0FBT0MsT0FBTyxNQUMzRGQsS0FBS2dCLHdCQUEwQmhCLEtBQUtpQixrQkFBa0JDLEtBQUtsQixNQUMzREEsS0FBS0YsU0FBV0EsRUFDaEJFLEtBQUttQixTQUFXcEIsRUFDaEJDLEtBQUttQixTQUFTQyxPQUNkdEIsRUFBU3VCLGFBQWFDLGVBQWV0QixLQUFNLHlCQUMzQ0YsRUFBU3VCLGFBQWFDLGVBQWV0QixLQUFNLGdCQUM3QyxDQUNBLGtCQUFBdUIsQ0FBbUJDLEdBQ2pCLE1BQU1DLEVBQVd6QixLQUFLMEIsYUFBYUYsR0FDN0JHLEVBQWFGLEVBQVNHLFFBQ3RCQyxFQUFZTCxFQUFLSSxRQUV2QixHQURBSCxFQUFTRyxRQUFVQyxFQUNmRixJQUFlRSxFQUNqQixPQUFPLEVBQ0YsR0FBSUEsRUFBVyxDQUNwQixNQUFNQyxFQUFXTixFQUFLTyxVQUN0QixHQUFJRCxFQUFTRSxRQUFRQyxTQUFXUixFQUFTUyxXQUFhSixFQUFTSyxVQUFVRixTQUFXUixFQUFTVyxXQUczRixPQUZBWCxFQUFTUyxVQUFZSixFQUFTRSxRQUFRQyxPQUN0Q1IsRUFBU1csV0FBYU4sRUFBU0ssVUFBVUYs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QUFLd1IsZUFBZUUsRUFBT3JPLEtBQ25ELElBQVFHLE9BQU91TyxHQUNmL1IsS0FBS3dSLGVBQWVFLEVBQU9yTyxLQUFPLEtBQ2xDcU8sRUFBT2pPLElBQUksWUFBYXpELEtBQUtnQix3QkFDL0IsQ0FDQSxzQkFBQThRLENBQXVCSixFQUFRSyxHQUM3QkEsRUFBZ0J1RSxPQUFTNUUsRUFBT2lHLGFBQ2hDNUYsRUFBZ0J0UCxRQUFVaVAsRUFBTzFPLFFBQ25DLENBQ0EsYUFBQTRPLENBQWNGLEdBQ1osT0FBTzFSLEtBQUt3UixlQUFlRSxFQUFPck8sTUFBUXJELEtBQUtnUyxlQUFlTixFQUNoRSxDQUNBLGNBQUFNLENBQWVOLEdBQ2IsTUFBTUssRUFBa0IsSUFBUXROLElBQUksS0FRcEMsT0FQQXNOLEVBQWdCcE4sV0FBYStNLEVBQzdCSyxFQUFnQm5OLFVBQVk4TSxFQUFPeE4sZUFDbkM2TixFQUFnQnRQLFFBQVVpUCxFQUFPMU8sU0FDakMrTyxFQUFnQnVFLE9BQVM1RSxFQUFPaUcsYUFDaEM1RixFQUFnQmxOLFlBQWM3RSxLQUFLeVIsVUFBVXROLGFBQWV1TixFQUFPdk4sYUFDbkVuRSxLQUFLd1IsZUFBZUUsRUFBT3JPLEtBQU8wTyxFQUNsQ0wsRUFBT25OLEdBQUcsWUFBYXZFLEtBQUtnQix5QkFDckIrUSxDQUNULENBQ0EsT0FBQWpOLEdBQ0UsSUFBSyxNQUFNQyxLQUFLL0UsS0FBS3dSLGVBQ25CLElBQVFoTyxPQUFPeEQsS0FBS3dSLGVBQWV6TSxJQUVyQy9FLEtBQUt3UixlQUFpQixLQUN0QnhSLEtBQUt5UixVQUFZLElBQ25CLEVBR0Y4RyxFQUFXdlQsVUFBWSxDQUNyQjFFLEtBQU0sQ0FDSixLQUFjMkUsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCQyxLQUFNLFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9NZXNoUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9CYXRjaGFibGVNZXNoLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9NZXNoR2VvbWV0cnkubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9nbC9HbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC91dGlscy9jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvdXRpbHMvZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL1BhcnRpY2xlQnVmZmVyLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3NoYWRlci9wYXJ0aWNsZXMud2dzbC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9zaGFkZXIvUGFydGljbGVTaGFkZXIubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy52ZXJ0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3NoYWRlci9wYXJ0aWNsZXMuZnJhZy5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9QYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9ncHUvR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL0dwdVBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2luaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS1uaW5lLXNsaWNlL05pbmVTbGljZUdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtbmluZS1zbGljZS9OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtbmluZS1zbGljZS9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL3NoYWRlci90aWxpbmdCaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvc2hhZGVyL1RpbGluZ1Nwcml0ZVNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9RdWFkR2VvbWV0cnkubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvVGlsaW5nU3ByaXRlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9zZXRVdnMubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvYXBwbHlNYXRyaXgubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvc2V0UG9zaXRpb25zLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL2luaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS9TcHJpdGUubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS9TcHJpdGVQaXBlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvQmluZEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZC5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi9CYXRjaGFibGVNZXNoLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWVzaFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgYWRhcHRvcikge1xuICAgIHRoaXMubG9jYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1Um91bmQ6IHsgdmFsdWU6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgIH0pO1xuICAgIHRoaXMubG9jYWxVbmlmb3Jtc0JpbmRHcm91cCA9IG5ldyBCaW5kR3JvdXAoe1xuICAgICAgMDogdGhpcy5sb2NhbFVuaWZvcm1zXG4gICAgfSk7XG4gICAgdGhpcy5fbWVzaERhdGFIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLl9hZGFwdG9yLmluaXQoKTtcbiAgICByZW5kZXJlci5yZW5kZXJhYmxlR0MuYWRkTWFuYWdlZEhhc2godGhpcywgXCJfZ3B1QmF0Y2hhYmxlTWVzaEhhc2hcIik7XG4gICAgcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX21lc2hEYXRhSGFzaFwiKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUobWVzaCkge1xuICAgIGNvbnN0IG1lc2hEYXRhID0gdGhpcy5fZ2V0TWVzaERhdGEobWVzaCk7XG4gICAgY29uc3Qgd2FzQmF0Y2hlZCA9IG1lc2hEYXRhLmJhdGNoZWQ7XG4gICAgY29uc3QgaXNCYXRjaGVkID0gbWVzaC5iYXRjaGVkO1xuICAgIG1lc2hEYXRhLmJhdGNoZWQgPSBpc0JhdGNoZWQ7XG4gICAgaWYgKHdhc0JhdGNoZWQgIT09IGlzQmF0Y2hlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpc0JhdGNoZWQpIHtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBpZiAoZ2VvbWV0cnkuaW5kaWNlcy5sZW5ndGggIT09IG1lc2hEYXRhLmluZGV4U2l6ZSB8fCBnZW9tZXRyeS5wb3NpdGlvbnMubGVuZ3RoICE9PSBtZXNoRGF0YS52ZXJ0ZXhTaXplKSB7XG4gICAgICAgIG1lc2hEYXRhLmluZGV4U2l6ZSA9IGdlb21ldHJ5LmluZGljZXMubGVuZ3RoO1xuICAgICAgICBtZXNoRGF0YS52ZXJ0ZXhTaXplID0gZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGhpcy5fZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKTtcbiAgICAgIHJldHVybiAhYmF0Y2hhYmxlTWVzaC5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICAgIGJhdGNoYWJsZU1lc2gsXG4gICAgICAgIG1lc2gudGV4dHVyZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUobWVzaCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaGVyID0gdGhpcy5yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaDtcbiAgICBjb25zdCB7IGJhdGNoZWQgfSA9IHRoaXMuX2dldE1lc2hEYXRhKG1lc2gpO1xuICAgIGlmIChiYXRjaGVkKSB7XG4gICAgICBjb25zdCBncHVCYXRjaGFibGVNZXNoID0gdGhpcy5fZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2gudGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBiYXRjaGVyLmFkZFRvQmF0Y2goZ3B1QmF0Y2hhYmxlTWVzaCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXRjaGVyLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZChtZXNoKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShtZXNoKSB7XG4gICAgaWYgKG1lc2guYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW21lc2gudWlkXTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2gudGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1QmF0Y2hhYmxlTWVzaCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKG1lc2gpIHtcbiAgICB0aGlzLl9tZXNoRGF0YUhhc2hbbWVzaC51aWRdID0gbnVsbDtcbiAgICBjb25zdCBncHVNZXNoID0gdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbbWVzaC51aWRdO1xuICAgIGlmIChncHVNZXNoKSB7XG4gICAgICBCaWdQb29sLnJldHVybihncHVNZXNoKTtcbiAgICAgIHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW21lc2gudWlkXSA9IG51bGw7XG4gICAgfVxuICAgIG1lc2gub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIGV4ZWN1dGUobWVzaCkge1xuICAgIGlmICghbWVzaC5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgbWVzaC5zdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKG1lc2guZ3JvdXBCbGVuZE1vZGUsIG1lc2gudGV4dHVyZS5fc291cmNlKTtcbiAgICBjb25zdCBsb2NhbFVuaWZvcm1zID0gdGhpcy5sb2NhbFVuaWZvcm1zO1xuICAgIGxvY2FsVW5pZm9ybXMudW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeCA9IG1lc2guZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51Um91bmQgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IG1lc2guX3JvdW5kUGl4ZWxzO1xuICAgIGxvY2FsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIG1lc2guZ3JvdXBDb2xvckFscGhhLFxuICAgICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLl9hZGFwdG9yLmV4ZWN1dGUodGhpcywgbWVzaCk7XG4gIH1cbiAgX2dldE1lc2hEYXRhKG1lc2gpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVzaERhdGFIYXNoW21lc2gudWlkXSB8fCB0aGlzLl9pbml0TWVzaERhdGEobWVzaCk7XG4gIH1cbiAgX2luaXRNZXNoRGF0YShtZXNoKSB7XG4gICAgdGhpcy5fbWVzaERhdGFIYXNoW21lc2gudWlkXSA9IHtcbiAgICAgIGJhdGNoZWQ6IG1lc2guYmF0Y2hlZCxcbiAgICAgIGluZGV4U2l6ZTogbWVzaC5fZ2VvbWV0cnkuaW5kaWNlcz8ubGVuZ3RoLFxuICAgICAgdmVydGV4U2l6ZTogbWVzaC5fZ2VvbWV0cnkucG9zaXRpb25zPy5sZW5ndGhcbiAgICB9O1xuICAgIG1lc2gub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIHRoaXMuX21lc2hEYXRhSGFzaFttZXNoLnVpZF07XG4gIH1cbiAgX2dldEJhdGNoYWJsZU1lc2gobWVzaCkge1xuICAgIHJldHVybiB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaFttZXNoLnVpZF0gfHwgdGhpcy5faW5pdEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gIH1cbiAgX2luaXRCYXRjaGFibGVNZXNoKG1lc2gpIHtcbiAgICBjb25zdCBncHVNZXNoID0gQmlnUG9vbC5nZXQoQmF0Y2hhYmxlTWVzaCk7XG4gICAgZ3B1TWVzaC5yZW5kZXJhYmxlID0gbWVzaDtcbiAgICBncHVNZXNoLnRleHR1cmUgPSBtZXNoLl90ZXh0dXJlO1xuICAgIGdwdU1lc2gudHJhbnNmb3JtID0gbWVzaC5ncm91cFRyYW5zZm9ybTtcbiAgICBncHVNZXNoLnJvdW5kUGl4ZWxzID0gdGhpcy5yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBtZXNoLl9yb3VuZFBpeGVscztcbiAgICB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaFttZXNoLnVpZF0gPSBncHVNZXNoO1xuICAgIHJldHVybiBncHVNZXNoO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoKSB7XG4gICAgICBpZiAodGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbaV0pIHtcbiAgICAgICAgQmlnUG9vbC5yZXR1cm4odGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaCA9IG51bGw7XG4gICAgdGhpcy5fbWVzaERhdGFIYXNoID0gbnVsbDtcbiAgICB0aGlzLmxvY2FsVW5pZm9ybXMgPSBudWxsO1xuICAgIHRoaXMubG9jYWxVbmlmb3Jtc0JpbmRHcm91cCA9IG51bGw7XG4gICAgdGhpcy5fYWRhcHRvci5kZXN0cm95KCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5NZXNoUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwibWVzaFwiXG59O1xuXG5leHBvcnQgeyBNZXNoUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaFBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWVzaFBpcGUgfSBmcm9tICcuL3NoYXJlZC9NZXNoUGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKE1lc2hQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaGFibGVNZXNoIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXRjaGVyTmFtZSA9IFwiZGVmYXVsdFwiO1xuICAgIHRoaXMucGFja0FzUXVhZCA9IGZhbHNlO1xuICAgIHRoaXMuaW5kZXhPZmZzZXQgPSAwO1xuICAgIHRoaXMuYXR0cmlidXRlT2Zmc2V0ID0gMDtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gMDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5fdXZVcGRhdGVJZCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IC0xO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cEJsZW5kTW9kZTtcbiAgfVxuICBnZXQgdG9wb2xvZ3koKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvcG9sb2d5IHx8IHRoaXMuZ2VvbWV0cnkudG9wb2xvZ3k7XG4gIH1cbiAgc2V0IHRvcG9sb2d5KHZhbHVlKSB7XG4gICAgdGhpcy5fdG9wb2xvZ3kgPSB2YWx1ZTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgIHRoaXMuX3V2VXBkYXRlSWQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgfVxuICBnZXQgdXZzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCB1dkJ1ZmZlciA9IGdlb21ldHJ5LmdldEJ1ZmZlcihcImFVVlwiKTtcbiAgICBjb25zdCB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgIGxldCB0cmFuc2Zvcm1lZFV2cyA9IHV2cztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gdGhpcy50ZXh0dXJlLnRleHR1cmVNYXRyaXg7XG4gICAgaWYgKCF0ZXh0dXJlTWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICB0cmFuc2Zvcm1lZFV2cyA9IHRoaXMuX3RyYW5zZm9ybWVkVXZzO1xuICAgICAgaWYgKHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCAhPT0gdGV4dHVyZU1hdHJpeC5fdXBkYXRlSUQgfHwgdGhpcy5fdXZVcGRhdGVJZCAhPT0gdXZCdWZmZXIuX3VwZGF0ZUlEKSB7XG4gICAgICAgIGlmICghdHJhbnNmb3JtZWRVdnMgfHwgdHJhbnNmb3JtZWRVdnMubGVuZ3RoIDwgdXZzLmxlbmd0aCkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkVXZzID0gdGhpcy5fdHJhbnNmb3JtZWRVdnMgPSBuZXcgRmxvYXQzMkFycmF5KHV2cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IHRleHR1cmVNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl91dlVwZGF0ZUlkID0gdXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICB0ZXh0dXJlTWF0cml4Lm11bHRpcGx5VXZzKHV2cywgdHJhbnNmb3JtZWRVdnMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRVdnM7XG4gIH1cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5wb3NpdGlvbnM7XG4gIH1cbiAgZ2V0IGluZGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuaW5kaWNlcztcbiAgfVxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cENvbG9yQWxwaGE7XG4gIH1cbiAgZ2V0IGdyb3VwVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBUcmFuc2Zvcm07XG4gIH1cbiAgZ2V0IGF0dHJpYnV0ZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aCAvIDI7XG4gIH1cbiAgZ2V0IGluZGV4U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5pbmRpY2VzLmxlbmd0aDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaGFibGVNZXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVNZXNoLm1qcy5tYXBcbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9CdWZmZXIubWpzJztcbmltcG9ydCB7IEJ1ZmZlclVzYWdlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L0dlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9NZXNoR2VvbWV0cnkgPSBjbGFzcyBfTWVzaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmdzWzBdID8/IHt9O1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwidXNlIG5ldyBNZXNoR2VvbWV0cnkoeyBwb3NpdGlvbnMsIHV2cywgaW5kaWNlcyB9KSBpbnN0ZWFkXCIpO1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgcG9zaXRpb25zOiBvcHRpb25zLFxuICAgICAgICB1dnM6IGFyZ3NbMV0sXG4gICAgICAgIGluZGljZXM6IGFyZ3NbMl1cbiAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbnMgPSB7IC4uLl9NZXNoR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBvcHRpb25zLnBvc2l0aW9ucyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG4gICAgY29uc3QgdXZzID0gb3B0aW9ucy51dnMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuICAgIGNvbnN0IGluZGljZXMgPSBvcHRpb25zLmluZGljZXMgfHwgbmV3IFVpbnQzMkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgY29uc3Qgc2hyaW5rVG9GaXQgPSBvcHRpb25zLnNocmlua0J1ZmZlcnNUb0ZpdDtcbiAgICBjb25zdCBwb3NpdGlvbkJ1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogcG9zaXRpb25zLFxuICAgICAgbGFiZWw6IFwiYXR0cmlidXRlLW1lc2gtcG9zaXRpb25zXCIsXG4gICAgICBzaHJpbmtUb0ZpdCxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5WRVJURVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pO1xuICAgIGNvbnN0IHV2QnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiB1dnMsXG4gICAgICBsYWJlbDogXCJhdHRyaWJ1dGUtbWVzaC11dnNcIixcbiAgICAgIHNocmlua1RvRml0LFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlZFUlRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgY29uc3QgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IGluZGljZXMsXG4gICAgICBsYWJlbDogXCJpbmRleC1tZXNoLWJ1ZmZlclwiLFxuICAgICAgc2hyaW5rVG9GaXQsXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuSU5ERVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgYVBvc2l0aW9uOiB7XG4gICAgICAgICAgYnVmZmVyOiBwb3NpdGlvbkJ1ZmZlcixcbiAgICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMngyXCIsXG4gICAgICAgICAgc3RyaWRlOiAyICogNCxcbiAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgYVVWOiB7XG4gICAgICAgICAgYnVmZmVyOiB1dkJ1ZmZlcixcbiAgICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMngyXCIsXG4gICAgICAgICAgc3RyaWRlOiAyICogNCxcbiAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluZGV4QnVmZmVyLFxuICAgICAgdG9wb2xvZ3k6IG9wdGlvbnMudG9wb2xvZ3lcbiAgICB9KTtcbiAgICB0aGlzLmJhdGNoTW9kZSA9IFwiYXV0b1wiO1xuICB9XG4gIC8qKiBUaGUgcG9zaXRpb25zIG9mIHRoZSBtZXNoLiAqL1xuICBnZXQgcG9zaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMuYVBvc2l0aW9uLmJ1ZmZlci5kYXRhO1xuICB9XG4gIHNldCBwb3NpdGlvbnModmFsdWUpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZXMuYVBvc2l0aW9uLmJ1ZmZlci5kYXRhID0gdmFsdWU7XG4gIH1cbiAgLyoqIFRoZSBVVnMgb2YgdGhlIG1lc2guICovXG4gIGdldCB1dnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5hVVYuYnVmZmVyLmRhdGE7XG4gIH1cbiAgc2V0IHV2cyh2YWx1ZSkge1xuICAgIHRoaXMuYXR0cmlidXRlcy5hVVYuYnVmZmVyLmRhdGEgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIGluZGljZXMgb2YgdGhlIG1lc2guICovXG4gIGdldCBpbmRpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyLmRhdGE7XG4gIH1cbiAgc2V0IGluZGljZXModmFsdWUpIHtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSB2YWx1ZTtcbiAgfVxufTtcbl9NZXNoR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHRvcG9sb2d5OiBcInRyaWFuZ2xlLWxpc3RcIixcbiAgc2hyaW5rQnVmZmVyc1RvRml0OiBmYWxzZVxufTtcbmxldCBNZXNoR2VvbWV0cnkgPSBfTWVzaEdlb21ldHJ5O1xuXG5leHBvcnQgeyBNZXNoR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hHZW9tZXRyeS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdsUGFydGljbGVDb250YWluZXJBZGFwdG9yIHtcbiAgZXhlY3V0ZShwYXJ0aWNsZUNvbnRhaW5lclBpcGUsIGNvbnRhaW5lcikge1xuICAgIGNvbnN0IHN0YXRlID0gcGFydGljbGVDb250YWluZXJQaXBlLnN0YXRlO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLnJlbmRlcmVyO1xuICAgIGNvbnN0IHNoYWRlciA9IGNvbnRhaW5lci5zaGFkZXIgfHwgcGFydGljbGVDb250YWluZXJQaXBlLmRlZmF1bHRTaGFkZXI7XG4gICAgc2hhZGVyLnJlc291cmNlcy51VGV4dHVyZSA9IGNvbnRhaW5lci50ZXh0dXJlLl9zb3VyY2U7XG4gICAgc2hhZGVyLnJlc291cmNlcy51bmlmb3JtcyA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5sb2NhbFVuaWZvcm1zO1xuICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgY29uc3QgYnVmZmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLmdldEJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgIHJlbmRlcmVyLnN0YXRlLnNldChzdGF0ZSk7XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnksIHNoYWRlci5nbFByb2dyYW0pO1xuICAgIGNvbnN0IGJ5dGVTaXplID0gYnVmZmVyLmdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgY29uc3QgZ2xUeXBlID0gYnl0ZVNpemUgPT09IDIgPyBnbC5VTlNJR05FRF9TSE9SVCA6IGdsLlVOU0lHTkVEX0lOVDtcbiAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBjb250YWluZXIucGFydGljbGVDaGlsZHJlbi5sZW5ndGggKiA2LCBnbFR5cGUsIDApO1xuICB9XG59XG5cbmV4cG9ydCB7IEdsUGFydGljbGVDb250YWluZXJBZGFwdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIgPSBudWxsKSB7XG4gIGNvbnN0IHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuICBpZiAodG90YWxJbmRpY2VzID4gNjU1MzUpIHtcbiAgICBvdXRCdWZmZXIgfHwgKG91dEJ1ZmZlciA9IG5ldyBVaW50MzJBcnJheSh0b3RhbEluZGljZXMpKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRCdWZmZXIgfHwgKG91dEJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpKTtcbiAgfVxuICBpZiAob3V0QnVmZmVyLmxlbmd0aCAhPT0gdG90YWxJbmRpY2VzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCAke291dEJ1ZmZlci5sZW5ndGh9IGFuZCBleHBlY3RlZCAke3RvdGFsSW5kaWNlc31gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KSB7XG4gICAgb3V0QnVmZmVyW2kgKyAwXSA9IGogKyAwO1xuICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgb3V0QnVmZmVyW2kgKyAzXSA9IGogKyAwO1xuICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gIH1cbiAgcmV0dXJuIG91dEJ1ZmZlcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlSW5kaWNlc0ZvclF1YWRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS91dGlscy9nZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiB7XG4gICAgZHluYW1pY1VwZGF0ZTogZ2VuZXJhdGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzLCB0cnVlKSxcbiAgICBzdGF0aWNVcGRhdGU6IGdlbmVyYXRlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcywgZmFsc2UpXG4gIH07XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVVwZGF0ZUZ1bmN0aW9uKHByb3BlcnRpZXMsIGR5bmFtaWMpIHtcbiAgY29uc3QgZnVuY0ZyYWdtZW50cyA9IFtdO1xuICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcCA9IHBzW2ldO1xuXG4gICAgICAgICAgICBgKTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAoY29uc3QgaSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIGlmIChkeW5hbWljICE9PSBwcm9wZXJ0eS5keW5hbWljKVxuICAgICAgY29udGludWU7XG4gICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBvZmZzZXQgPSBpbmRleCArICR7b2Zmc2V0fWApO1xuICAgIGZ1bmNGcmFnbWVudHMucHVzaChwcm9wZXJ0eS5jb2RlKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVJbmZvID0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQocHJvcGVydHkuZm9ybWF0KTtcbiAgICBvZmZzZXQgKz0gYXR0cmlidXRlSW5mby5zdHJpZGUgLyA0O1xuICB9XG4gIGZ1bmNGcmFnbWVudHMucHVzaChgXG4gICAgICAgICAgICBpbmRleCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgYCk7XG4gIGZ1bmNGcmFnbWVudHMudW5zaGlmdChgXG4gICAgICAgIHZhciBzdHJpZGUgPSAke29mZnNldH07XG4gICAgYCk7XG4gIGNvbnN0IGZ1bmN0aW9uU291cmNlID0gZnVuY0ZyYWdtZW50cy5qb2luKFwiXFxuXCIpO1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwicHNcIiwgXCJmMzJ2XCIsIFwidTMydlwiLCBmdW5jdGlvblNvdXJjZSk7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uLm1qcy5tYXBcbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9CdWZmZXIubWpzJztcbmltcG9ydCB7IEJ1ZmZlclVzYWdlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L0dlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L3V0aWxzL2dldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0Lm1qcyc7XG5pbXBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RhdGEvVmlld2FibGVCdWZmZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9IGZyb20gJy4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzL2dlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFBhcnRpY2xlQnVmZmVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICAgIHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZSA9IHt9O1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zaXplID0gb3B0aW9ucy5zaXplID8/IDFlMztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICAgIGxldCBzdGF0aWNWZXJ0ZXhTaXplID0gMDtcbiAgICBsZXQgZHluYW1pY1ZlcnRleFNpemUgPSAwO1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICBjb25zdCBhdHRyaWJ1dGVJbmZvID0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQocHJvcGVydHkuZm9ybWF0KTtcbiAgICAgIGlmIChwcm9wZXJ0eS5keW5hbWljKSB7XG4gICAgICAgIGR5bmFtaWNWZXJ0ZXhTaXplICs9IGF0dHJpYnV0ZUluZm8uc3RyaWRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGljVmVydGV4U2l6ZSArPSBhdHRyaWJ1dGVJbmZvLnN0cmlkZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZHluYW1pY1N0cmlkZSA9IGR5bmFtaWNWZXJ0ZXhTaXplIC8gNDtcbiAgICB0aGlzLl9zdGF0aWNTdHJpZGUgPSBzdGF0aWNWZXJ0ZXhTaXplIC8gNDtcbiAgICB0aGlzLnN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihzaXplICogNCAqIHN0YXRpY1ZlcnRleFNpemUpO1xuICAgIHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihzaXplICogNCAqIGR5bmFtaWNWZXJ0ZXhTaXplKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUpO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgbGV0IGR5bmFtaWNPZmZzZXQgPSAwO1xuICAgIGxldCBzdGF0aWNPZmZzZXQgPSAwO1xuICAgIHRoaXMuX3N0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogbmV3IEZsb2F0MzJBcnJheSgxKSxcbiAgICAgIGxhYmVsOiBcInN0YXRpYy1wYXJ0aWNsZS1idWZmZXJcIixcbiAgICAgIHNocmlua1RvRml0OiBmYWxzZSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5WRVJURVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pO1xuICAgIHRoaXMuX2R5bmFtaWNCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkoMSksXG4gICAgICBsYWJlbDogXCJkeW5hbWljLXBhcnRpY2xlLWJ1ZmZlclwiLFxuICAgICAgc2hyaW5rVG9GaXQ6IGZhbHNlLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlZFUlRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUluZm8gPSBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChwcm9wZXJ0eS5mb3JtYXQpO1xuICAgICAgaWYgKHByb3BlcnR5LmR5bmFtaWMpIHtcbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHtcbiAgICAgICAgICBidWZmZXI6IHRoaXMuX2R5bmFtaWNCdWZmZXIsXG4gICAgICAgICAgc3RyaWRlOiB0aGlzLl9keW5hbWljU3RyaWRlICogNCxcbiAgICAgICAgICBvZmZzZXQ6IGR5bmFtaWNPZmZzZXQgKiA0LFxuICAgICAgICAgIGZvcm1hdDogcHJvcGVydHkuZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IGF0dHJpYnV0ZUluZm8uc2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB7XG4gICAgICAgICAgYnVmZmVyOiB0aGlzLl9zdGF0aWNCdWZmZXIsXG4gICAgICAgICAgc3RyaWRlOiB0aGlzLl9zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICAgIG9mZnNldDogc3RhdGljT2Zmc2V0ICogNCxcbiAgICAgICAgICBmb3JtYXQ6IHByb3BlcnR5LmZvcm1hdFxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGljT2Zmc2V0ICs9IGF0dHJpYnV0ZUluZm8uc2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgY29uc3QgdXBsb2FkRnVuY3Rpb24gPSB0aGlzLmdldFBhcnRpY2xlVXBkYXRlKHByb3BlcnRpZXMpO1xuICAgIHRoaXMuX2R5bmFtaWNVcGxvYWQgPSB1cGxvYWRGdW5jdGlvbi5keW5hbWljVXBkYXRlO1xuICAgIHRoaXMuX3N0YXRpY1VwbG9hZCA9IHVwbG9hZEZ1bmN0aW9uLnN0YXRpY1VwZGF0ZTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gIH1cbiAgZ2V0UGFydGljbGVVcGRhdGUocHJvcGVydGllcykge1xuICAgIGNvbnN0IGtleSA9IGdldFBhcnRpY2xlU3luY0tleShwcm9wZXJ0aWVzKTtcbiAgICBpZiAodGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlW2tleV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgdGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlW2tleV0gPSB0aGlzLmdlbmVyYXRlUGFydGljbGVVcGRhdGUocHJvcGVydGllcyk7XG4gICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZVtrZXldO1xuICB9XG4gIGdlbmVyYXRlUGFydGljbGVVcGRhdGUocHJvcGVydGllcykge1xuICAgIHJldHVybiBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcyk7XG4gIH1cbiAgdXBkYXRlKHBhcnRpY2xlcywgdXBsb2FkU3RhdGljKSB7XG4gICAgaWYgKHBhcnRpY2xlcy5sZW5ndGggPiB0aGlzLl9zaXplKSB7XG4gICAgICB1cGxvYWRTdGF0aWMgPSB0cnVlO1xuICAgICAgdGhpcy5fc2l6ZSA9IE1hdGgubWF4KHBhcnRpY2xlcy5sZW5ndGgsIHRoaXMuX3NpemUgKiAxLjUgfCAwKTtcbiAgICAgIHRoaXMuc3RhdGljQXR0cmlidXRlQnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHRoaXMuX3NpemUgKiB0aGlzLl9zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICB0aGlzLmR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIodGhpcy5fc2l6ZSAqIHRoaXMuX2R5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICB0aGlzLmluZGV4QnVmZmVyID0gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuX3NpemUpO1xuICAgICAgdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5zZXREYXRhV2l0aFNpemUoXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIsXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlcjtcbiAgICB0aGlzLl9keW5hbWljVXBsb2FkKHBhcnRpY2xlcywgZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldywgZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlci51aW50MzJWaWV3KTtcbiAgICB0aGlzLl9keW5hbWljQnVmZmVyLnNldERhdGFXaXRoU2l6ZShcbiAgICAgIHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldyxcbiAgICAgIHBhcnRpY2xlcy5sZW5ndGggKiB0aGlzLl9keW5hbWljU3RyaWRlICogNCxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIGlmICh1cGxvYWRTdGF0aWMpIHtcbiAgICAgIGNvbnN0IHN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuc3RhdGljQXR0cmlidXRlQnVmZmVyO1xuICAgICAgdGhpcy5fc3RhdGljVXBsb2FkKHBhcnRpY2xlcywgc3RhdGljQXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3LCBzdGF0aWNBdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldyk7XG4gICAgICB0aGlzLl9zdGF0aWNCdWZmZXIuc2V0RGF0YVdpdGhTaXplKFxuICAgICAgICBzdGF0aWNBdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsXG4gICAgICAgIHBhcnRpY2xlcy5sZW5ndGggKiB0aGlzLl9zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3N0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5fZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFBhcnRpY2xlU3luY0tleShwcm9wZXJ0aWVzKSB7XG4gIGNvbnN0IGtleUdlbiA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAga2V5R2VuLnB1c2goa2V5LCBwcm9wZXJ0eS5jb2RlLCBwcm9wZXJ0eS5keW5hbWljID8gXCJkXCIgOiBcInNcIik7XG4gIH1cbiAgcmV0dXJuIGtleUdlbi5qb2luKFwiX1wiKTtcbn1cblxuZXhwb3J0IHsgUGFydGljbGVCdWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQnVmZmVyLm1qcy5tYXBcbiIsInZhciB3Z3NsID0gXCJcXG5zdHJ1Y3QgUGFydGljbGVVbmlmb3JtcyB7XFxuICB1UHJvamVjdGlvbk1hdHJpeDptYXQzeDM8ZjMyPixcXG4gIHVDb2xvcjp2ZWM0PGYzMj4sXFxuICB1UmVzb2x1dGlvbjp2ZWMyPGYzMj4sXFxuICB1Um91bmRQaXhlbHM6ZjMyLFxcbn07XFxuXFxuQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogUGFydGljbGVVbmlmb3JtcztcXG5cXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB1U2FtcGxlciA6IHNhbXBsZXI7XFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAgIEBsb2NhdGlvbigwKSB1diA6IHZlYzI8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDEpIGNvbG9yIDogdmVjNDxmMzI+LFxcbiAgfTtcXG5AdmVydGV4XFxuZm4gbWFpblZlcnRleChcXG4gIEBsb2NhdGlvbigwKSBhVmVydGV4OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgYVBvc2l0aW9uOiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMikgYVVWOiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMykgYUNvbG9yOiB2ZWM0PGYzMj4sXFxuICBAbG9jYXRpb24oNCkgYVJvdGF0aW9uOiBmMzIsXFxuKSAtPiBWU091dHB1dCB7XFxuICBcXG4gICBsZXQgdiA9IHZlYzIoXFxuICAgICAgIGFWZXJ0ZXgueCAqIGNvcyhhUm90YXRpb24pIC0gYVZlcnRleC55ICogc2luKGFSb3RhdGlvbiksXFxuICAgICAgIGFWZXJ0ZXgueCAqIHNpbihhUm90YXRpb24pICsgYVZlcnRleC55ICogY29zKGFSb3RhdGlvbilcXG4gICApICsgYVBvc2l0aW9uO1xcblxcbiAgIGxldCBwb3NpdGlvbiA9IHZlYzQoKHVuaWZvcm1zLnVQcm9qZWN0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICBsZXQgdkNvbG9yID0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKSAqIHVuaWZvcm1zLnVDb2xvcjtcXG5cXG4gIHJldHVybiBWU091dHB1dChcXG4gICBwb3NpdGlvbixcXG4gICBhVVYsXFxuICAgdkNvbG9yLFxcbiAgKTtcXG59XFxuXFxuQGZyYWdtZW50XFxuZm4gbWFpbkZyYWdtZW50KFxcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgY29sb3I6IHZlYzQ8ZjMyPixcXG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuXFxuICAgIHZhciBzYW1wbGUgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdXYpICogY29sb3I7XFxuICAgXFxuICAgIHJldHVybiBzYW1wbGU7XFxufVwiO1xuXG5leHBvcnQgeyB3Z3NsIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy53Z3NsLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU3R5bGUgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVTdHlsZS5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vcGFydGljbGVzLmZyYWcubWpzJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9wYXJ0aWNsZXMudmVydC5tanMnO1xuaW1wb3J0IHdnc2wgZnJvbSAnLi9wYXJ0aWNsZXMud2dzbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFBhcnRpY2xlU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnRcbiAgICB9KTtcbiAgICBjb25zdCBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIHNvdXJjZTogd2dzbCxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluRnJhZ21lbnRcIlxuICAgICAgfSxcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBzb3VyY2U6IHdnc2wsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblZlcnRleFwiXG4gICAgICB9XG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGV4dHVyZSBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdVRleHR1cmU6IFRleHR1cmUuV0hJVEUuc291cmNlLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGV4dHVyZSBzdHlsZSBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdVNhbXBsZXI6IG5ldyBUZXh0dXJlU3R5bGUoe30pLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbG9jYWwgdW5pZm9ybXMgZnJvbSB0aGUgcGFydGljbGUgY29udGFpbmVyXG4gICAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgICAgdVRyYW5zbGF0aW9uTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IENvbG9yKDE2Nzc3MjE1KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgICAgIHVSb3VuZDogeyB2YWx1ZTogMSwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgICAgIHVSZXNvbHV0aW9uOiB7IHZhbHVlOiBbMCwgMF0sIHR5cGU6IFwidmVjMjxmMzI+XCIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFydGljbGVTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlU2hhZGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXg7XFxuYXR0cmlidXRlIHZlYzIgYVVWO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdVRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVJvdW5kO1xcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52ZWMyIHJvdW5kUGl4ZWxzKHZlYzIgcG9zaXRpb24sIHZlYzIgdGFyZ2V0U2l6ZSlcXG57ICAgICAgIFxcbiAgICByZXR1cm4gKGZsb29yKCgocG9zaXRpb24gKiAwLjUgKyAwLjUpICogdGFyZ2V0U2l6ZSkgKyAwLjUpIC8gdGFyZ2V0U2l6ZSkgKiAyLjAgLSAxLjA7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgY29zUm90YXRpb24gPSBjb3MoYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgc2luUm90YXRpb24gPSBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeCA9IGFWZXJ0ZXgueCAqIGNvc1JvdGF0aW9uIC0gYVZlcnRleC55ICogc2luUm90YXRpb247XFxuICAgIGZsb2F0IHkgPSBhVmVydGV4LnggKiBzaW5Sb3RhdGlvbiArIGFWZXJ0ZXgueSAqIGNvc1JvdGF0aW9uO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbjtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh1VHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIGlmKHVSb3VuZCA9PSAxLjApXFxuICAgIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcXG4gICAgfVxcblxcbiAgICB2VVYgPSBhVVY7XFxuICAgIHZDb2xvciA9IHZlYzQoYUNvbG9yLnJnYiAqIGFDb2xvci5hLCBhQ29sb3IuYSkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyB2ZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLnZlcnQubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlVWO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VVYpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5mcmFnLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZUJ1ZmZlciB9IGZyb20gJy4vUGFydGljbGVCdWZmZXIubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvUGFydGljbGVTaGFkZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUge1xuICAvKipcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICogQHBhcmFtIGFkYXB0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5fZ3B1QnVmZmVySGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmxvY2FsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVUcmFuc2xhdGlvbk1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVJvdW5kOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICB1UmVzb2x1dGlvbjogeyB2YWx1ZTogWzAsIDBdLCB0eXBlOiBcInZlYzI8ZjMyPlwiIH1cbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLmRlZmF1bHRTaGFkZXIgPSBuZXcgUGFydGljbGVTaGFkZXIoKTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoX3JlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShyZW5kZXJhYmxlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChyZW5kZXJhYmxlKTtcbiAgfVxuICBnZXRCdWZmZXJzKHJlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1QnVmZmVySGFzaFtyZW5kZXJhYmxlLnVpZF0gfHwgdGhpcy5faW5pdEJ1ZmZlcihyZW5kZXJhYmxlKTtcbiAgfVxuICBfaW5pdEJ1ZmZlcihyZW5kZXJhYmxlKSB7XG4gICAgdGhpcy5fZ3B1QnVmZmVySGFzaFtyZW5kZXJhYmxlLnVpZF0gPSBuZXcgUGFydGljbGVCdWZmZXIoe1xuICAgICAgc2l6ZTogcmVuZGVyYWJsZS5wYXJ0aWNsZUNoaWxkcmVuLmxlbmd0aCxcbiAgICAgIHByb3BlcnRpZXM6IHJlbmRlcmFibGUuX3Byb3BlcnRpZXNcbiAgICB9KTtcbiAgICByZW5kZXJhYmxlLm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiB0aGlzLl9ncHVCdWZmZXJIYXNoW3JlbmRlcmFibGUudWlkXTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKF9yZW5kZXJhYmxlKSB7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUocmVuZGVyYWJsZSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2dwdUJ1ZmZlckhhc2hbcmVuZGVyYWJsZS51aWRdO1xuICAgIGJ1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5fZ3B1QnVmZmVySGFzaFtyZW5kZXJhYmxlLnVpZF0gPSBudWxsO1xuICAgIHJlbmRlcmFibGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIGV4ZWN1dGUoY29udGFpbmVyKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIucGFydGljbGVDaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLmdldEJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICBjb250YWluZXIudGV4dHVyZSB8fCAoY29udGFpbmVyLnRleHR1cmUgPSBjaGlsZHJlblswXS50ZXh0dXJlKTtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgYnVmZmVyLnVwZGF0ZShjaGlsZHJlbiwgY29udGFpbmVyLl9jaGlsZHJlbkRpcnR5KTtcbiAgICBjb250YWluZXIuX2NoaWxkcmVuRGlydHkgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKGNvbnRhaW5lci5ibGVuZE1vZGUsIGNvbnRhaW5lci50ZXh0dXJlLl9zb3VyY2UpO1xuICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uTWF0cml4ID0gdW5pZm9ybXMudVRyYW5zbGF0aW9uTWF0cml4O1xuICAgIGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odHJhbnNmb3JtYXRpb25NYXRyaXgpO1xuICAgIHRyYW5zZm9ybWF0aW9uTWF0cml4LnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuZ2xvYmFsVW5pZm9ybURhdGEucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgdW5pZm9ybXMudVJlc29sdXRpb24gPSByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5nbG9iYWxVbmlmb3JtRGF0YS5yZXNvbHV0aW9uO1xuICAgIHVuaWZvcm1zLnVSb3VuZCA9IHJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IGNvbnRhaW5lci5fcm91bmRQaXhlbHM7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGEsXG4gICAgICB1bmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLmFkYXB0b3IuZXhlY3V0ZSh0aGlzLCBjb250YWluZXIpO1xuICB9XG4gIC8qKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci4gKi9cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5kZWZhdWx0U2hhZGVyKSB7XG4gICAgICB0aGlzLmRlZmF1bHRTaGFkZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5kZWZhdWx0U2hhZGVyID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFydGljbGVDb250YWluZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IgfSBmcm9tICcuLi9nbC9HbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMnO1xuaW1wb3J0IHsgUGFydGljbGVDb250YWluZXJQaXBlIH0gZnJvbSAnLi9QYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHbFBhcnRpY2xlQ29udGFpbmVyUGlwZSBleHRlbmRzIFBhcnRpY2xlQ29udGFpbmVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIsIG5ldyBHbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvcigpKTtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdsUGFydGljbGVDb250YWluZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlc1xuICBdLFxuICBuYW1lOiBcInBhcnRpY2xlXCJcbn07XG5cbmV4cG9ydCB7IEdsUGFydGljbGVDb250YWluZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB7XG4gIGV4ZWN1dGUocGFydGljbGVDb250YWluZXJQaXBlLCBjb250YWluZXIpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5yZW5kZXJlcjtcbiAgICBjb25zdCBzaGFkZXIgPSBjb250YWluZXIuc2hhZGVyIHx8IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5kZWZhdWx0U2hhZGVyO1xuICAgIHNoYWRlci5ncm91cHNbMF0gPSByZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2guZ2V0VW5pZm9ybUJpbmRHcm91cChwYXJ0aWNsZUNvbnRhaW5lclBpcGUubG9jYWxVbmlmb3JtcywgdHJ1ZSk7XG4gICAgc2hhZGVyLmdyb3Vwc1sxXSA9IHJlbmRlcmVyLnRleHR1cmUuZ2V0VGV4dHVyZUJpbmRHcm91cChjb250YWluZXIudGV4dHVyZSk7XG4gICAgY29uc3Qgc3RhdGUgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuc3RhdGU7XG4gICAgY29uc3QgYnVmZmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLmdldEJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICByZW5kZXJlci5lbmNvZGVyLmRyYXcoe1xuICAgICAgZ2VvbWV0cnk6IGJ1ZmZlci5nZW9tZXRyeSxcbiAgICAgIHNoYWRlcjogY29udGFpbmVyLnNoYWRlciB8fCBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuZGVmYXVsdFNoYWRlcixcbiAgICAgIHN0YXRlLFxuICAgICAgc2l6ZTogY29udGFpbmVyLnBhcnRpY2xlQ2hpbGRyZW4ubGVuZ3RoICogNlxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB9IGZyb20gJy4uL2dwdS9HcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyUGlwZSB9IGZyb20gJy4vUGFydGljbGVDb250YWluZXJQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgR3B1UGFydGljbGVDb250YWluZXJQaXBlIGV4dGVuZHMgUGFydGljbGVDb250YWluZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlciwgbmV3IEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvcigpKTtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzXG4gIF0sXG4gIG5hbWU6IFwicGFydGljbGVcIlxufTtcblxuZXhwb3J0IHsgR3B1UGFydGljbGVDb250YWluZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfSBmcm9tICcuL3NoYXJlZC9HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMnO1xuaW1wb3J0IHsgR3B1UGFydGljbGVDb250YWluZXJQaXBlIH0gZnJvbSAnLi9zaGFyZWQvR3B1UGFydGljbGVDb250YWluZXJQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUpO1xuZXh0ZW5zaW9ucy5hZGQoR3B1UGFydGljbGVDb250YWluZXJQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgUGxhbmVHZW9tZXRyeSB9IGZyb20gJy4uL21lc2gtcGxhbmUvUGxhbmVHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9OaW5lU2xpY2VHZW9tZXRyeSA9IGNsYXNzIF9OaW5lU2xpY2VHZW9tZXRyeSBleHRlbmRzIFBsYW5lR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0geyAuLi5fTmluZVNsaWNlR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBzdXBlcih7XG4gICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgICB2ZXJ0aWNlc1g6IDQsXG4gICAgICB2ZXJ0aWNlc1k6IDRcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZShvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgTmluZVNsaWNlR2VvbWV0cnkgd2l0aCB0aGUgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvZiB0aGUgTmluZVNsaWNlR2VvbWV0cnkuXG4gICAqL1xuICB1cGRhdGUob3B0aW9ucykge1xuICAgIHRoaXMud2lkdGggPSBvcHRpb25zLndpZHRoID8/IHRoaXMud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCA/PyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLl9vcmlnaW5hbFdpZHRoID0gb3B0aW9ucy5vcmlnaW5hbFdpZHRoID8/IHRoaXMuX29yaWdpbmFsV2lkdGg7XG4gICAgdGhpcy5fb3JpZ2luYWxIZWlnaHQgPSBvcHRpb25zLm9yaWdpbmFsSGVpZ2h0ID8/IHRoaXMuX29yaWdpbmFsSGVpZ2h0O1xuICAgIHRoaXMuX2xlZnRXaWR0aCA9IG9wdGlvbnMubGVmdFdpZHRoID8/IHRoaXMuX2xlZnRXaWR0aDtcbiAgICB0aGlzLl9yaWdodFdpZHRoID0gb3B0aW9ucy5yaWdodFdpZHRoID8/IHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgdGhpcy5fdG9wSGVpZ2h0ID0gb3B0aW9ucy50b3BIZWlnaHQgPz8gdGhpcy5fdG9wSGVpZ2h0O1xuICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IG9wdGlvbnMuYm90dG9tSGVpZ2h0ID8/IHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIHRoaXMudXBkYXRlUG9zaXRpb25zKCk7XG4gIH1cbiAgLyoqIFVwZGF0ZXMgdGhlIHBvc2l0aW9ucyBvZiB0aGUgdmVydGljZXMuICovXG4gIHVwZGF0ZVBvc2l0aW9ucygpIHtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLnBvc2l0aW9ucztcbiAgICBjb25zdCB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICBjb25zdCBzY2FsZVcgPSB0aGlzLndpZHRoID4gdyA/IDEgOiB0aGlzLndpZHRoIC8gdztcbiAgICBjb25zdCBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIGNvbnN0IHNjYWxlSCA9IHRoaXMuaGVpZ2h0ID4gaCA/IDEgOiB0aGlzLmhlaWdodCAvIGg7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCk7XG4gICAgcG9zaXRpb25zWzldID0gcG9zaXRpb25zWzExXSA9IHBvc2l0aW9uc1sxM10gPSBwb3NpdGlvbnNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgcG9zaXRpb25zWzE3XSA9IHBvc2l0aW9uc1sxOV0gPSBwb3NpdGlvbnNbMjFdID0gcG9zaXRpb25zWzIzXSA9IHRoaXMuaGVpZ2h0IC0gdGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGU7XG4gICAgcG9zaXRpb25zWzI1XSA9IHBvc2l0aW9uc1syN10gPSBwb3NpdGlvbnNbMjldID0gcG9zaXRpb25zWzMxXSA9IHRoaXMuaGVpZ2h0O1xuICAgIHBvc2l0aW9uc1syXSA9IHBvc2l0aW9uc1sxMF0gPSBwb3NpdGlvbnNbMThdID0gcG9zaXRpb25zWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgIHBvc2l0aW9uc1s0XSA9IHBvc2l0aW9uc1sxMl0gPSBwb3NpdGlvbnNbMjBdID0gcG9zaXRpb25zWzI4XSA9IHRoaXMud2lkdGggLSB0aGlzLl9yaWdodFdpZHRoICogc2NhbGU7XG4gICAgcG9zaXRpb25zWzZdID0gcG9zaXRpb25zWzE0XSA9IHBvc2l0aW9uc1syMl0gPSBwb3NpdGlvbnNbMzBdID0gdGhpcy53aWR0aDtcbiAgICB0aGlzLmdldEJ1ZmZlcihcImFQb3NpdGlvblwiKS51cGRhdGUoKTtcbiAgfVxuICAvKiogVXBkYXRlcyB0aGUgVVZzIG9mIHRoZSB2ZXJ0aWNlcy4gKi9cbiAgdXBkYXRlVXZzKCkge1xuICAgIGNvbnN0IHV2cyA9IHRoaXMudXZzO1xuICAgIHV2c1swXSA9IHV2c1s4XSA9IHV2c1sxNl0gPSB1dnNbMjRdID0gMDtcbiAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgdXZzWzI1XSA9IHV2c1syN10gPSB1dnNbMjldID0gdXZzWzMxXSA9IDE7XG4gICAgY29uc3QgX3V2dyA9IDEgLyB0aGlzLl9vcmlnaW5hbFdpZHRoO1xuICAgIGNvbnN0IF91dmggPSAxIC8gdGhpcy5fb3JpZ2luYWxIZWlnaHQ7XG4gICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSBfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aDtcbiAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgdGhpcy5nZXRCdWZmZXIoXCJhVVZcIikudXBkYXRlKCk7XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgdGhlIE5pbmVTbGljZUdlb21ldHJ5LiAqL1xuX05pbmVTbGljZUdlb21ldHJ5LmRlZmF1bHRPcHRpb25zID0ge1xuICAvKiogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lLiAqL1xuICB3aWR0aDogMTAwLFxuICAvKiogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZS4gKi9cbiAgaGVpZ2h0OiAxMDAsXG4gIC8qKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uLiAqL1xuICBsZWZ0V2lkdGg6IDEwLFxuICAvKiogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdy4gKi9cbiAgdG9wSGVpZ2h0OiAxMCxcbiAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uLiAqL1xuICByaWdodFdpZHRoOiAxMCxcbiAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cuICovXG4gIGJvdHRvbUhlaWdodDogMTAsXG4gIC8qKiBUaGUgb3JpZ2luYWwgd2lkdGggb2YgdGhlIHRleHR1cmUgKi9cbiAgb3JpZ2luYWxXaWR0aDogMTAwLFxuICAvKiogVGhlIG9yaWdpbmFsIGhlaWdodCBvZiB0aGUgdGV4dHVyZSAqL1xuICBvcmlnaW5hbEhlaWdodDogMTAwXG59O1xubGV0IE5pbmVTbGljZUdlb21ldHJ5ID0gX05pbmVTbGljZUdlb21ldHJ5O1xuXG5leHBvcnQgeyBOaW5lU2xpY2VHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmluZVNsaWNlR2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvQmF0Y2hhYmxlTWVzaC5tanMnO1xuaW1wb3J0IHsgTmluZVNsaWNlR2VvbWV0cnkgfSBmcm9tICcuL05pbmVTbGljZUdlb21ldHJ5Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTmluZVNsaWNlU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1U3ByaXRlSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJhYmxlR0MuYWRkTWFuYWdlZEhhc2godGhpcywgXCJfZ3B1U3ByaXRlSGFzaFwiKTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoc3ByaXRlLmRpZFZpZXdVcGRhdGUpXG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBncHVTcHJpdGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goZ3B1U3ByaXRlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdO1xuICAgIGlmIChzcHJpdGUuZGlkVmlld1VwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgZ3B1U3ByaXRlLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1U3ByaXRlKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgcmV0dXJuICFncHVTcHJpdGUuX2JhdGNoZXIuY2hlY2tBbmRVcGRhdGVUZXh0dXJlKFxuICAgICAgZ3B1U3ByaXRlLFxuICAgICAgc3ByaXRlLl90ZXh0dXJlXG4gICAgKTtcbiAgfVxuICBkZXN0cm95UmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGhpcy5fZ3B1U3ByaXRlSGFzaFtzcHJpdGUudWlkXTtcbiAgICBCaWdQb29sLnJldHVybihiYXRjaGFibGVNZXNoLmdlb21ldHJ5KTtcbiAgICBCaWdQb29sLnJldHVybihiYXRjaGFibGVNZXNoKTtcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdID0gbnVsbDtcbiAgICBzcHJpdGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVTcHJpdGUpIHtcbiAgICBiYXRjaGFibGVTcHJpdGUuZ2VvbWV0cnkudXBkYXRlKHNwcml0ZSk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gIH1cbiAgX2dldEdwdVNwcml0ZShzcHJpdGUpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1U3ByaXRlSGFzaFtzcHJpdGUudWlkXSB8fCB0aGlzLl9pbml0R1BVU3ByaXRlKHNwcml0ZSk7XG4gIH1cbiAgX2luaXRHUFVTcHJpdGUoc3ByaXRlKSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlTWVzaCA9IEJpZ1Bvb2wuZ2V0KEJhdGNoYWJsZU1lc2gpO1xuICAgIGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkgPSBCaWdQb29sLmdldChOaW5lU2xpY2VHZW9tZXRyeSk7XG4gICAgYmF0Y2hhYmxlTWVzaC5yZW5kZXJhYmxlID0gc3ByaXRlO1xuICAgIGJhdGNoYWJsZU1lc2gudHJhbnNmb3JtID0gc3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZU1lc2gudGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBiYXRjaGFibGVNZXNoLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgc3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdID0gYmF0Y2hhYmxlTWVzaDtcbiAgICBpZiAoIXNwcml0ZS5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVNZXNoKTtcbiAgICB9XG4gICAgc3ByaXRlLm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiBiYXRjaGFibGVNZXNoO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVNwcml0ZUhhc2gpIHtcbiAgICAgIGNvbnN0IGJhdGNoYWJsZU1lc2ggPSB0aGlzLl9ncHVTcHJpdGVIYXNoW2ldO1xuICAgICAgYmF0Y2hhYmxlTWVzaC5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2ggPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbk5pbmVTbGljZVNwcml0ZVBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcIm5pbmVTbGljZVNwcml0ZVwiXG59O1xuXG5leHBvcnQgeyBOaW5lU2xpY2VTcHJpdGVQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE5pbmVTbGljZVNwcml0ZVBpcGUgfSBmcm9tICcuL05pbmVTbGljZVNwcml0ZVBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChOaW5lU2xpY2VTcHJpdGVQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0aWxpbmdCaXQgPSB7XG4gIG5hbWU6IFwidGlsaW5nLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBUaWxpbmdVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdU1hcENvb3JkOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcEZyYW1lOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBPZmZzZXQ6dmVjMjxmMzI+LFxuICAgICAgICAgICAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVTaXplQW5jaG9yOnZlYzQ8ZjMyPlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB0aWxpbmdVbmlmb3JtczogVGlsaW5nVW5pZm9ybXM7XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh0aWxpbmdVbmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybSAqIHZlYzModXYsIDEuMCkpLnh5O1xuXG4gICAgICAgICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiAtIHRpbGluZ1VuaWZvcm1zLnVTaXplQW5jaG9yLnp3KSAqIHRpbGluZ1VuaWZvcm1zLnVTaXplQW5jaG9yLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IFRpbGluZ1VuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1TWFwQ29vcmQ6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNsYW1wRnJhbWU6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcE9mZnNldDp2ZWMyPGYzMj4sXG4gICAgICAgICAgICAgICAgdVRleHR1cmVUcmFuc2Zvcm06bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdVNpemVBbmNob3I6dmVjNDxmMzI+XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IHRpbGluZ1VuaWZvcm1zOiBUaWxpbmdVbmlmb3JtcztcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygxKSB2YXIgdVRleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXI6IHNhbXBsZXI7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgdmFyIGNvb3JkID0gdlVWICsgY2VpbCh0aWxpbmdVbmlmb3Jtcy51Q2xhbXBPZmZzZXQgLSB2VVYpO1xuICAgICAgICAgICAgY29vcmQgPSAodGlsaW5nVW5pZm9ybXMudU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XG4gICAgICAgICAgICB2YXIgdW5jbGFtcGVkID0gY29vcmQ7XG4gICAgICAgICAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB0aWxpbmdVbmlmb3Jtcy51Q2xhbXBGcmFtZS54eSwgdGlsaW5nVW5pZm9ybXMudUNsYW1wRnJhbWUuencpO1xuXG4gICAgICAgICAgICB2YXIgYmlhcyA9IDAuO1xuXG4gICAgICAgICAgICBpZih1bmNsYW1wZWQueCA9PSBjb29yZC54ICYmIHVuY2xhbXBlZC55ID09IGNvb3JkLnkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmlhcyA9IC0zMi47XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmVTYW1wbGVCaWFzKHVUZXh0dXJlLCB1U2FtcGxlciwgY29vcmQsIGJpYXMpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgdGlsaW5nQml0R2wgPSB7XG4gIG5hbWU6IFwidGlsaW5nLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VGV4dHVyZVRyYW5zZm9ybTtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1U2l6ZUFuY2hvcjtcbiAgICAgICAgXG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHVUZXh0dXJlVHJhbnNmb3JtICogdmVjMyhhVVYsIDEuMCkpLnh5O1xuXG4gICAgICAgICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiAtIHVTaXplQW5jaG9yLnp3KSAqIHVTaXplQW5jaG9yLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgIHZlYzIgY29vcmQgPSB2VVYgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZVVik7XG4gICAgICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xuICAgICAgICB2ZWMyIHVuY2xhbXBlZCA9IGNvb3JkO1xuICAgICAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xuICAgICAgICBcbiAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVUZXh0dXJlLCBjb29yZCwgdW5jbGFtcGVkID09IGNvb3JkID8gMC4wIDogLTMyLjApOy8vIGxvZC1iaWFzIHZlcnkgbmVnYXRpdmUgdG8gZm9yY2UgbG9kIDBcbiAgICBcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgdGlsaW5nQml0LCB0aWxpbmdCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsaW5nQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSwgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzJztcbmltcG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtQml0Lm1qcyc7XG5pbXBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgdGlsaW5nQml0LCB0aWxpbmdCaXRHbCB9IGZyb20gJy4vdGlsaW5nQml0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IGdwdVByb2dyYW07XG5sZXQgZ2xQcm9ncmFtO1xuY2xhc3MgVGlsaW5nU3ByaXRlU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZ3B1UHJvZ3JhbSA/PyAoZ3B1UHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInRpbGluZy1zcHJpdGUtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGxvY2FsVW5pZm9ybUJpdCxcbiAgICAgICAgdGlsaW5nQml0LFxuICAgICAgICByb3VuZFBpeGVsc0JpdFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBnbFByb2dyYW0gPz8gKGdsUHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwidGlsaW5nLXNwcml0ZS1zaGFkZXJcIixcbiAgICAgIGJpdHM6IFtcbiAgICAgICAgbG9jYWxVbmlmb3JtQml0R2wsXG4gICAgICAgIHRpbGluZ0JpdEdsLFxuICAgICAgICByb3VuZFBpeGVsc0JpdEdsXG4gICAgICBdXG4gICAgfSkpO1xuICAgIGNvbnN0IHRpbGluZ1VuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1TWFwQ29vcmQ6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1Q2xhbXBGcmFtZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1Q2xhbXBPZmZzZXQ6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDBdKSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9LFxuICAgICAgdVRleHR1cmVUcmFuc2Zvcm06IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1U2l6ZUFuY2hvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMTAwLCAxMDAsIDAuNSwgMC41XSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfVxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgbG9jYWxVbmlmb3JtczogbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgICAgIH0pLFxuICAgICAgICB0aWxpbmdVbmlmb3JtcyxcbiAgICAgICAgdVRleHR1cmU6IFRleHR1cmUuRU1QVFkuc291cmNlLFxuICAgICAgICB1U2FtcGxlcjogVGV4dHVyZS5FTVBUWS5zb3VyY2Uuc3R5bGVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB1cGRhdGVVbmlmb3Jtcyh3aWR0aCwgaGVpZ2h0LCBtYXRyaXgsIGFuY2hvclgsIGFuY2hvclksIHRleHR1cmUpIHtcbiAgICBjb25zdCB0aWxpbmdVbmlmb3JtcyA9IHRoaXMucmVzb3VyY2VzLnRpbGluZ1VuaWZvcm1zO1xuICAgIGNvbnN0IHRleHR1cmVXaWR0aCA9IHRleHR1cmUud2lkdGg7XG4gICAgY29uc3QgdGV4dHVyZUhlaWdodCA9IHRleHR1cmUuaGVpZ2h0O1xuICAgIGNvbnN0IHRleHR1cmVNYXRyaXggPSB0ZXh0dXJlLnRleHR1cmVNYXRyaXg7XG4gICAgY29uc3QgdVRleHR1cmVUcmFuc2Zvcm0gPSB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybTtcbiAgICB1VGV4dHVyZVRyYW5zZm9ybS5zZXQoXG4gICAgICBtYXRyaXguYSAqIHRleHR1cmVXaWR0aCAvIHdpZHRoLFxuICAgICAgbWF0cml4LmIgKiB0ZXh0dXJlV2lkdGggLyBoZWlnaHQsXG4gICAgICBtYXRyaXguYyAqIHRleHR1cmVIZWlnaHQgLyB3aWR0aCxcbiAgICAgIG1hdHJpeC5kICogdGV4dHVyZUhlaWdodCAvIGhlaWdodCxcbiAgICAgIG1hdHJpeC50eCAvIHdpZHRoLFxuICAgICAgbWF0cml4LnR5IC8gaGVpZ2h0XG4gICAgKTtcbiAgICB1VGV4dHVyZVRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51TWFwQ29vcmQgPSB0ZXh0dXJlTWF0cml4Lm1hcENvb3JkO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB0ZXh0dXJlTWF0cml4LnVDbGFtcE9mZnNldDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybSA9IHVUZXh0dXJlVHJhbnNmb3JtO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzBdID0gd2lkdGg7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVNpemVBbmNob3JbMV0gPSBoZWlnaHQ7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVNpemVBbmNob3JbMl0gPSBhbmNob3JYO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzNdID0gYW5jaG9yWTtcbiAgICBpZiAodGV4dHVyZSkge1xuICAgICAgdGhpcy5yZXNvdXJjZXMudVRleHR1cmUgPSB0ZXh0dXJlLnNvdXJjZTtcbiAgICAgIHRoaXMucmVzb3VyY2VzLnVTYW1wbGVyID0gdGV4dHVyZS5zb3VyY2Uuc3R5bGU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZVNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlU2hhZGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4uLy4uL21lc2gvc2hhcmVkL01lc2hHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFF1YWRHZW9tZXRyeSBleHRlbmRzIE1lc2hHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHBvc2l0aW9uczogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgdXZzOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSksXG4gICAgICBpbmRpY2VzOiBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFF1YWRHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZEdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvQmF0Y2hhYmxlTWVzaC5tanMnO1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvTWVzaEdlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVTaGFkZXIgfSBmcm9tICcuL3NoYWRlci9UaWxpbmdTcHJpdGVTaGFkZXIubWpzJztcbmltcG9ydCB7IFF1YWRHZW9tZXRyeSB9IGZyb20gJy4vdXRpbHMvUXVhZEdlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBzZXRQb3NpdGlvbnMgfSBmcm9tICcuL3V0aWxzL3NldFBvc2l0aW9ucy5tanMnO1xuaW1wb3J0IHsgc2V0VXZzIH0gZnJvbSAnLi91dGlscy9zZXRVdnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBzaGFyZWRRdWFkID0gbmV3IFF1YWRHZW9tZXRyeSgpO1xuY2xhc3MgVGlsaW5nU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5kZWZhdWx0MmQ7XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX3RpbGluZ1Nwcml0ZURhdGFIYXNoXCIpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY291bGRCYXRjaCA9IHRpbGluZ1Nwcml0ZURhdGEuY2FuQmF0Y2g7XG4gICAgdGhpcy5fdXBkYXRlQ2FuQmF0Y2gocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY2FuQmF0Y2ggPSB0aWxpbmdTcHJpdGVEYXRhLmNhbkJhdGNoO1xuICAgIGlmIChjYW5CYXRjaCAmJiBjYW5CYXRjaCA9PT0gY291bGRCYXRjaCkge1xuICAgICAgY29uc3QgeyBiYXRjaGFibGVNZXNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgcmV0dXJuICFiYXRjaGFibGVNZXNoLl9iYXRjaGVyLmNoZWNrQW5kVXBkYXRlVGV4dHVyZShcbiAgICAgICAgYmF0Y2hhYmxlTWVzaCxcbiAgICAgICAgcmVuZGVyYWJsZS50ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY291bGRCYXRjaCAhPT0gY2FuQmF0Y2g7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlciA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIHRoaXMuX3VwZGF0ZUNhbkJhdGNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB7IGdlb21ldHJ5LCBjYW5CYXRjaCB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICBpZiAoY2FuQmF0Y2gpIHtcbiAgICAgIHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaCB8fCAodGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoID0gbmV3IEJhdGNoYWJsZU1lc2goKSk7XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoO1xuICAgICAgaWYgKHRpbGluZ1Nwcml0ZS5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZU1lc2godGlsaW5nU3ByaXRlKTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBiYXRjaGFibGVNZXNoLnJlbmRlcmFibGUgPSB0aWxpbmdTcHJpdGU7XG4gICAgICAgIGJhdGNoYWJsZU1lc2gudHJhbnNmb3JtID0gdGlsaW5nU3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgICAgICBiYXRjaGFibGVNZXNoLnRleHR1cmUgPSB0aWxpbmdTcHJpdGUuX3RleHR1cmU7XG4gICAgICB9XG4gICAgICBiYXRjaGFibGVNZXNoLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgdGlsaW5nU3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICAgIGJhdGNoZXIuYWRkVG9CYXRjaChiYXRjaGFibGVNZXNoLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhdGNoZXIuYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgdGlsaW5nU3ByaXRlRGF0YS5zaGFkZXIgfHwgKHRpbGluZ1Nwcml0ZURhdGEuc2hhZGVyID0gbmV3IFRpbGluZ1Nwcml0ZVNoYWRlcigpKTtcbiAgICAgIHRoaXMudXBkYXRlUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUpO1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHRpbGluZ1Nwcml0ZSk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUodGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgeyBzaGFkZXIgfSA9IHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoW3RpbGluZ1Nwcml0ZS51aWRdO1xuICAgIHNoYWRlci5ncm91cHNbMF0gPSB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5iaW5kR3JvdXA7XG4gICAgY29uc3QgbG9jYWxVbmlmb3JtcyA9IHNoYWRlci5yZXNvdXJjZXMubG9jYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXggPSB0aWxpbmdTcHJpdGUuZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51Um91bmQgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCB0aWxpbmdTcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIGNvbG9yMzJCaXRUb1VuaWZvcm0oXG4gICAgICB0aWxpbmdTcHJpdGUuZ3JvdXBDb2xvckFscGhhLFxuICAgICAgbG9jYWxVbmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLl9zdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKHRpbGluZ1Nwcml0ZS5ncm91cEJsZW5kTW9kZSwgdGlsaW5nU3ByaXRlLnRleHR1cmUuX3NvdXJjZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIuZW5jb2Rlci5kcmF3KHtcbiAgICAgIGdlb21ldHJ5OiBzaGFyZWRRdWFkLFxuICAgICAgc2hhZGVyLFxuICAgICAgc3RhdGU6IHRoaXMuX3N0YXRlXG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCB0aWxpbmdTcHJpdGVEYXRhID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHsgY2FuQmF0Y2ggfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgaWYgKGNhbkJhdGNoKSB7XG4gICAgICBjb25zdCB7IGJhdGNoYWJsZU1lc2ggfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgICBpZiAodGlsaW5nU3ByaXRlLmRpZFZpZXdVcGRhdGUpXG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZU1lc2godGlsaW5nU3ByaXRlKTtcbiAgICAgIGJhdGNoYWJsZU1lc2guX2JhdGNoZXIudXBkYXRlRWxlbWVudChiYXRjaGFibGVNZXNoKTtcbiAgICB9IGVsc2UgaWYgKHRpbGluZ1Nwcml0ZS5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICBjb25zdCB7IHNoYWRlciB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICAgIHNoYWRlci51cGRhdGVVbmlmb3JtcyhcbiAgICAgICAgdGlsaW5nU3ByaXRlLndpZHRoLFxuICAgICAgICB0aWxpbmdTcHJpdGUuaGVpZ2h0LFxuICAgICAgICB0aWxpbmdTcHJpdGUuX3RpbGVUcmFuc2Zvcm0ubWF0cml4LFxuICAgICAgICB0aWxpbmdTcHJpdGUuYW5jaG9yLngsXG4gICAgICAgIHRpbGluZ1Nwcml0ZS5hbmNob3IueSxcbiAgICAgICAgdGlsaW5nU3ByaXRlLnRleHR1cmVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHRpbGluZ1Nwcml0ZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgdGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoID0gbnVsbDtcbiAgICB0aWxpbmdTcHJpdGVEYXRhLnNoYWRlcj8uZGVzdHJveSgpO1xuICAgIHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoW3RpbGluZ1Nwcml0ZS51aWRdID0gbnVsbDtcbiAgICB0aWxpbmdTcHJpdGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIF9nZXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbcmVuZGVyYWJsZS51aWRdIHx8IHRoaXMuX2luaXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpO1xuICB9XG4gIF9pbml0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkoe1xuICAgICAgaW5kaWNlczogc2hhcmVkUXVhZC5pbmRpY2VzLFxuICAgICAgcG9zaXRpb25zOiBzaGFyZWRRdWFkLnBvc2l0aW9ucy5zbGljZSgpLFxuICAgICAgdXZzOiBzaGFyZWRRdWFkLnV2cy5zbGljZSgpXG4gICAgfSk7XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbdGlsaW5nU3ByaXRlLnVpZF0gPSB7XG4gICAgICBjYW5CYXRjaDogdHJ1ZSxcbiAgICAgIHJlbmRlcmFibGU6IHRpbGluZ1Nwcml0ZSxcbiAgICAgIGdlb21ldHJ5XG4gICAgfTtcbiAgICB0aWxpbmdTcHJpdGUub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoW3RpbGluZ1Nwcml0ZS51aWRdO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHJlbmRlcmFibGVEYXRhID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHsgZ2VvbWV0cnkgfSA9IHJlbmRlcmFibGVEYXRhO1xuICAgIGNvbnN0IHN0eWxlID0gdGlsaW5nU3ByaXRlLnRleHR1cmUuc291cmNlLnN0eWxlO1xuICAgIGlmIChzdHlsZS5hZGRyZXNzTW9kZSAhPT0gXCJyZXBlYXRcIikge1xuICAgICAgc3R5bGUuYWRkcmVzc01vZGUgPSBcInJlcGVhdFwiO1xuICAgICAgc3R5bGUudXBkYXRlKCk7XG4gICAgfVxuICAgIHNldFV2cyh0aWxpbmdTcHJpdGUsIGdlb21ldHJ5LnV2cyk7XG4gICAgc2V0UG9zaXRpb25zKHRpbGluZ1Nwcml0ZSwgZ2VvbWV0cnkucG9zaXRpb25zKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaCkge1xuICAgICAgdGhpcy5kZXN0cm95UmVuZGVyYWJsZSh0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaFtpXS5yZW5kZXJhYmxlKTtcbiAgICB9XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2ggPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlQ2FuQmF0Y2godGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgcmVuZGVyYWJsZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlO1xuICAgIGxldCBfbm9uUG93T2Yyd3JhcHBpbmcgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9yZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgIF9ub25Qb3dPZjJ3cmFwcGluZyA9IHRoaXMuX3JlbmRlcmVyLmNvbnRleHQuc3VwcG9ydHMubm9uUG93T2Yyd3JhcHBpbmc7XG4gICAgfVxuICAgIHJlbmRlcmFibGVEYXRhLmNhbkJhdGNoID0gdGV4dHVyZS50ZXh0dXJlTWF0cml4LmlzU2ltcGxlICYmIChfbm9uUG93T2Yyd3JhcHBpbmcgfHwgdGV4dHVyZS5zb3VyY2UuaXNQb3dlck9mVHdvKTtcbiAgICByZXR1cm4gcmVuZGVyYWJsZURhdGEuY2FuQmF0Y2g7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5UaWxpbmdTcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJ0aWxpbmdTcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBhcHBseU1hdHJpeCB9IGZyb20gJy4vYXBwbHlNYXRyaXgubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBzZXRVdnModGlsaW5nU3ByaXRlLCB1dnMpIHtcbiAgY29uc3QgdGV4dHVyZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlO1xuICBjb25zdCB3aWR0aCA9IHRleHR1cmUuZnJhbWUud2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICBsZXQgYW5jaG9yWCA9IDA7XG4gIGxldCBhbmNob3JZID0gMDtcbiAgaWYgKHRpbGluZ1Nwcml0ZS5hcHBseUFuY2hvclRvVGV4dHVyZSkge1xuICAgIGFuY2hvclggPSB0aWxpbmdTcHJpdGUuYW5jaG9yLng7XG4gICAgYW5jaG9yWSA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueTtcbiAgfVxuICB1dnNbMF0gPSB1dnNbNl0gPSAtYW5jaG9yWDtcbiAgdXZzWzJdID0gdXZzWzRdID0gMSAtIGFuY2hvclg7XG4gIHV2c1sxXSA9IHV2c1szXSA9IC1hbmNob3JZO1xuICB1dnNbNV0gPSB1dnNbN10gPSAxIC0gYW5jaG9yWTtcbiAgY29uc3QgdGV4dHVyZU1hdHJpeCA9IE1hdHJpeC5zaGFyZWQ7XG4gIHRleHR1cmVNYXRyaXguY29weUZyb20odGlsaW5nU3ByaXRlLl90aWxlVHJhbnNmb3JtLm1hdHJpeCk7XG4gIHRleHR1cmVNYXRyaXgudHggLz0gdGlsaW5nU3ByaXRlLndpZHRoO1xuICB0ZXh0dXJlTWF0cml4LnR5IC89IHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHRleHR1cmVNYXRyaXguaW52ZXJ0KCk7XG4gIHRleHR1cmVNYXRyaXguc2NhbGUodGlsaW5nU3ByaXRlLndpZHRoIC8gd2lkdGgsIHRpbGluZ1Nwcml0ZS5oZWlnaHQgLyBoZWlnaHQpO1xuICBhcHBseU1hdHJpeCh1dnMsIDIsIDAsIHRleHR1cmVNYXRyaXgpO1xufVxuXG5leHBvcnQgeyBzZXRVdnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldFV2cy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGFwcGx5TWF0cml4KGFycmF5LCBzdHJpZGUsIG9mZnNldCwgbWF0cml4KSB7XG4gIGxldCBpbmRleCA9IDA7XG4gIGNvbnN0IHNpemUgPSBhcnJheS5sZW5ndGggLyAoc3RyaWRlIHx8IDIpO1xuICBjb25zdCBhID0gbWF0cml4LmE7XG4gIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgY29uc3QgYyA9IG1hdHJpeC5jO1xuICBjb25zdCBkID0gbWF0cml4LmQ7XG4gIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICBjb25zdCB0eSA9IG1hdHJpeC50eTtcbiAgb2Zmc2V0ICo9IHN0cmlkZTtcbiAgd2hpbGUgKGluZGV4IDwgc2l6ZSkge1xuICAgIGNvbnN0IHggPSBhcnJheVtvZmZzZXRdO1xuICAgIGNvbnN0IHkgPSBhcnJheVtvZmZzZXQgKyAxXTtcbiAgICBhcnJheVtvZmZzZXRdID0gYSAqIHggKyBjICogeSArIHR4O1xuICAgIGFycmF5W29mZnNldCArIDFdID0gYiAqIHggKyBkICogeSArIHR5O1xuICAgIG9mZnNldCArPSBzdHJpZGU7XG4gICAgaW5kZXgrKztcbiAgfVxufVxuXG5leHBvcnQgeyBhcHBseU1hdHJpeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbHlNYXRyaXgubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBzZXRQb3NpdGlvbnModGlsaW5nU3ByaXRlLCBwb3NpdGlvbnMpIHtcbiAgY29uc3QgYW5jaG9yWCA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueDtcbiAgY29uc3QgYW5jaG9yWSA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueTtcbiAgcG9zaXRpb25zWzBdID0gLWFuY2hvclggKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1sxXSA9IC1hbmNob3JZICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgcG9zaXRpb25zWzJdID0gKDEgLSBhbmNob3JYKSAqIHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgcG9zaXRpb25zWzNdID0gLWFuY2hvclkgKiB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xuICBwb3NpdGlvbnNbNF0gPSAoMSAtIGFuY2hvclgpICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbNV0gPSAoMSAtIGFuY2hvclkpICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgcG9zaXRpb25zWzZdID0gLWFuY2hvclggKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1s3XSA9ICgxIC0gYW5jaG9yWSkgKiB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xufVxuXG5leHBvcnQgeyBzZXRQb3NpdGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldFBvc2l0aW9ucy5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVQaXBlIH0gZnJvbSAnLi9UaWxpbmdTcHJpdGVQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoVGlsaW5nU3ByaXRlUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2hhYmxlU3ByaXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXRjaGVyTmFtZSA9IFwiZGVmYXVsdFwiO1xuICAgIHRoaXMudG9wb2xvZ3kgPSBcInRyaWFuZ2xlLWxpc3RcIjtcbiAgICAvLyBiYXRjaCBzcGVjaWZpYy4uXG4gICAgdGhpcy5hdHRyaWJ1dGVTaXplID0gNDtcbiAgICB0aGlzLmluZGV4U2l6ZSA9IDY7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gdHJ1ZTtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gMDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVTdGFydCA9IDA7XG4gICAgLy8gbG9jYXRpb24gaW4gdGhlIGJ1ZmZlclxuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgfVxuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBCbGVuZE1vZGU7XG4gIH1cbiAgZ2V0IGNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBDb2xvckFscGhhO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlU3ByaXRlLm1qcy5tYXBcbiIsImltcG9ydCB7IE9ic2VydmFibGVQb2ludCB9IGZyb20gJy4uLy4uL21hdGhzL3BvaW50L09ic2VydmFibGVQb2ludC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgdXBkYXRlUXVhZEJvdW5kcyB9IGZyb20gJy4uLy4uL3V0aWxzL2RhdGEvdXBkYXRlUXVhZEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBWaWV3Q29udGFpbmVyIH0gZnJvbSAnLi4vdmlldy9WaWV3Q29udGFpbmVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgU3ByaXRlIGV4dGVuZHMgVmlld0NvbnRhaW5lciB7XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgc3ByaXRlLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IFRleHR1cmUuRU1QVFkpIHtcbiAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIG9wdGlvbnMgPSB7IHRleHR1cmU6IG9wdGlvbnMgfTtcbiAgICB9XG4gICAgY29uc3QgeyB0ZXh0dXJlID0gVGV4dHVyZS5FTVBUWSwgYW5jaG9yLCByb3VuZFBpeGVscywgd2lkdGgsIGhlaWdodCwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBzdXBlcih7XG4gICAgICBsYWJlbDogXCJTcHJpdGVcIixcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlclBpcGVJZCA9IFwic3ByaXRlXCI7XG4gICAgdGhpcy5iYXRjaGVkID0gdHJ1ZTtcbiAgICB0aGlzLl92aXN1YWxCb3VuZHMgPSB7IG1pblg6IDAsIG1heFg6IDEsIG1pblk6IDAsIG1heFk6IDAgfTtcbiAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KFxuICAgICAge1xuICAgICAgICBfb25VcGRhdGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLm9uVmlld1VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAoYW5jaG9yKSB7XG4gICAgICB0aGlzLmFuY2hvciA9IGFuY2hvcjtcbiAgICB9IGVsc2UgaWYgKHRleHR1cmUuZGVmYXVsdEFuY2hvcikge1xuICAgICAgdGhpcy5hbmNob3IgPSB0ZXh0dXJlLmRlZmF1bHRBbmNob3I7XG4gICAgfVxuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgdGhpcy5hbGxvd0NoaWxkcmVuID0gZmFsc2U7XG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IHJvdW5kUGl4ZWxzID8/IGZhbHNlO1xuICAgIGlmICh3aWR0aCAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIGlmIChoZWlnaHQgIT09IHZvaWQgMClcbiAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSwgdmlkZW8sIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCB0ZXh0dXJlXG4gICAqIEBwYXJhbSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgKiBAcGFyYW0gW3NraXBDYWNoZV0gLSBXaGV0aGVyIHRvIHNraXAgdGhlIGNhY2hlIG9yIG5vdFxuICAgKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICovXG4gIHN0YXRpYyBmcm9tKHNvdXJjZSwgc2tpcENhY2hlID0gZmFsc2UpIHtcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoc291cmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTcHJpdGUoVGV4dHVyZS5mcm9tKHNvdXJjZSwgc2tpcENhY2hlKSk7XG4gIH1cbiAgc2V0IHRleHR1cmUodmFsdWUpIHtcbiAgICB2YWx1ZSB8fCAodmFsdWUgPSBUZXh0dXJlLkVNUFRZKTtcbiAgICBjb25zdCBjdXJyZW50VGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgaWYgKGN1cnJlbnRUZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoY3VycmVudFRleHR1cmUgJiYgY3VycmVudFRleHR1cmUuZHluYW1pYylcbiAgICAgIGN1cnJlbnRUZXh0dXJlLm9mZihcInVwZGF0ZVwiLCB0aGlzLm9uVmlld1VwZGF0ZSwgdGhpcyk7XG4gICAgaWYgKHZhbHVlLmR5bmFtaWMpXG4gICAgICB2YWx1ZS5vbihcInVwZGF0ZVwiLCB0aGlzLm9uVmlld1VwZGF0ZSwgdGhpcyk7XG4gICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgdGhpcy5fc2V0V2lkdGgodGhpcy5fd2lkdGgsIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9oZWlnaHQpIHtcbiAgICAgIHRoaXMuX3NldEhlaWdodCh0aGlzLl9oZWlnaHQsIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLm9uVmlld1VwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmcuICovXG4gIGdldCB0ZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYm91bmRzIG9mIHRoZSBzcHJpdGUsIHRha2luZyB0aGUgdGV4dHVyZSdzIHRyaW0gaW50byBhY2NvdW50LlxuICAgKiBAdHlwZSB7cmVuZGVyaW5nLkJvdW5kc31cbiAgICovXG4gIGdldCB2aXN1YWxCb3VuZHMoKSB7XG4gICAgdXBkYXRlUXVhZEJvdW5kcyh0aGlzLl92aXN1YWxCb3VuZHMsIHRoaXMuX2FuY2hvciwgdGhpcy5fdGV4dHVyZSwgMCk7XG4gICAgcmV0dXJuIHRoaXMuX3Zpc3VhbEJvdW5kcztcbiAgfVxuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGdldCBzb3VyY2VCb3VuZHMoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI4LjYuMVwiLCBcIlNwcml0ZS5zb3VyY2VCb3VuZHMgaXMgZGVwcmVjYXRlZCwgdXNlIHZpc3VhbEJvdW5kcyBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy52aXN1YWxCb3VuZHM7XG4gIH1cbiAgLyoqIEBwcml2YXRlICovXG4gIHVwZGF0ZUJvdW5kcygpIHtcbiAgICBjb25zdCBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGV4dHVyZS5vcmlnO1xuICAgIGJvdW5kcy5taW5YID0gLWFuY2hvci5feCAqIHdpZHRoO1xuICAgIGJvdW5kcy5tYXhYID0gYm91bmRzLm1pblggKyB3aWR0aDtcbiAgICBib3VuZHMubWluWSA9IC1hbmNob3IuX3kgKiBoZWlnaHQ7XG4gICAgYm91bmRzLm1heFkgPSBib3VuZHMubWluWSArIGhlaWdodDtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgcmVuZGVyYWJsZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHJlbmRlcmFibGUgYXMgd2VsbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmVTb3VyY2U9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmVTb3VyY2Ugb2YgdGhlIHJlbmRlcmFibGUgYXMgd2VsbFxuICAgKi9cbiAgZGVzdHJveShvcHRpb25zID0gZmFsc2UpIHtcbiAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuICAgIGNvbnN0IGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6IG9wdGlvbnM/LnRleHR1cmU7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICBjb25zdCBkZXN0cm95VGV4dHVyZVNvdXJjZSA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiBvcHRpb25zPy50ZXh0dXJlU291cmNlO1xuICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KGRlc3Ryb3lUZXh0dXJlU291cmNlKTtcbiAgICB9XG4gICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fdmlzdWFsQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSBzcHJpdGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRha2VuIGZyb20gdGhlIHtAbGluayBUZXh0dXJlfVxuICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgc3ByaXRlJ3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICpcbiAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAqXG4gICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHNwcml0ZSdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgKlxuICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICogQGV4YW1wbGVcbiAgICogaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAncGl4aS5qcyc7XG4gICAqXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUoe3RleHR1cmU6IFRleHR1cmUuV0hJVEV9KTtcbiAgICogc3ByaXRlLmFuY2hvci5zZXQoMC41KTsgLy8gVGhpcyB3aWxsIHNldCB0aGUgb3JpZ2luIHRvIGNlbnRlci4gKDAuNSkgaXMgc2FtZSBhcyAoMC41LCAwLjUpLlxuICAgKi9cbiAgZ2V0IGFuY2hvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICB9XG4gIHNldCBhbmNob3IodmFsdWUpIHtcbiAgICB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgPyB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKSA6IHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldC4gKi9cbiAgZ2V0IHdpZHRoKCkge1xuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3NldFdpZHRoKHZhbHVlLCB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGgpO1xuICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gIH1cbiAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICB9XG4gIHNldCBoZWlnaHQodmFsdWUpIHtcbiAgICB0aGlzLl9zZXRIZWlnaHQodmFsdWUsIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQpO1xuICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIHNpemUgb2YgdGhlIFNwcml0ZSBhcyBhIFtTaXplXXtAbGluayBTaXplfSBvYmplY3QuXG4gICAqIFRoaXMgaXMgZmFzdGVyIHRoYW4gZ2V0IHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHNlcGFyYXRlbHkuXG4gICAqIEBwYXJhbSBvdXQgLSBPcHRpb25hbCBvYmplY3QgdG8gc3RvcmUgdGhlIHNpemUgaW4uXG4gICAqIEByZXR1cm5zIC0gVGhlIHNpemUgb2YgdGhlIFNwcml0ZS5cbiAgICovXG4gIGdldFNpemUob3V0KSB7XG4gICAgb3V0IHx8IChvdXQgPSB7fSk7XG4gICAgb3V0LndpZHRoID0gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICBvdXQuaGVpZ2h0ID0gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgc2l6ZSBvZiB0aGUgU3ByaXRlIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICogVGhpcyBpcyBmYXN0ZXIgdGhhbiBzZXR0aW5nIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHNlcGFyYXRlbHkuXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoaXMgY2FuIGJlIGVpdGhlciBhIG51bWJlciBvciBhIFtTaXplXXtAbGluayBTaXplfSBvYmplY3QuXG4gICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHNldC4gRGVmYXVsdHMgdG8gdGhlIHZhbHVlIG9mIGB3aWR0aGAgaWYgbm90IHByb3ZpZGVkLlxuICAgKi9cbiAgc2V0U2l6ZSh2YWx1ZSwgaGVpZ2h0KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgaGVpZ2h0ID0gdmFsdWUuaGVpZ2h0ID8/IHZhbHVlLndpZHRoO1xuICAgICAgdmFsdWUgPSB2YWx1ZS53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0ID8/IChoZWlnaHQgPSB2YWx1ZSk7XG4gICAgfVxuICAgIHZhbHVlICE9PSB2b2lkIDAgJiYgdGhpcy5fc2V0V2lkdGgodmFsdWUsIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCk7XG4gICAgaGVpZ2h0ICE9PSB2b2lkIDAgJiYgdGhpcy5fc2V0SGVpZ2h0KGhlaWdodCwgdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuL0JhdGNoYWJsZVNwcml0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFNwcml0ZVBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX2dwdVNwcml0ZUhhc2hcIik7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShzcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGdwdVNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ3B1U3ByaXRlSGFzaFtzcHJpdGUudWlkXTtcbiAgICBpZiAoc3ByaXRlLmRpZFZpZXdVcGRhdGUpXG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBncHVTcHJpdGUpO1xuICAgIGdwdVNwcml0ZS5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGdwdVNwcml0ZSk7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dldEdwdVNwcml0ZShzcHJpdGUpO1xuICAgIHJldHVybiAhZ3B1U3ByaXRlLl9iYXRjaGVyLmNoZWNrQW5kVXBkYXRlVGV4dHVyZShcbiAgICAgIGdwdVNwcml0ZSxcbiAgICAgIHNwcml0ZS5fdGV4dHVyZVxuICAgICk7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gdGhpcy5fZ3B1U3ByaXRlSGFzaFtzcHJpdGUudWlkXTtcbiAgICBCaWdQb29sLnJldHVybihiYXRjaGFibGVTcHJpdGUpO1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gPSBudWxsO1xuICAgIHNwcml0ZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gIH1cbiAgX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGJhdGNoYWJsZVNwcml0ZSkge1xuICAgIGJhdGNoYWJsZVNwcml0ZS5ib3VuZHMgPSBzcHJpdGUudmlzdWFsQm91bmRzO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICB9XG4gIF9nZXRHcHVTcHJpdGUoc3ByaXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gfHwgdGhpcy5faW5pdEdQVVNwcml0ZShzcHJpdGUpO1xuICB9XG4gIF9pbml0R1BVU3ByaXRlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IEJpZ1Bvb2wuZ2V0KEJhdGNoYWJsZVNwcml0ZSk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJlbmRlcmFibGUgPSBzcHJpdGU7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IHNwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0gc3ByaXRlLnZpc3VhbEJvdW5kcztcbiAgICBiYXRjaGFibGVTcHJpdGUucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBzcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gPSBiYXRjaGFibGVTcHJpdGU7XG4gICAgc3ByaXRlLm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiBiYXRjaGFibGVTcHJpdGU7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZ3B1U3ByaXRlSGFzaCkge1xuICAgICAgQmlnUG9vbC5yZXR1cm4odGhpcy5fZ3B1U3ByaXRlSGFzaFtpXSk7XG4gICAgfVxuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2ggPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblNwcml0ZVBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInNwcml0ZVwiXG59O1xuXG5leHBvcnQgeyBTcHJpdGVQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVQaXBlLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJNZXNoUGlwZSIsImNvbnN0cnVjdG9yIiwicmVuZGVyZXIiLCJhZGFwdG9yIiwidGhpcyIsImxvY2FsVW5pZm9ybXMiLCJVbmlmb3JtR3JvdXAiLCJ1VHJhbnNmb3JtTWF0cml4IiwidmFsdWUiLCJNYXRyaXgiLCJ0eXBlIiwidUNvbG9yIiwiRmxvYXQzMkFycmF5IiwidVJvdW5kIiwibG9jYWxVbmlmb3Jtc0JpbmRHcm91cCIsIkJpbmRHcm91cCIsIl9tZXNoRGF0YUhhc2giLCJPYmplY3QiLCJjcmVhdGUiLCJfZ3B1QmF0Y2hhYmxlTWVzaEhhc2giLCJfZGVzdHJveVJlbmRlcmFibGVCb3VuZCIsImRlc3Ryb3lSZW5kZXJhYmxlIiwiYmluZCIsIl9hZGFwdG9yIiwiaW5pdCIsInJlbmRlcmFibGVHQyIsImFkZE1hbmFnZWRIYXNoIiwidmFsaWRhdGVSZW5kZXJhYmxlIiwibWVzaCIsIm1lc2hEYXRhIiwiX2dldE1lc2hEYXRhIiwid2FzQmF0Y2hlZCIsImJhdGNoZWQiLCJpc0JhdGNoZWQiLCJnZW9tZXRyeSIsIl9nZW9tZXRyeSIsImluZGljZXMiLCJsZW5ndGgiLCJpbmRleFNpemUiLCJwb3NpdGlvbnMiLCJ2ZXJ0ZXhTaXplIiwiYmF0Y2hhYmxlTWVzaCIsIl9nZXRCYXRjaGFibGVNZXNoIiwiX2JhdGNoZXIiLCJjaGVja0FuZFVwZGF0ZVRleHR1cmUiLCJ0ZXh0dXJlIiwiYWRkUmVuZGVyYWJsZSIsImluc3RydWN0aW9uU2V0IiwiYmF0Y2hlciIsInJlbmRlclBpcGVzIiwiYmF0Y2giLCJncHVCYXRjaGFibGVNZXNoIiwiX3RleHR1cmUiLCJhZGRUb0JhdGNoIiwiYnJlYWsiLCJhZGQiLCJ1cGRhdGVSZW5kZXJhYmxlIiwidWlkIiwidXBkYXRlRWxlbWVudCIsImdwdU1lc2giLCJyZXR1cm4iLCJvZmYiLCJleGVjdXRlIiwiaXNSZW5kZXJhYmxlIiwic3RhdGUiLCJibGVuZE1vZGUiLCJnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIiwiZ3JvdXBCbGVuZE1vZGUiLCJfc291cmNlIiwidW5pZm9ybXMiLCJncm91cFRyYW5zZm9ybSIsIl9yb3VuZFBpeGVscyIsInVwZGF0ZSIsImdyb3VwQ29sb3JBbHBoYSIsIl9pbml0TWVzaERhdGEiLCJvbiIsIl9pbml0QmF0Y2hhYmxlTWVzaCIsImdldCIsIkJhdGNoYWJsZU1lc2giLCJyZW5kZXJhYmxlIiwidHJhbnNmb3JtIiwicm91bmRQaXhlbHMiLCJkZXN0cm95IiwiaSIsImV4dGVuc2lvbiIsIldlYkdMUGlwZXMiLCJXZWJHUFVQaXBlcyIsIkNhbnZhc1BpcGVzIiwibmFtZSIsImJhdGNoZXJOYW1lIiwicGFja0FzUXVhZCIsImluZGV4T2Zmc2V0IiwiYXR0cmlidXRlT2Zmc2V0IiwiX2JhdGNoIiwiX3V2VXBkYXRlSWQiLCJfdGV4dHVyZU1hdHJpeFVwZGF0ZUlkIiwidG9wb2xvZ3kiLCJfdG9wb2xvZ3kiLCJyZXNldCIsInV2cyIsInV2QnVmZmVyIiwiZ2V0QnVmZmVyIiwiZGF0YSIsInRyYW5zZm9ybWVkVXZzIiwidGV4dHVyZU1hdHJpeCIsImlzU2ltcGxlIiwiX3RyYW5zZm9ybWVkVXZzIiwiX3VwZGF0ZUlEIiwibXVsdGlwbHlVdnMiLCJjb2xvciIsImF0dHJpYnV0ZVNpemUiLCJfTWVzaEdlb21ldHJ5IiwiYXJncyIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIlVpbnQzMkFycmF5Iiwic2hyaW5rVG9GaXQiLCJzaHJpbmtCdWZmZXJzVG9GaXQiLCJzdXBlciIsImF0dHJpYnV0ZXMiLCJhUG9zaXRpb24iLCJidWZmZXIiLCJsYWJlbCIsInVzYWdlIiwiVkVSVEVYIiwiQ09QWV9EU1QiLCJmb3JtYXQiLCJzdHJpZGUiLCJvZmZzZXQiLCJhVVYiLCJpbmRleEJ1ZmZlciIsIklOREVYIiwiYmF0Y2hNb2RlIiwiTWVzaEdlb21ldHJ5IiwiR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IiLCJwYXJ0aWNsZUNvbnRhaW5lclBpcGUiLCJjb250YWluZXIiLCJzaGFkZXIiLCJkZWZhdWx0U2hhZGVyIiwicmVzb3VyY2VzIiwidVRleHR1cmUiLCJnbCIsImdldEJ1ZmZlcnMiLCJzZXQiLCJnbFByb2dyYW0iLCJnbFR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwicGFydGljbGVDaGlsZHJlbiIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsInNpemUiLCJvdXRCdWZmZXIiLCJ0b3RhbEluZGljZXMiLCJVaW50MTZBcnJheSIsIkVycm9yIiwiaiIsImdlbmVyYXRlVXBkYXRlRnVuY3Rpb24iLCJwcm9wZXJ0aWVzIiwiZHluYW1pYyIsImZ1bmNGcmFnbWVudHMiLCJwdXNoIiwicHJvcGVydHkiLCJjb2RlIiwiZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQiLCJ1bnNoaWZ0IiwiZnVuY3Rpb25Tb3VyY2UiLCJqb2luIiwiRnVuY3Rpb24iLCJQYXJ0aWNsZUJ1ZmZlciIsIl9zaXplIiwiX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZSIsInN0YXRpY1ZlcnRleFNpemUiLCJkeW5hbWljVmVydGV4U2l6ZSIsImF0dHJpYnV0ZUluZm8iLCJfZHluYW1pY1N0cmlkZSIsIl9zdGF0aWNTdHJpZGUiLCJzdGF0aWNBdHRyaWJ1dGVCdWZmZXIiLCJWaWV3YWJsZUJ1ZmZlciIsImR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIiLCJHZW9tZXRyeSIsImR5bmFtaWNPZmZzZXQiLCJzdGF0aWNPZmZzZXQiLCJfc3RhdGljQnVmZmVyIiwiQnVmZmVyIiwiX2R5bmFtaWNCdWZmZXIiLCJhZGRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwiYWRkSW5kZXgiLCJ1cGxvYWRGdW5jdGlvbiIsImdldFBhcnRpY2xlVXBkYXRlIiwiX2R5bmFtaWNVcGxvYWQiLCJkeW5hbWljVXBkYXRlIiwiX3N0YXRpY1VwbG9hZCIsInN0YXRpY1VwZGF0ZSIsImtleSIsImtleUdlbiIsImdldFBhcnRpY2xlU3luY0tleSIsImdlbmVyYXRlUGFydGljbGVVcGRhdGUiLCJnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24iLCJwYXJ0aWNsZXMiLCJ1cGxvYWRTdGF0aWMiLCJNYXRoIiwibWF4Iiwic2V0RGF0YVdpdGhTaXplIiwiYnl0ZUxlbmd0aCIsImZsb2F0MzJWaWV3IiwidWludDMyVmlldyIsIndnc2wiLCJQYXJ0aWNsZVNoYWRlciIsIlNoYWRlciIsIkdsUHJvZ3JhbSIsImZyb20iLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsImdwdVByb2dyYW0iLCJHcHVQcm9ncmFtIiwic291cmNlIiwiZW50cnlQb2ludCIsIlRleHR1cmUiLCJXSElURSIsInVTYW1wbGVyIiwiVGV4dHVyZVN0eWxlIiwidVRyYW5zbGF0aW9uTWF0cml4IiwiQ29sb3IiLCJ1UmVzb2x1dGlvbiIsIlBhcnRpY2xlQ29udGFpbmVyUGlwZSIsIlN0YXRlIiwiZm9yMmQiLCJfZ3B1QnVmZmVySGFzaCIsIl9yZW5kZXJhYmxlIiwiX2luaXRCdWZmZXIiLCJfcHJvcGVydGllcyIsImNoaWxkcmVuIiwiX2NoaWxkcmVuRGlydHkiLCJ0cmFuc2Zvcm1hdGlvbk1hdHJpeCIsIndvcmxkVHJhbnNmb3JtIiwiY29weVRvIiwicHJlcGVuZCIsImdsb2JhbFVuaWZvcm1zIiwiZ2xvYmFsVW5pZm9ybURhdGEiLCJwcm9qZWN0aW9uTWF0cml4IiwicmVzb2x1dGlvbiIsIkdsUGFydGljbGVDb250YWluZXJQaXBlIiwiR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yIiwiZ3JvdXBzIiwidW5pZm9ybUJhdGNoIiwiZ2V0VW5pZm9ybUJpbmRHcm91cCIsImdldFRleHR1cmVCaW5kR3JvdXAiLCJlbmNvZGVyIiwiZHJhdyIsIkdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZSIsIl9OaW5lU2xpY2VHZW9tZXRyeSIsIlBsYW5lR2VvbWV0cnkiLCJ3aWR0aCIsImhlaWdodCIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsIl9vcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxXaWR0aCIsIl9vcmlnaW5hbEhlaWdodCIsIm9yaWdpbmFsSGVpZ2h0IiwiX2xlZnRXaWR0aCIsImxlZnRXaWR0aCIsIl9yaWdodFdpZHRoIiwicmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJ0b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwiYm90dG9tSGVpZ2h0IiwidXBkYXRlVXZzIiwidXBkYXRlUG9zaXRpb25zIiwidyIsInNjYWxlVyIsImgiLCJzY2FsZUgiLCJzY2FsZSIsIm1pbiIsIl91dnciLCJfdXZoIiwiTmluZVNsaWNlR2VvbWV0cnkiLCJOaW5lU2xpY2VTcHJpdGVQaXBlIiwiX2dwdVNwcml0ZUhhc2giLCJfcmVuZGVyZXIiLCJzcHJpdGUiLCJncHVTcHJpdGUiLCJfZ2V0R3B1U3ByaXRlIiwiZGlkVmlld1VwZGF0ZSIsIl91cGRhdGVCYXRjaGFibGVTcHJpdGUiLCJiYXRjaGFibGVTcHJpdGUiLCJfaW5pdEdQVVNwcml0ZSIsInRpbGluZ0JpdCIsImhlYWRlciIsIm1haW4iLCJ0aWxpbmdCaXRHbCIsIlRpbGluZ1Nwcml0ZVNoYWRlciIsImJpdHMiLCJsb2NhbFVuaWZvcm1CaXQiLCJyb3VuZFBpeGVsc0JpdCIsInRpbGluZ1VuaWZvcm1zIiwidU1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJ1VGV4dHVyZVRyYW5zZm9ybSIsInVTaXplQW5jaG9yIiwiRU1QVFkiLCJzdHlsZSIsInVwZGF0ZVVuaWZvcm1zIiwibWF0cml4IiwiYW5jaG9yWCIsImFuY2hvclkiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwiYSIsImIiLCJjIiwiZCIsInR4IiwidHkiLCJpbnZlcnQiLCJtYXBDb29yZCIsIlF1YWRHZW9tZXRyeSIsInNoYXJlZFF1YWQiLCJUaWxpbmdTcHJpdGVQaXBlIiwiX3N0YXRlIiwiZGVmYXVsdDJkIiwiX3RpbGluZ1Nwcml0ZURhdGFIYXNoIiwidGlsaW5nU3ByaXRlRGF0YSIsIl9nZXRUaWxpbmdTcHJpdGVEYXRhIiwiY291bGRCYXRjaCIsImNhbkJhdGNoIiwiX3VwZGF0ZUNhbkJhdGNoIiwidGlsaW5nU3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZU1lc2giLCJiaW5kR3JvdXAiLCJfdGlsZVRyYW5zZm9ybSIsImFuY2hvciIsIngiLCJ5IiwiX2luaXRUaWxpbmdTcHJpdGVEYXRhIiwic2xpY2UiLCJyZW5kZXJhYmxlRGF0YSIsImFkZHJlc3NNb2RlIiwiZnJhbWUiLCJhcHBseUFuY2hvclRvVGV4dHVyZSIsInNoYXJlZCIsImNvcHlGcm9tIiwiYXJyYXkiLCJpbmRleCIsImFwcGx5TWF0cml4Iiwic2V0VXZzIiwic2V0UG9zaXRpb25zIiwiX25vblBvd09mMndyYXBwaW5nIiwiV0VCR0wiLCJjb250ZXh0Iiwic3VwcG9ydHMiLCJub25Qb3dPZjJ3cmFwcGluZyIsImlzUG93ZXJPZlR3byIsIkJhdGNoYWJsZVNwcml0ZSIsIl9hdHRyaWJ1dGVTdGFydCIsImJvdW5kcyIsIlNwcml0ZSIsInJlc3QiLCJyZW5kZXJQaXBlSWQiLCJfdmlzdWFsQm91bmRzIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsIl9hbmNob3IiLCJfb25VcGRhdGUiLCJvblZpZXdVcGRhdGUiLCJkZWZhdWx0QW5jaG9yIiwiYWxsb3dDaGlsZHJlbiIsInNraXBDYWNoZSIsImN1cnJlbnRUZXh0dXJlIiwiX3dpZHRoIiwiX3NldFdpZHRoIiwib3JpZyIsIl9oZWlnaHQiLCJfc2V0SGVpZ2h0IiwidmlzdWFsQm91bmRzIiwic291cmNlQm91bmRzIiwidXBkYXRlQm91bmRzIiwiX2JvdW5kcyIsIl94IiwiX3kiLCJkZXN0cm95VGV4dHVyZVNvdXJjZSIsInRleHR1cmVTb3VyY2UiLCJhYnMiLCJnZXRTaXplIiwib3V0Iiwic2V0U2l6ZSIsIlNwcml0ZVBpcGUiXSwic291cmNlUm9vdCI6IiJ9