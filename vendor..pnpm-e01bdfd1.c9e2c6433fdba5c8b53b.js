"use strict";(self.webpackChunkpixijs_game=self.webpackChunkpixijs_game||[]).push([[410],{6816:(e,t,s)=>{s.d(t,{v:()=>r});var n=s(413),i=s(2597);class r extends n.A{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return(0,i.t6)(i.lj,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return(0,i.t6)(i.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return(0,i.t6)(i.lj,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return(0,i.t6)(i.lj,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return(0,i.t6)(i.lj,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const e in this.chars)this.chars[e].texture?.destroy();this.chars=null,e&&(this.pages.forEach((e=>e.texture.destroy(!0))),this.pages=null)}}},3413:(e,t,s)=>{s.d(t,{c:()=>b});var n=s(6354),i=s(2597),r=s(8273),a=s(9914),o=s(1598),l=s(7474),h=s(1875),d=s(600),c=s(8554),u=s(5315),p=s(1425),g=s(3605),f=s(6816);function x(e){if(""===e)return[];"string"==typeof e&&(e=[e]);const t=[];for(let s=0,n=e.length;s<n;s++){const n=e[s];if(Array.isArray(n)){if(2!==n.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);if(0===n[0].length||0===n[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const e=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<e)throw new Error("[BitmapFont]: Invalid character range.");for(let n=e,i=s;n<=i;n++)t.push(String.fromCharCode(n))}else t.push(...Array.from(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const m=class e extends f.v{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const s={...e.defaultOptions,...t};this._textureSize=s.textureSize,this._mipmap=s.mipmap;const n=s.style.clone();s.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=c.g.WHITE,n._fill.fill=null),this.applyFillAsTint=s.overrideFill;const i=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const r=(0,p.Z)(n);s.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/i):n.fontSize=this.baseRenderedFontSize=i,this._style=n,this._skipKerning=s.skipKerning??!1,this.resolution=s.resolution??1,this._padding=s.padding??4,this.fontMetrics=u.P.measureFont(r),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){const t=x(e).filter((e=>!this._currentChars.includes(e))).filter(((e,t,s)=>s.indexOf(e)===t));if(!t.length)return;let s;this._currentChars=[...this._currentChars,...t],s=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:n,context:i}=s.canvasAndContext,r=s.texture.source;const a=this._style;let o=this._currentX,h=this._currentY;const d=this.baseRenderedFontSize/this.baseMeasurementFontSize,p=this._padding*d;let g=0,f=!1;const m=n.width/this.resolution,y=n.height/this.resolution;for(let e=0;e<t.length;e++){const s=t[e],x=u.P.measureText(s,a,n,!1);x.lineHeight=x.height;const _=x.width*d,w=Math.ceil(("italic"===a.fontStyle?2:1)*_)+2*p,b=x.height*d+2*p;if(f=!1,"\n"!==s&&"\r"!==s&&"\t"!==s&&" "!==s&&(f=!0,g=Math.ceil(Math.max(b,g))),o+w>m&&(h+=g,g=b,o=0,h+g>y)){r.update();const e=this._nextPage();n=e.canvasAndContext.canvas,i=e.canvasAndContext.context,r=e.texture.source,h=0}const S=_/d-(a.dropShadow?.distance??0)-(a._stroke?.width??0);if(this.chars[s]={id:s.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:S,kerning:{}},f){this._drawGlyph(i,x,o+p,h+p,d,a);const e=r.width*d,t=r.height*d,n=new l.M(o/e*r.width,h/t*r.height,w/e*r.width,b/t*r.height);this.chars[s].texture=new c.g({source:r,frame:n}),o+=Math.ceil(w)}}r.update(),this._currentX=o,this._currentY=h,this._skipKerning&&this._applyKerning(t,i)}get pageTextures(){return(0,i.t6)(i.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const s=this._measureCache;for(let n=0;n<e.length;n++){const i=e[n];for(let e=0;e<this._currentChars.length;e++){const n=this._currentChars[e];let r=s[i];r||(r=s[i]=t.measureText(i).width);let a=s[n];a||(a=s[n]=t.measureText(n).width);let o=t.measureText(i+n).width,l=o-(r+a);l&&(this.chars[i].kerning[n]=l),o=t.measureText(i+n).width,l=o-(r+a),l&&(this.chars[n].kerning[i]=l)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=h.N.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const s=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),n={canvasAndContext:t,texture:new c.g({source:new d.b({resource:t.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})})};return this.pages[this._currentPageIndex]=n,n}_setupContext(e,t,s){t.fontSize=this.baseRenderedFontSize,e.scale(s,s),e.font=(0,p.Z)(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const n=t._stroke,i=n?.width??0;if(n&&(e.lineWidth=i,e.lineJoin=n.join,e.miterLimit=n.miterLimit,e.strokeStyle=(0,g.r)(n,e)),t._fill&&(e.fillStyle=(0,g.r)(t._fill,e)),t.dropShadow){const n=t.dropShadow,i=o.Q.shared.setValue(n.color).toArray(),r=n.blur*s,a=n.distance*s;e.shadowColor=`rgba(${255*i[0]},${255*i[1]},${255*i[2]},${n.alpha})`,e.shadowBlur=r,e.shadowOffsetX=Math.cos(n.angle)*a,e.shadowOffsetY=Math.sin(n.angle)*a}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,s,n,i,r){const a=t.text,o=t.fontProperties,l=r._stroke,h=(l?.width??0)*i,d=s+h/2,c=n-h/2,u=o.descent*i,p=t.lineHeight*i;r.stroke&&h&&e.strokeText(a,d,c+p-u),r._fill&&e.fillText(a,d,c+p-u)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:s}=this.pages[e];h.N.returnCanvasAndContext(t),s.destroy(!0)}this.pages=null}};m.defaultOptions={textureSize:512,style:new a.x,mipmap:!0};let y=m;var _=s(2708);let w=0;const b=new class{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,t){let s=`${t.fontFamily}-bitmap`,i=!0;if(t._fill.fill&&!t._stroke)s+=t._fill.fill.styleKey,i=!1;else if(t._stroke||t.dropShadow){let e=t.styleKey;e=e.substring(0,e.lastIndexOf("-")),s=`${e}-bitmap`,i=!1}if(!n.l.has(s)){const e=new y({style:t,overrideFill:i,overrideSize:!0,...this.defaultOptions});w++,w>50&&(0,r.R)("BitmapText",`You have dynamically created ${w} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),e.once("destroy",(()=>{w--,n.l.remove(s)})),n.l.set(s,e)}const a=n.l.get(s);return a.ensureCharacters?.(e),a}getLayout(e,t,s=!0){const n=this.getFont(e,t);return(0,_.Z)([...e],t,n,s)}measureText(e,t,s=!0){return this.getLayout(e,t,s)}install(...e){let t=e[0];"string"==typeof t&&(t={name:t,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},(0,i.t6)(i.lj,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=t?.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const r=t.style,o=r instanceof a.x?r:new a.x(r),l=null!==o._fill.fill&&void 0!==o._fill.fill,h=new y({style:o,overrideFill:l,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1}),d=x(t.chars);return h.ensureCharacters(d.join("")),n.l.set(`${s}-bitmap`,h),h.once("destroy",(()=>n.l.remove(`${s}-bitmap`))),h}uninstall(e){const t=`${e}-bitmap`,s=n.l.get(t);s&&s.destroy()}}},9162:(e,t,s)=>{s.d(t,{w:()=>m,R:()=>y});var n=s(9160),i=s(4494),r=s(4184),a=s(9084),o=s(2138),l=s(7474),h=s(8554),d=s(6816),c=s(3413);class u extends d.v{constructor(e,t){super();const{textures:s,data:n}=e;Object.keys(n.pages).forEach((e=>{const t=n.pages[parseInt(e,10)],i=s[t.id];this.pages.push({texture:i})})),Object.keys(n.chars).forEach((e=>{const t=n.chars[e],{frame:i,source:r}=s[t.page],a=new l.M(t.x+i.x,t.y+i.y,t.width,t.height),o=new h.g({source:r,frame:a});this.chars[e]={id:e.codePointAt(0),xOffset:t.xOffset,yOffset:t.yOffset,xAdvance:t.xAdvance,kerning:t.kerning??{},texture:o}})),this.baseRenderedFontSize=n.fontSize,this.baseMeasurementFontSize=n.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:n.fontSize},this.baseLineOffset=n.baseLineOffset,this.lineHeight=n.lineHeight,this.fontFamily=n.fontFamily,this.distanceField=n.distanceField??{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){c.c.install(e)}static uninstall(e){c.c.uninstall(e)}}const p={test:e=>"string"==typeof e&&e.startsWith("info face="),parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),s={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const e in t){const n=t[e].match(/^[a-z]+/gm)[0],i=t[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),r={};for(const e in i){const t=i[e].split("="),s=t[0],n=t[1].replace(/"/gm,""),a=parseFloat(n),o=isNaN(a)?n:a;r[s]=o}s[n].push(r)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=s.info,[r]=s.common,[a]=s.distanceField??[];a&&(n.distanceField={range:parseInt(a.distanceRange,10),type:a.fieldType}),n.fontSize=parseInt(i.size,10),n.fontFamily=i.face,n.lineHeight=parseInt(r.lineHeight,10);const o=s.page;for(let e=0;e<o.length;e++)n.pages.push({id:parseInt(o[e].id,10)||0,file:o[e].file});const l={};n.baseLineOffset=n.lineHeight-parseInt(r.base,10);const h=s.char;for(let e=0;e<h.length;e++){const t=h[e],s=parseInt(t.id,10);let i=t.letter??t.char??String.fromCharCode(s);"space"===i&&(i=" "),l[s]=i,n.chars[i]={id:s,page:parseInt(t.page,10)||0,x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xOffset:parseInt(t.xoffset,10),yOffset:parseInt(t.yoffset,10),xAdvance:parseInt(t.xadvance,10),kerning:{}}}const d=s.kerning||[];for(let e=0;e<d.length;e++){const t=parseInt(d[e].first,10),s=parseInt(d[e].second,10),i=parseInt(d[e].amount,10);n.chars[l[s]].kerning[l[t]]=i}return n}},g={test(e){const t=e;return"string"!=typeof t&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},parse(e){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},s=e.getElementsByTagName("info")[0],n=e.getElementsByTagName("common")[0],i=e.getElementsByTagName("distanceField")[0];i&&(t.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const r=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning");t.fontSize=parseInt(s.getAttribute("size"),10),t.fontFamily=s.getAttribute("face"),t.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let e=0;e<r.length;e++)t.pages.push({id:parseInt(r[e].getAttribute("id"),10)||0,file:r[e].getAttribute("file")});const l={};t.baseLineOffset=t.lineHeight-parseInt(n.getAttribute("base"),10);for(let e=0;e<a.length;e++){const s=a[e],n=parseInt(s.getAttribute("id"),10);let i=s.getAttribute("letter")??s.getAttribute("char")??String.fromCharCode(n);"space"===i&&(i=" "),l[n]=i,t.chars[i]={id:n,page:parseInt(s.getAttribute("page"),10)||0,x:parseInt(s.getAttribute("x"),10),y:parseInt(s.getAttribute("y"),10),width:parseInt(s.getAttribute("width"),10),height:parseInt(s.getAttribute("height"),10),xOffset:parseInt(s.getAttribute("xoffset"),10),yOffset:parseInt(s.getAttribute("yoffset"),10),xAdvance:parseInt(s.getAttribute("xadvance"),10),kerning:{}}}for(let e=0;e<o.length;e++){const s=parseInt(o[e].getAttribute("first"),10),n=parseInt(o[e].getAttribute("second"),10),i=parseInt(o[e].getAttribute("amount"),10);t.chars[l[n]].kerning[l[s]]=i}return t}},f={test:e=>!("string"!=typeof e||!e.includes("<font>"))&&g.test(r.e.get().parseXML(e)),parse:e=>g.parse(r.e.get().parseXML(e))},x=[".xml",".fnt"],m={extension:{type:a.Ag.CacheParser,name:"cacheBitmapFont"},test:e=>e instanceof u,getCacheableAssets(e,t){const s={};return e.forEach((e=>{s[e]=t,s[`${e}-bitmap`]=t})),s[`${t.fontFamily}-bitmap`]=t,s}},y={extension:{type:a.Ag.LoadParser,priority:n.T.Normal},name:"loadBitmapFont",test:e=>x.includes(o.A.extname(e).toLowerCase()),testParse:async e=>p.test(e)||f.test(e),async parse(e,t,s){const n=p.test(e)?p.parse(e):f.parse(e),{src:r}=t,{pages:a}=n,l=[],h=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let e=0;e<a.length;++e){const t=a[e].file;let s=o.A.join(o.A.dirname(r),t);s=(0,i.Y)(s,r),l.push({src:s,data:h})}const d=await s.load(l),c=l.map((e=>d[e.src]));return new u({data:n,textures:c},r)},async load(e,t){const s=await r.e.get().fetch(e);return await s.text()},async unload(e,t,s){await Promise.all(e.pages.map((e=>s.unload(e.texture.source._sourceOrigin)))),e.destroy()}}},169:(e,t,s)=>{var n=s(9084),i=s(6354),r=s(8143),a=s(9201),o=s(3521),l=s(3413),h=s(2708);class d{constructor(e){this._gpuBitmapText={},this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const t=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,t)),this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const s=this._getGpuBitmapText(e);c(e,s),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,s)),this._renderer.renderPipes.graphics.addRenderable(s,t),s.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const t=this._gpuBitmapText[e].context;t.customShader&&(r.Z.return(t.customShader),t.customShader=null),r.Z.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const t=this._getGpuBitmapText(e);c(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:s}=t,n=l.c.getFont(e.text,e._style);s.clear(),"none"!==n.distanceField.type&&(s.customShader||(s.customShader=r.Z.get(o.$)));const i=Array.from(e.text),a=e._style;let d=n.baseLineOffset;const c=(0,h.Z)(i,a,n,!0);let u=0;const p=a.padding,g=c.scale;let f=c.width,x=c.height+c.offsetY;a._stroke&&(f+=a._stroke.width/g,x+=a._stroke.width/g),s.translate(-e._anchor._x*f-p,-e._anchor._y*x-p).scale(g,g);const m=n.applyFillAsTint?a._fill.color:16777215;for(let e=0;e<c.lines.length;e++){const t=c.lines[e];for(let e=0;e<t.charPositions.length;e++){const r=i[u++],a=n.chars[r];a?.texture&&s.texture(a.texture,m||"black",Math.round(t.charPositions[e]+a.xOffset),Math.round(d+a.yOffset))}d+=n.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const t=r.Z.get(a.A);return this._gpuBitmapText[e.uid]=t,this._updateContext(e,t),e.on("destroyed",this._destroyRenderableBound),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,s=e._style.fontFamily,n=i.l.get(`${s}-bitmap`),{a:r,b:a,c:o,d:l}=e.groupTransform,h=Math.sqrt(r*r+a*a),d=Math.sqrt(o*o+l*l),c=(Math.abs(h)+Math.abs(d))/2,u=n.baseRenderedFontSize/e._style.fontSize,p=c*n.distanceField.range*(1/u);t.customShader.resources.localUniforms.uniforms.uDistance=p}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}function c(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}d.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"bitmapText"},n.XO.add(d)},2708:(e,t,s)=>{function n(e,t,s,n){const i={width:0,height:0,offsetY:0,scale:t.fontSize/s.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=s.baseLineOffset;let r=i.lines[0],a=null,o=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},h=e=>{const t=r.width;for(let s=0;s<l.index;s++){const n=e.positions[s];r.chars.push(e.chars[s]),r.charPositions.push(n+t)}r.width+=e.width,o=!1,l.width=0,l.index=0,l.chars.length=0},d=()=>{let e=r.chars.length-1;if(n){let t=r.chars[e];for(;" "===t;)r.width-=s.chars[t].xAdvance,t=r.chars[--e]}i.width=Math.max(i.width,r.width),r={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,i.lines.push(r),i.height+=s.lineHeight},c=s.baseMeasurementFontSize/t.fontSize,u=t.letterSpacing*c,p=t.wordWrapWidth*c;for(let n=0;n<e.length+1;n++){let i;const c=n===e.length;c||(i=e[n]);const g=s.chars[i]||s.chars[" "];if(/(?:\s)/.test(i)||"\r"===i||"\n"===i||c){if(!o&&t.wordWrap&&r.width+l.width-u>p?(d(),h(l),c||r.charPositions.push(0)):(l.start=r.width,h(l),c||r.charPositions.push(0)),"\r"===i||"\n"===i)0!==r.width&&d();else if(!c){const e=g.xAdvance+(g.kerning[a]||0)+u;r.width+=e,r.spaceWidth=e,r.spacesIndex.push(r.charPositions.length),r.chars.push(i)}}else{const e=g.kerning[a]||0,t=g.xAdvance+e+u;l.positions[l.index++]=l.width+e,l.chars.push(i),l.width+=t}a=i}return d(),"center"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const s=e.lines[t],n=e.width/2-s.width/2;for(let e=0;e<s.charPositions.length;e++)s.charPositions[e]+=n}}(i):"right"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const s=e.lines[t],n=e.width-s.width;for(let e=0;e<s.charPositions.length;e++)s.charPositions[e]+=n}}(i):"justify"===t.align&&function(e){const t=e.width;for(let s=0;s<e.lines.length;s++){const n=e.lines[s];let i=0,r=n.spacesIndex[i++],a=0;const o=n.spacesIndex.length,l=(t-n.width)/o;for(let e=0;e<n.charPositions.length;e++)e===r&&(r=n.spacesIndex[i++],a+=l),n.charPositions[e]+=a}}(i),i}s.d(t,{Z:()=>n})},6689:(e,t,s)=>{var n=s(9084),i=s(8554),r=s(4579),a=s(8143),o=s(5235);class l{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const s=t.batchableSprite.renderable;s._autoResolution&&(s._resolution=this._renderer.resolution,s.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),s=e._getKey();return t.textureNeedsUploading?(t.textureNeedsUploading=!1,!0):t.currentKey!==s}addRenderable(e,t){const s=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(s,t)}updateRenderable(e){const t=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),t._batcher.updateElement(t)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(t.currentKey),a.Z.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),s=this._getGpuText(e),n=s.batchableSprite;s.currentKey!==t&&this._updateGpuText(e).catch((e=>{console.error(e)})),e._didTextUpdate=!1;const i=e._style.padding;(0,r.y)(n.bounds,e._anchor,n.texture,i)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;const s=e._getKey();this._renderer.htmlText.decreaseReferenceCount(t.currentKey),t.generatingTexture=!0,t.currentKey=s;const n=e.resolution??this._renderer.resolution,i=await this._renderer.htmlText.getManagedTexture(e.text,n,e._style,e._getKey()),a=t.batchableSprite;a.texture=t.texture=i,t.generatingTexture=!1,t.textureNeedsUploading=!0,e.onViewUpdate();const o=e._style.padding;(0,r.y)(a.bounds,e._anchor,a.texture,o)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:i.g.EMPTY,currentKey:"--",batchableSprite:a.Z.get(o.K),textureNeedsUploading:!1,generatingTexture:!1},s=t.batchableSprite;return s.renderable=e,s.transform=e.groupTransform,s.texture=i.g.EMPTY,s.bounds={minX:0,maxX:1,minY:0,maxY:0},s.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._gpuText[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}l.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"htmlText"};var h=s(1875),d=s(1448),c=s(2672),u=s(472),p=s(8273),g=s(5331);const f="http://www.w3.org/2000/svg",x="http://www.w3.org/1999/xhtml";class m{constructor(){this.svgRoot=document.createElementNS(f,"svg"),this.foreignObject=document.createElementNS(f,"foreignObject"),this.domElement=document.createElementNS(x,"div"),this.styleElement=document.createElementNS(x,"style"),this.image=new Image;const{foreignObject:e,svgRoot:t,styleElement:s,domElement:n}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(s),e.appendChild(n)}}var y=s(9914),_=s(9088),w=s(1598);function b(e){const t=e._stroke,s=e._fill,n=[`div { ${[`color: ${w.Q.shared.setValue(s.color).toHex()}`,`font-size: ${e.fontSize}px`,`font-family: ${e.fontFamily}`,`font-weight: ${e.fontWeight}`,`font-style: ${e.fontStyle}`,`font-variant: ${e.fontVariant}`,`letter-spacing: ${e.letterSpacing}px`,`text-align: ${e.align}`,`padding: ${e.padding}px`,`white-space: ${"pre"===e.whiteSpace&&e.wordWrap?"pre-wrap":e.whiteSpace}`,...e.lineHeight?[`line-height: ${e.lineHeight}px`]:[],...e.wordWrap?["word-wrap: "+(e.breakWords?"break-all":"break-word"),`max-width: ${e.wordWrapWidth}px`]:[],...t?[T(t)]:[],...e.dropShadow?[S(e.dropShadow)]:[],...e.cssOverrides].join(";")} }`];return function(e,t){for(const s in e){const n=e[s],i=[];for(const e in n)v[e]?i.push(v[e](n[e])):A[e]&&i.push(A[e].replace("{{VALUE}}",n[e]));t.push(`${s} { ${i.join(";")} }`)}}(e.tagStyles,n),n.join(" ")}function S(e){const t=w.Q.shared.setValue(e.color).setAlpha(e.alpha).toHexa(),s=`${Math.round(Math.cos(e.angle)*e.distance)}px ${Math.round(Math.sin(e.angle)*e.distance)}px`;return e.blur>0?`text-shadow: ${s} ${e.blur}px ${t}`:`text-shadow: ${s} ${t}`}function T(e){return[`-webkit-text-stroke-width: ${e.width}px`,`-webkit-text-stroke-color: ${w.Q.shared.setValue(e.color).toHex()}`,`text-stroke-width: ${e.width}px`,`text-stroke-color: ${w.Q.shared.setValue(e.color).toHex()}`,"paint-order: stroke"].join(";")}const A={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},v={fill:e=>`color: ${w.Q.shared.setValue(e).toHex()}`,breakWords:e=>"word-wrap: "+(e?"break-all":"break-word"),stroke:T,dropShadow:S};class F extends y.x{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=(0,_.V)(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new F({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=b(this)),this._cssStyle}addOverride(...e){const t=e.filter((e=>!this.cssOverrides.includes(e)));t.length>0&&(this.cssOverrides.push(...t),this.update())}removeOverride(...e){const t=e.filter((e=>this.cssOverrides.includes(e)));t.length>0&&(this.cssOverrides=this.cssOverrides.filter((e=>!t.includes(e))),this.update())}set fill(e){"string"!=typeof e&&"number"!=typeof e&&(0,p.R)("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&"string"!=typeof e&&"number"!=typeof e&&(0,p.R)("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}var C=s(6354),M=s(4184);async function k(e,t){const s=await async function(e){const t=await M.e.get().fetch(e),s=await t.blob(),n=new FileReader;return await new Promise(((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(s)}))}(t);return`@font-face {\n        font-family: "${e.fontFamily}";\n        src: url('${s}');\n        font-weight: ${e.fontWeight};\n        font-style: ${e.fontStyle};\n    }`}const B=new Map;let O;class I{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===c.W.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,t,s,n){if(this._activeTextures[n])return this._increaseReferenceCount(n),this._activeTextures[n].promise;const i=this._buildTexturePromise(e,t,s).then((e=>(this._activeTextures[n].texture=e,e)));return this._activeTextures[n]={texture:null,promise:i,usageCount:1},i}async _buildTexturePromise(e,t,s){const n=a.Z.get(m),i=function(e,t){const s=t.fontFamily,n=[],i={},r=e.match(/font-family:([^;"\s]+)/g);function a(e){i[e]||(n.push(e),i[e]=!0)}if(Array.isArray(s))for(let e=0;e<s.length;e++)a(s[e]);else a(s);r&&r.forEach((e=>{a(e.split(":")[1].trim())}));for(const e in t.tagStyles)a(t.tagStyles[e].fontFamily);return n}(e,s),r=await async function(e,t,s){const n=e.filter((e=>C.l.has(`${e}-and-url`))).map(((e,n)=>{if(!B.has(e)){const{url:i}=C.l.get(`${e}-and-url`);0===n?B.set(e,k({fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:e},i)):B.set(e,k({fontWeight:s.fontWeight,fontStyle:s.fontStyle,fontFamily:e},i))}return B.get(e)}));return(await Promise.all(n)).join("\n")}(i,s,F.defaultTextStyle),o=function(e,t,s,n){n||(n=O||(O=new m));const{domElement:i,styleElement:r,svgRoot:a}=n;i.innerHTML=`<style>${t.cssStyle};</style><div style='padding:0'>${e}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),s&&(r.textContent=s),document.body.appendChild(a);const o=i.getBoundingClientRect();a.remove();const l=2*t.padding;return{width:o.width-l,height:o.height-l}}(e,s,r,n),l=Math.ceil(Math.ceil(Math.max(1,o.width)+2*s.padding)*t),d=Math.ceil(Math.ceil(Math.max(1,o.height)+2*s.padding)*t),c=n.image;c.width=2+(0|l),c.height=2+(0|d);const p=function(e,t,s,n,i){const{domElement:r,styleElement:a,svgRoot:o}=i;r.innerHTML=`<style>${t.cssStyle}</style><div style='padding:0;'>${e}</div>`,r.setAttribute("style",`transform: scale(${s});transform-origin: top left; display: inline-block`),a.textContent=n;const{width:l,height:h}=i.image;return o.setAttribute("width",l.toString()),o.setAttribute("height",h.toString()),(new XMLSerializer).serializeToString(o)}(e,s,t,r,n);await function(e,t,s){return new Promise((async n=>{s&&await new Promise((e=>setTimeout(e,100))),e.onload=()=>{n()},e.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(t)}`,e.crossOrigin="anonymous"}))}(c,p,(0,u.n)()&&i.length>0);const f=c;let x;this._createCanvas&&(x=function(e,t){const s=h.N.getOptimalCanvasAndContext(e.width,e.height,t),{context:n}=s;return n.clearRect(0,0,e.width,e.height),n.drawImage(e,0,0),s}(c,t));const y=(0,g.M)(x?x.canvas:f,c.width-2,c.height-2,t);return this._createCanvas&&(this._renderer.texture.initSource(y.source),h.N.returnCanvasAndContext(x)),a.Z.return(n),y}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];t&&(t.usageCount--,0===t.usageCount&&(t.texture?this._cleanUp(t):t.promise.then((e=>{t.texture=e,this._cleanUp(t)})).catch((()=>{(0,p.R)("HTMLTextSystem: Failed to clean texture")})),this._activeTextures[e]=null))}_cleanUp(e){d.W.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}I.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"htmlText"},I.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"},n.XO.add(I),n.XO.add(l)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLi5wbnBtLWUwMWJkZmQxLjc0YjVlMzlmYjJjNzY4M2FkODYzLmpzIiwibWFwcGluZ3MiOiJpSkFJQSxNQUFNQSxVQUEyQixJQUMvQixXQUFBQyxHQUNFQyxTQUFTQyxXQUVUQyxLQUFLQyxNQUF3QkMsT0FBT0MsT0FBTyxNQUszQ0gsS0FBS0ksV0FBYSxFQUtsQkosS0FBS0ssV0FBYSxHQUVsQkwsS0FBS00sWUFBYyxDQUFFQyxTQUFVLEVBQUdDLE9BQVEsRUFBR0MsUUFBUyxHQUt0RFQsS0FBS1UsZUFBaUIsRUFFdEJWLEtBQUtXLGNBQWdCLENBQUVDLEtBQU0sT0FBUUMsTUFBTyxHQUU1Q2IsS0FBS2MsTUFBUSxHQUViZCxLQUFLZSxpQkFBa0IsRUFFdkJmLEtBQUtnQix3QkFBMEIsSUFDL0JoQixLQUFLaUIscUJBQXVCLEdBQzlCLENBS0EsUUFBSUMsR0FFRixPQURBLFFBQVksS0FBUSw0RUFDYmxCLEtBQUtLLFVBQ2QsQ0FLQSxnQkFBSWMsR0FFRixPQURBLFFBQVksS0FBUSwrRUFDYm5CLEtBQUtjLEtBQ2QsQ0FLQSxRQUFJTSxHQUVGLE9BREEsUUFBWSxLQUFRLHNGQUNicEIsS0FBS00sWUFBWUMsUUFDMUIsQ0FLQSxzQkFBSWMsR0FFRixPQURBLFFBQVksS0FBUSxtR0FDYnJCLEtBQUtXLGNBQWNFLEtBQzVCLENBS0EscUJBQUlTLEdBRUYsT0FEQSxRQUFZLEtBQVEsaUdBQ2J0QixLQUFLVyxjQUFjQyxJQUM1QixDQUNBLE9BQUFXLENBQVFDLEdBQWtCLEdBQ3hCeEIsS0FBS3lCLEtBQUssVUFBV3pCLE1BQ3JCQSxLQUFLMEIscUJBQ0wsSUFBSyxNQUFNQyxLQUFLM0IsS0FBS0MsTUFDbkJELEtBQUtDLE1BQU0wQixHQUFHQyxTQUFTTCxVQUV6QnZCLEtBQUtDLE1BQVEsS0FDVHVCLElBQ0Z4QixLQUFLYyxNQUFNZSxTQUFTQyxHQUFTQSxFQUFLRixRQUFRTCxTQUFRLEtBQ2xEdkIsS0FBS2MsTUFBUSxLQUVqQixFLHVLQ3RGRixTQUFTaUIs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VCxDQUNBLHVCQUFBa2UsQ0FBd0JELEdBQ3RCN2YsS0FBS3dmLGdCQUFnQkssR0FBU0ksWUFDaEMsQ0FDQSxzQkFBQXZGLENBQXVCbUYsR0FDckIsTUFBTTZDLEVBQWdCMWlCLEtBQUt3ZixnQkFBZ0JLLEdBQ3RDNkMsSUFFTEEsRUFBY3pDLGFBQ21CLElBQTdCeUMsRUFBY3pDLGFBQ1p5QyxFQUFjOWdCLFFBQ2hCNUIsS0FBSzJpQixTQUFTRCxHQUVkQSxFQUFjM0MsUUFBUUMsTUFBTXBlLElBQzFCOGdCLEVBQWM5Z0IsUUFBVUEsRUFDeEI1QixLQUFLMmlCLFNBQVNELEVBQWMsSUFDM0I5SCxPQUFNLE1BQ1AsRUFBQXBPLEVBQUEsR0FBSywwQ0FBMEMsSUFHbkR4TSxLQUFLd2YsZ0JBQWdCSyxHQUFXLE1BRXBDLENBQ0EsUUFBQThDLENBQVNELEdBQ1BFLEVBQUEsRUFBWUMsY0FBY0gsRUFBYzlnQixTQUN4QzhnQixFQUFjOWdCLFFBQVFxRSxPQUFPK0MsU0FBVyxLQUN4QzBaLEVBQWM5Z0IsUUFBUXFFLE9BQU82YyxlQUFpQixTQUNoRCxDQUNBLGlCQUFBQyxDQUFrQmxELEdBQ2hCLE9BQU83ZixLQUFLd2YsZ0JBQWdCSyxHQUFTSSxVQUN2QyxDQUNBLE9BQUExZSxHQUNFdkIsS0FBS3dmLGdCQUFrQixJQUN6QixFQUdGRCxFQUFlOU8sVUFBWSxDQUN6QjdQLEtBQU0sQ0FDSixLQUFjb2lCLFlBQ2QsS0FBY0MsYUFDZCxLQUFjQyxjQUVoQjlWLEtBQU0sWUFFUm1TLEVBQWU0RCxtQkFBcUIsQ0FDbEM5aUIsV0FBWSxRQUNaMEcsVUFBVyxTQUNYK1YsV0FBWSxVSzNIZCxLQUFXM0YsSUFBSW9JLEdBQ2YsS0FBV3BJLElBQUlnQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvQWJzdHJhY3RCaXRtYXBGb250Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC91dGlscy9yZXNvbHZlQ2hhcmFjdGVycy5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvRHluYW1pY0JpdG1hcEZvbnQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtYml0bWFwL0JpdG1hcEZvbnRNYW5hZ2VyLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9CaXRtYXBGb250Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9hc3NldC9iaXRtYXBGb250VGV4dFBhcnNlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvYXNzZXQvYml0bWFwRm9udFhNTFBhcnNlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvYXNzZXQvYml0bWFwRm9udFhNTFN0cmluZ1BhcnNlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1iaXRtYXAvYXNzZXQvbG9hZEJpdG1hcEZvbnQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtYml0bWFwL0JpdG1hcFRleHRQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC91dGlscy9nZXRCaXRtYXBUZXh0TGF5b3V0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSFRNTFRleHRQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSFRNTFRleHRSZW5kZXJEYXRhLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvdGV4dFN0eWxlVG9DU1MubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFN0eWxlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbG9hZEZvbnRDU1MubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9sb2FkRm9udEFzQmFzZTY0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0Rm9udENzcy5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL21lYXN1cmVIdG1sVGV4dC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL0hUTUxUZXh0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZXh0cmFjdEZvbnRGYW1pbGllcy5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2dldFNWR1VybC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2xvYWRTVkdJbWFnZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2dldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL2luaXQubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEFic3RyYWN0Qml0bWFwRm9udCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqIFRoZSBtYXAgb2YgY2hhcmFjdGVycyBieSBjaGFyYWN0ZXIgY29kZS4gKi9cbiAgICB0aGlzLmNoYXJzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLyoqXG4gICAgICogVGhlIGxpbmUtaGVpZ2h0IG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYWNlXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZvbnRGYW1pbHkgPSBcIlwiO1xuICAgIC8qKiBUaGUgbWV0cmljcyBvZiB0aGUgZm9udCBmYWNlLiAqL1xuICAgIHRoaXMuZm9udE1ldHJpY3MgPSB7IGZvbnRTaXplOiAwLCBhc2NlbnQ6IDAsIGRlc2NlbnQ6IDAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBmb250IGZhY2UgZnJvbSB0aGUgYmFzZWxpbmUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VMaW5lT2Zmc2V0ID0gMDtcbiAgICAvKiogVGhlIHJhbmdlIGFuZCB0eXBlIG9mIHRoZSBkaXN0YW5jZSBmaWVsZCBmb3IgdGhpcyBmb250LiAqL1xuICAgIHRoaXMuZGlzdGFuY2VGaWVsZCA9IHsgdHlwZTogXCJub25lXCIsIHJhbmdlOiAwIH07XG4gICAgLyoqIFRoZSBtYXAgb2YgYmFzZSBwYWdlIHRleHR1cmVzIChpLmUuLCBzaGVldHMgb2YgZ2x5cGhzKS4gKi9cbiAgICB0aGlzLnBhZ2VzID0gW107XG4gICAgLyoqIHNob3VsZCB0aGUgZmlsbCBmb3IgdGhpcyBmb250IGJlIGFwcGxpZWQgYXMgYSB0aW50IHRvIHRoZSB0ZXh0LiAqL1xuICAgIHRoaXMuYXBwbHlGaWxsQXNUaW50ID0gdHJ1ZTtcbiAgICAvKiogVGhlIHNpemUgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuICovXG4gICAgdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZSA9IDEwMDtcbiAgICB0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplID0gMTAwO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYWNlLlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMCBVc2UgYGZvbnRGYW1pbHlgIGluc3RlYWQuXG4gICAqL1xuICBnZXQgZm9udCgpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udC5mb250IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQml0bWFwRm9udC5mb250RmFtaWx5IGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLmZvbnRGYW1pbHk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBtYXAgb2YgYmFzZSBwYWdlIHRleHR1cmVzIChpLmUuLCBzaGVldHMgb2YgZ2x5cGhzKS5cbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4wLjAgVXNlIGBwYWdlc2AgaW5zdGVhZC5cbiAgICovXG4gIGdldCBwYWdlVGV4dHVyZXMoKSB7XG4gICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJpdG1hcEZvbnQucGFnZVRleHR1cmVzIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQml0bWFwRm9udC5wYWdlcyBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5wYWdlcztcbiAgfVxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMC4wIFVzZSBgZm9udE1ldHJpY3MuZm9udFNpemVgIGluc3RlYWQuXG4gICAqL1xuICBnZXQgc2l6ZSgpIHtcbiAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udC5zaXplIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQml0bWFwRm9udC5mb250TWV0cmljcy5mb250U2l6ZSBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5mb250TWV0cmljcy5mb250U2l6ZTtcbiAgfVxuICAvKipcbiAgICogVGhlIGtpbmQgb2YgZGlzdGFuY2UgZmllbGQgZm9yIHRoaXMgZm9udCBvciBcIm5vbmVcIi5cbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4wLjAgVXNlIGBkaXN0YW5jZUZpZWxkLnR5cGVgIGluc3RlYWQuXG4gICAqL1xuICBnZXQgZGlzdGFuY2VGaWVsZFJhbmdlKCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LmRpc3RhbmNlRmllbGRSYW5nZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQuZGlzdGFuY2VGaWVsZC5yYW5nZSBpbnN0ZWFkLlwiKTtcbiAgICByZXR1cm4gdGhpcy5kaXN0YW5jZUZpZWxkLnJhbmdlO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcmFuZ2Ugb2YgdGhlIGRpc3RhbmNlIGZpZWxkIGluIHBpeGVscy5cbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4wLjAgVXNlIGBkaXN0YW5jZUZpZWxkLnJhbmdlYCBpbnN0ZWFkLlxuICAgKi9cbiAgZ2V0IGRpc3RhbmNlRmllbGRUeXBlKCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LmRpc3RhbmNlRmllbGRUeXBlIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQml0bWFwRm9udC5kaXN0YW5jZUZpZWxkLnR5cGUgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuZGlzdGFuY2VGaWVsZC50eXBlO1xuICB9XG4gIGRlc3Ryb3koZGVzdHJveVRleHR1cmVzID0gZmFsc2UpIHtcbiAgICB0aGlzLmVtaXQoXCJkZXN0cm95XCIsIHRoaXMpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuY2hhcnMpIHtcbiAgICAgIHRoaXMuY2hhcnNbaV0udGV4dHVyZT8uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICBpZiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICB0aGlzLnBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHBhZ2UudGV4dHVyZS5kZXN0cm95KHRydWUpKTtcbiAgICAgIHRoaXMucGFnZXMgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBBYnN0cmFjdEJpdG1hcEZvbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFic3RyYWN0Qml0bWFwRm9udC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gIGlmIChjaGFycyA9PT0gXCJcIikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAodHlwZW9mIGNoYXJzID09PSBcInN0cmluZ1wiKSB7XG4gICAgY2hhcnMgPSBbY2hhcnNdO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IGNoYXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBjaGFyc1tpXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgaWYgKGl0ZW0ubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZSBsZW5ndGgsIGV4cGVjdGluZyAyIGdvdCAke2l0ZW0ubGVuZ3RofS5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzBdLmxlbmd0aCA9PT0gMCB8fCBpdGVtWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIGRlbGltaXRlci5cIik7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGFydENvZGUgPSBpdGVtWzBdLmNoYXJDb2RlQXQoMCk7XG4gICAgICBjb25zdCBlbmRDb2RlID0gaXRlbVsxXS5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGVuZENvZGUgPCBzdGFydENvZGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS5cIik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpMiA9IHN0YXJ0Q29kZSwgajIgPSBlbmRDb2RlOyBpMiA8PSBqMjsgaTIrKykge1xuICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGkyKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKC4uLkFycmF5LmZyb20oaXRlbSkpO1xuICAgIH1cbiAgfVxuICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XTogRW1wdHkgc2V0IHdoZW4gcmVzb2x2aW5nIGNoYXJhY3RlcnMuXCIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IHJlc29sdmVDaGFyYWN0ZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlQ2hhcmFjdGVycy5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9DYW52YXNQb29sLm1qcyc7XG5pbXBvcnQgeyBJbWFnZVNvdXJjZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvc291cmNlcy9JbWFnZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHY4XzBfMCB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH0gZnJvbSAnLi4vdGV4dC9jYW52YXMvQ2FudmFzVGV4dE1ldHJpY3MubWpzJztcbmltcG9ydCB7IGZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlIH0gZnJvbSAnLi4vdGV4dC9jYW52YXMvdXRpbHMvZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGdldENhbnZhc0ZpbGxTdHlsZSB9IGZyb20gJy4uL3RleHQvY2FudmFzL3V0aWxzL2dldENhbnZhc0ZpbGxTdHlsZS5tanMnO1xuaW1wb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnLi4vdGV4dC9UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IEFic3RyYWN0Qml0bWFwRm9udCB9IGZyb20gJy4vQWJzdHJhY3RCaXRtYXBGb250Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlQ2hhcmFjdGVycyB9IGZyb20gJy4vdXRpbHMvcmVzb2x2ZUNoYXJhY3RlcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfRHluYW1pY0JpdG1hcEZvbnQgPSBjbGFzcyBfRHluYW1pY0JpdG1hcEZvbnQgZXh0ZW5kcyBBYnN0cmFjdEJpdG1hcEZvbnQge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGR5bmFtaWMgYml0bWFwIGZvbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKipcbiAgICAgKiB0aGlzIGlzIGEgcmVzb2x1dGlvbiBtb2RpZmllciBmb3IgdGhlIGZvbnQgc2l6ZS4uXG4gICAgICogdGV4dHVyZSByZXNvbHV0aW9uIHdpbGwgYWxzbyBiZSB1c2VkIHRvIHNjYWxlIHRleHR1cmUgYWNjb3JkaW5nIHRvIGl0cyBmb250IHNpemUgYWxzb1xuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG4gICAgLyoqIFRoZSBwYWdlcyBvZiB0aGUgZm9udC4gKi9cbiAgICB0aGlzLnBhZ2VzID0gW107XG4gICAgdGhpcy5fcGFkZGluZyA9IDA7XG4gICAgdGhpcy5fbWVhc3VyZUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fY3VycmVudENoYXJzID0gW107XG4gICAgdGhpcy5fY3VycmVudFggPSAwO1xuICAgIHRoaXMuX2N1cnJlbnRZID0gMDtcbiAgICB0aGlzLl9jdXJyZW50UGFnZUluZGV4ID0gLTE7XG4gICAgdGhpcy5fc2tpcEtlcm5pbmcgPSBmYWxzZTtcbiAgICBjb25zdCBkeW5hbWljT3B0aW9ucyA9IHsgLi4uX0R5bmFtaWNCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy5fdGV4dHVyZVNpemUgPSBkeW5hbWljT3B0aW9ucy50ZXh0dXJlU2l6ZTtcbiAgICB0aGlzLl9taXBtYXAgPSBkeW5hbWljT3B0aW9ucy5taXBtYXA7XG4gICAgY29uc3Qgc3R5bGUgPSBkeW5hbWljT3B0aW9ucy5zdHlsZS5jbG9uZSgpO1xuICAgIGlmIChkeW5hbWljT3B0aW9ucy5vdmVycmlkZUZpbGwpIHtcbiAgICAgIHN0eWxlLl9maWxsLmNvbG9yID0gMTY3NzcyMTU7XG4gICAgICBzdHlsZS5fZmlsbC5hbHBoYSA9IDE7XG4gICAgICBzdHlsZS5fZmlsbC50ZXh0dXJlID0gVGV4dHVyZS5XSElURTtcbiAgICAgIHN0eWxlLl9maWxsLmZpbGwgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5RmlsbEFzVGludCA9IGR5bmFtaWNPcHRpb25zLm92ZXJyaWRlRmlsbDtcbiAgICBjb25zdCByZXF1ZXN0ZWRGb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgIHN0eWxlLmZvbnRTaXplID0gdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZTtcbiAgICBjb25zdCBmb250ID0gZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUoc3R5bGUpO1xuICAgIGlmIChkeW5hbWljT3B0aW9ucy5vdmVycmlkZVNpemUpIHtcbiAgICAgIGlmIChzdHlsZS5fc3Ryb2tlKSB7XG4gICAgICAgIHN0eWxlLl9zdHJva2Uud2lkdGggKj0gdGhpcy5iYXNlUmVuZGVyZWRGb250U2l6ZSAvIHJlcXVlc3RlZEZvbnRTaXplO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5mb250U2l6ZSA9IHRoaXMuYmFzZVJlbmRlcmVkRm9udFNpemUgPSByZXF1ZXN0ZWRGb250U2l6ZTtcbiAgICB9XG4gICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLl9za2lwS2VybmluZyA9IGR5bmFtaWNPcHRpb25zLnNraXBLZXJuaW5nID8/IGZhbHNlO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IGR5bmFtaWNPcHRpb25zLnJlc29sdXRpb24gPz8gMTtcbiAgICB0aGlzLl9wYWRkaW5nID0gZHluYW1pY09wdGlvbnMucGFkZGluZyA/PyA0O1xuICAgIHRoaXMuZm9udE1ldHJpY3MgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IHRoaXMuZm9udE1ldHJpY3MuZm9udFNpemUgfHwgc3R5bGUuZm9udFNpemU7XG4gIH1cbiAgZW5zdXJlQ2hhcmFjdGVycyhjaGFycykge1xuICAgIGNvbnN0IGNoYXJMaXN0ID0gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpLmZpbHRlcigoY2hhcikgPT4gIXRoaXMuX2N1cnJlbnRDaGFycy5pbmNsdWRlcyhjaGFyKSkuZmlsdGVyKChjaGFyLCBpbmRleCwgc2VsZikgPT4gc2VsZi5pbmRleE9mKGNoYXIpID09PSBpbmRleCk7XG4gICAgaWYgKCFjaGFyTGlzdC5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fY3VycmVudENoYXJzID0gWy4uLnRoaXMuX2N1cnJlbnRDaGFycywgLi4uY2hhckxpc3RdO1xuICAgIGxldCBwYWdlRGF0YTtcbiAgICBpZiAodGhpcy5fY3VycmVudFBhZ2VJbmRleCA9PT0gLTEpIHtcbiAgICAgIHBhZ2VEYXRhID0gdGhpcy5fbmV4dFBhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFnZURhdGEgPSB0aGlzLnBhZ2VzW3RoaXMuX2N1cnJlbnRQYWdlSW5kZXhdO1xuICAgIH1cbiAgICBsZXQgeyBjYW52YXMsIGNvbnRleHQgfSA9IHBhZ2VEYXRhLmNhbnZhc0FuZENvbnRleHQ7XG4gICAgbGV0IHRleHR1cmVTb3VyY2UgPSBwYWdlRGF0YS50ZXh0dXJlLnNvdXJjZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgIGxldCBjdXJyZW50WCA9IHRoaXMuX2N1cnJlbnRYO1xuICAgIGxldCBjdXJyZW50WSA9IHRoaXMuX2N1cnJlbnRZO1xuICAgIGNvbnN0IGZvbnRTY2FsZSA9IHRoaXMuYmFzZVJlbmRlcmVkRm9udFNpemUgLyB0aGlzLmJhc2VNZWFzdXJlbWVudEZvbnRTaXplO1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLl9wYWRkaW5nICogZm9udFNjYWxlO1xuICAgIGxldCBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICBsZXQgc2tpcFRleHR1cmUgPSBmYWxzZTtcbiAgICBjb25zdCBtYXhUZXh0dXJlV2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgY29uc3QgbWF4VGV4dHVyZUhlaWdodCA9IGNhbnZhcy5oZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IGNoYXJMaXN0W2ldO1xuICAgICAgY29uc3QgbWV0cmljcyA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KGNoYXIsIHN0eWxlLCBjYW52YXMsIGZhbHNlKTtcbiAgICAgIG1ldHJpY3MubGluZUhlaWdodCA9IG1ldHJpY3MuaGVpZ2h0O1xuICAgICAgY29uc3Qgd2lkdGggPSBtZXRyaWNzLndpZHRoICogZm9udFNjYWxlO1xuICAgICAgY29uc3QgdGV4dHVyZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoKHN0eWxlLmZvbnRTdHlsZSA9PT0gXCJpdGFsaWNcIiA/IDIgOiAxKSAqIHdpZHRoKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IG1ldHJpY3MuaGVpZ2h0ICogZm9udFNjYWxlO1xuICAgICAgY29uc3QgcGFkZGVkV2lkdGggPSB0ZXh0dXJlR2x5cGhXaWR0aCArIHBhZGRpbmcgKiAyO1xuICAgICAgY29uc3QgcGFkZGVkSGVpZ2h0ID0gaGVpZ2h0ICsgcGFkZGluZyAqIDI7XG4gICAgICBza2lwVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgaWYgKGNoYXIgIT09IFwiXFxuXCIgJiYgY2hhciAhPT0gXCJcXHJcIiAmJiBjaGFyICE9PSBcIlx0XCIgJiYgY2hhciAhPT0gXCIgXCIpIHtcbiAgICAgICAgc2tpcFRleHR1cmUgPSB0cnVlO1xuICAgICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGgubWF4KHBhZGRlZEhlaWdodCwgbWF4Q2hhckhlaWdodCkpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRYICsgcGFkZGVkV2lkdGggPiBtYXhUZXh0dXJlV2lkdGgpIHtcbiAgICAgICAgY3VycmVudFkgKz0gbWF4Q2hhckhlaWdodDtcbiAgICAgICAgbWF4Q2hhckhlaWdodCA9IHBhZGRlZEhlaWdodDtcbiAgICAgICAgY3VycmVudFggPSAwO1xuICAgICAgICBpZiAoY3VycmVudFkgKyBtYXhDaGFySGVpZ2h0ID4gbWF4VGV4dHVyZUhlaWdodCkge1xuICAgICAgICAgIHRleHR1cmVTb3VyY2UudXBkYXRlKCk7XG4gICAgICAgICAgY29uc3QgcGFnZURhdGEyID0gdGhpcy5fbmV4dFBhZ2UoKTtcbiAgICAgICAgICBjYW52YXMgPSBwYWdlRGF0YTIuY2FudmFzQW5kQ29udGV4dC5jYW52YXM7XG4gICAgICAgICAgY29udGV4dCA9IHBhZ2VEYXRhMi5jYW52YXNBbmRDb250ZXh0LmNvbnRleHQ7XG4gICAgICAgICAgdGV4dHVyZVNvdXJjZSA9IHBhZ2VEYXRhMi50ZXh0dXJlLnNvdXJjZTtcbiAgICAgICAgICBjdXJyZW50WSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHhBZHZhbmNlID0gd2lkdGggLyBmb250U2NhbGUgLSAoc3R5bGUuZHJvcFNoYWRvdz8uZGlzdGFuY2UgPz8gMCkgLSAoc3R5bGUuX3N0cm9rZT8ud2lkdGggPz8gMCk7XG4gICAgICB0aGlzLmNoYXJzW2NoYXJdID0ge1xuICAgICAgICBpZDogY2hhci5jb2RlUG9pbnRBdCgwKSxcbiAgICAgICAgeE9mZnNldDogLXRoaXMuX3BhZGRpbmcsXG4gICAgICAgIHlPZmZzZXQ6IC10aGlzLl9wYWRkaW5nLFxuICAgICAgICB4QWR2YW5jZSxcbiAgICAgICAga2VybmluZzoge31cbiAgICAgIH07XG4gICAgICBpZiAoc2tpcFRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fZHJhd0dseXBoKFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgbWV0cmljcyxcbiAgICAgICAgICBjdXJyZW50WCArIHBhZGRpbmcsXG4gICAgICAgICAgY3VycmVudFkgKyBwYWRkaW5nLFxuICAgICAgICAgIGZvbnRTY2FsZSxcbiAgICAgICAgICBzdHlsZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBweCA9IHRleHR1cmVTb3VyY2Uud2lkdGggKiBmb250U2NhbGU7XG4gICAgICAgIGNvbnN0IHB5ID0gdGV4dHVyZVNvdXJjZS5oZWlnaHQgKiBmb250U2NhbGU7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICBjdXJyZW50WCAvIHB4ICogdGV4dHVyZVNvdXJjZS53aWR0aCxcbiAgICAgICAgICBjdXJyZW50WSAvIHB5ICogdGV4dHVyZVNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgcGFkZGVkV2lkdGggLyBweCAqIHRleHR1cmVTb3VyY2Uud2lkdGgsXG4gICAgICAgICAgcGFkZGVkSGVpZ2h0IC8gcHkgKiB0ZXh0dXJlU291cmNlLmhlaWdodFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNoYXJzW2NoYXJdLnRleHR1cmUgPSBuZXcgVGV4dHVyZSh7XG4gICAgICAgICAgc291cmNlOiB0ZXh0dXJlU291cmNlLFxuICAgICAgICAgIGZyYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50WCArPSBNYXRoLmNlaWwocGFkZGVkV2lkdGgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZXh0dXJlU291cmNlLnVwZGF0ZSgpO1xuICAgIHRoaXMuX2N1cnJlbnRYID0gY3VycmVudFg7XG4gICAgdGhpcy5fY3VycmVudFkgPSBjdXJyZW50WTtcbiAgICB0aGlzLl9za2lwS2VybmluZyAmJiB0aGlzLl9hcHBseUtlcm5pbmcoY2hhckxpc3QsIGNvbnRleHQpO1xuICB9XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA4LjAuMFxuICAgKiBUaGUgbWFwIG9mIGJhc2UgcGFnZSB0ZXh0dXJlcyAoaS5lLiwgc2hlZXRzIG9mIGdseXBocykuXG4gICAqL1xuICBnZXQgcGFnZVRleHR1cmVzKCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJCaXRtYXBGb250LnBhZ2VUZXh0dXJlcyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJpdG1hcEZvbnQucGFnZXMgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMucGFnZXM7XG4gIH1cbiAgX2FwcGx5S2VybmluZyhuZXdDaGFycywgY29udGV4dCkge1xuICAgIGNvbnN0IG1lYXN1cmVDYWNoZSA9IHRoaXMuX21lYXN1cmVDYWNoZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IG5ld0NoYXJzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9jdXJyZW50Q2hhcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3Qgc2Vjb25kID0gdGhpcy5fY3VycmVudENoYXJzW2pdO1xuICAgICAgICBsZXQgYzEgPSBtZWFzdXJlQ2FjaGVbZmlyc3RdO1xuICAgICAgICBpZiAoIWMxKVxuICAgICAgICAgIGMxID0gbWVhc3VyZUNhY2hlW2ZpcnN0XSA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QpLndpZHRoO1xuICAgICAgICBsZXQgYzIgPSBtZWFzdXJlQ2FjaGVbc2Vjb25kXTtcbiAgICAgICAgaWYgKCFjMilcbiAgICAgICAgICBjMiA9IG1lYXN1cmVDYWNoZVtzZWNvbmRdID0gY29udGV4dC5tZWFzdXJlVGV4dChzZWNvbmQpLndpZHRoO1xuICAgICAgICBsZXQgdG90YWwgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGZpcnN0ICsgc2Vjb25kKS53aWR0aDtcbiAgICAgICAgbGV0IGFtb3VudCA9IHRvdGFsIC0gKGMxICsgYzIpO1xuICAgICAgICBpZiAoYW1vdW50KSB7XG4gICAgICAgICAgdGhpcy5jaGFyc1tmaXJzdF0ua2VybmluZ1tzZWNvbmRdID0gYW1vdW50O1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCArIHNlY29uZCkud2lkdGg7XG4gICAgICAgIGFtb3VudCA9IHRvdGFsIC0gKGMxICsgYzIpO1xuICAgICAgICBpZiAoYW1vdW50KSB7XG4gICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9uZXh0UGFnZSgpIHtcbiAgICB0aGlzLl9jdXJyZW50UGFnZUluZGV4Kys7XG4gICAgY29uc3QgdGV4dHVyZVJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgY29uc3QgY2FudmFzQW5kQ29udGV4dCA9IENhbnZhc1Bvb2wuZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQoXG4gICAgICB0aGlzLl90ZXh0dXJlU2l6ZSxcbiAgICAgIHRoaXMuX3RleHR1cmVTaXplLFxuICAgICAgdGV4dHVyZVJlc29sdXRpb25cbiAgICApO1xuICAgIHRoaXMuX3NldHVwQ29udGV4dChjYW52YXNBbmRDb250ZXh0LmNvbnRleHQsIHRoaXMuX3N0eWxlLCB0ZXh0dXJlUmVzb2x1dGlvbik7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRleHR1cmVSZXNvbHV0aW9uICogKHRoaXMuYmFzZVJlbmRlcmVkRm9udFNpemUgLyB0aGlzLmJhc2VNZWFzdXJlbWVudEZvbnRTaXplKTtcbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgc291cmNlOiBuZXcgSW1hZ2VTb3VyY2Uoe1xuICAgICAgICByZXNvdXJjZTogY2FudmFzQW5kQ29udGV4dC5jYW52YXMsXG4gICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgIGFscGhhTW9kZTogXCJwcmVtdWx0aXBseS1hbHBoYS1vbi11cGxvYWRcIixcbiAgICAgICAgYXV0b0dlbmVyYXRlTWlwbWFwczogdGhpcy5fbWlwbWFwXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGNvbnN0IHBhZ2VEYXRhID0ge1xuICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgIHRleHR1cmVcbiAgICB9O1xuICAgIHRoaXMucGFnZXNbdGhpcy5fY3VycmVudFBhZ2VJbmRleF0gPSBwYWdlRGF0YTtcbiAgICByZXR1cm4gcGFnZURhdGE7XG4gIH1cbiAgLy8gY2FudmFzIHN0eWxlIVxuICBfc2V0dXBDb250ZXh0KGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uKSB7XG4gICAgc3R5bGUuZm9udFNpemUgPSB0aGlzLmJhc2VSZW5kZXJlZEZvbnRTaXplO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgY29udGV4dC5mb250ID0gZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUoc3R5bGUpO1xuICAgIHN0eWxlLmZvbnRTaXplID0gdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZTtcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb25zdCBzdHJva2UgPSBzdHlsZS5fc3Ryb2tlO1xuICAgIGNvbnN0IHN0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZT8ud2lkdGggPz8gMDtcbiAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHJva2Uuam9pbjtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZS5taXRlckxpbWl0O1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGdldENhbnZhc0ZpbGxTdHlsZShzdHJva2UsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuX2ZpbGwpIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2V0Q2FudmFzRmlsbFN0eWxlKHN0eWxlLl9maWxsLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIGNvbnN0IHNoYWRvd09wdGlvbnMgPSBzdHlsZS5kcm9wU2hhZG93O1xuICAgICAgY29uc3QgcmdiID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKHNoYWRvd09wdGlvbnMuY29sb3IpLnRvQXJyYXkoKTtcbiAgICAgIGNvbnN0IGRyb3BTaGFkb3dCbHVyID0gc2hhZG93T3B0aW9ucy5ibHVyICogcmVzb2x1dGlvbjtcbiAgICAgIGNvbnN0IGRyb3BTaGFkb3dEaXN0YW5jZSA9IHNoYWRvd09wdGlvbnMuZGlzdGFuY2UgKiByZXNvbHV0aW9uO1xuICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IGByZ2JhKCR7cmdiWzBdICogMjU1fSwke3JnYlsxXSAqIDI1NX0sJHtyZ2JbMl0gKiAyNTV9LCR7c2hhZG93T3B0aW9ucy5hbHBoYX0pYDtcbiAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc2hhZG93T3B0aW9ucy5hbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzaGFkb3dPcHRpb25zLmFuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gIH1cbiAgX2RyYXdHbHlwaChjb250ZXh0LCBtZXRyaWNzLCB4LCB5LCBmb250U2NhbGUsIHN0eWxlKSB7XG4gICAgY29uc3QgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgICBjb25zdCBmb250UHJvcGVydGllcyA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXM7XG4gICAgY29uc3Qgc3Ryb2tlID0gc3R5bGUuX3N0cm9rZTtcbiAgICBjb25zdCBzdHJva2VUaGlja25lc3MgPSAoc3Ryb2tlPy53aWR0aCA/PyAwKSAqIGZvbnRTY2FsZTtcbiAgICBjb25zdCB0eCA9IHggKyBzdHJva2VUaGlja25lc3MgLyAyO1xuICAgIGNvbnN0IHR5ID0geSAtIHN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgY29uc3QgZGVzY2VudCA9IGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQgKiBmb250U2NhbGU7XG4gICAgY29uc3QgbGluZUhlaWdodCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGZvbnRTY2FsZTtcbiAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIGxpbmVIZWlnaHQgLSBkZXNjZW50KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLl9maWxsKSB7XG4gICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIGxpbmVIZWlnaHQgLSBkZXNjZW50KTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB7IGNhbnZhc0FuZENvbnRleHQsIHRleHR1cmUgfSA9IHRoaXMucGFnZXNbaV07XG4gICAgICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoY2FudmFzQW5kQ29udGV4dCk7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMucGFnZXMgPSBudWxsO1xuICB9XG59O1xuX0R5bmFtaWNCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zID0ge1xuICB0ZXh0dXJlU2l6ZTogNTEyLFxuICBzdHlsZTogbmV3IFRleHRTdHlsZSgpLFxuICBtaXBtYXA6IHRydWVcbn07XG5sZXQgRHluYW1pY0JpdG1hcEZvbnQgPSBfRHluYW1pY0JpdG1hcEZvbnQ7XG5cbmV4cG9ydCB7IER5bmFtaWNCaXRtYXBGb250IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EeW5hbWljQml0bWFwRm9udC5tanMubWFwXG4iLCJpbXBvcnQgeyBDYWNoZSB9IGZyb20gJy4uLy4uL2Fzc2V0cy9jYWNoZS9DYWNoZS5tanMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24sIHY4XzBfMCB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4uL3RleHQvVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBEeW5hbWljQml0bWFwRm9udCB9IGZyb20gJy4vRHluYW1pY0JpdG1hcEZvbnQubWpzJztcbmltcG9ydCB7IGdldEJpdG1hcFRleHRMYXlvdXQgfSBmcm9tICcuL3V0aWxzL2dldEJpdG1hcFRleHRMYXlvdXQubWpzJztcbmltcG9ydCB7IHJlc29sdmVDaGFyYWN0ZXJzIH0gZnJvbSAnLi91dGlscy9yZXNvbHZlQ2hhcmFjdGVycy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBmb250Q291bnQgPSAwO1xuY2xhc3MgQml0bWFwRm9udE1hbmFnZXJDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgdGhlIGxldHRlcnMgaW4gdGhlIGFscGhhYmV0IChib3RoIGxvd2VyLSBhbmQgdXBwZXItIGNhc2UpLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKCdFeGFtcGxlRm9udCcsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250LkFMUEhBIH0pXG4gICAgICovXG4gICAgdGhpcy5BTFBIQSA9IFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFwiIFwiXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHR5cGUge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oJ0V4YW1wbGVGb250Jywgc3R5bGUsIHsgY2hhcnM6IEJpdG1hcEZvbnQuTlVNRVJJQyB9KVxuICAgICAqL1xuICAgIHRoaXMuTlVNRVJJQyA9IFtbXCIwXCIsIFwiOVwiXV07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGlzIHRoZSB1bmlvbiBvZiBgQml0bWFwRm9udC5BTFBIQWAgYW5kIGBCaXRtYXBGb250Lk5VTUVSSUNgLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXVtdfVxuICAgICAqL1xuICAgIHRoaXMuQUxQSEFOVU1FUklDID0gW1tcImFcIiwgXCJ6XCJdLCBbXCJBXCIsIFwiWlwiXSwgW1wiMFwiLCBcIjlcIl0sIFwiIFwiXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgY29uc2lzdHMgb2YgYWxsIHRoZSBBU0NJSSB0YWJsZS5cbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5hc2NpaXRhYmxlLmNvbS9cbiAgICAgKi9cbiAgICB0aGlzLkFTQ0lJID0gW1tcIiBcIiwgXCJ+XCJdXTtcbiAgICAvKiogRGVmYXVsdCBvcHRpb25zIGZvciBpbnN0YWxsaW5nIGEgbmV3IEJpdG1hcEZvbnQuICovXG4gICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIGNoYXJzOiB0aGlzLkFMUEhBTlVNRVJJQyxcbiAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICBwYWRkaW5nOiA0LFxuICAgICAgc2tpcEtlcm5pbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgZm9udCBmb3IgdGhlIHNwZWNpZmllZCB0ZXh0IGFuZCBzdHlsZS5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBnZXQgdGhlIGZvbnQgZm9yXG4gICAqIEBwYXJhbSBzdHlsZSAtIFRoZSBzdHlsZSB0byB1c2VcbiAgICovXG4gIGdldEZvbnQodGV4dCwgc3R5bGUpIHtcbiAgICBsZXQgZm9udEZhbWlseUtleSA9IGAke3N0eWxlLmZvbnRGYW1pbHl9LWJpdG1hcGA7XG4gICAgbGV0IG92ZXJyaWRlRmlsbCA9IHRydWU7XG4gICAgaWYgKHN0eWxlLl9maWxsLmZpbGwgJiYgIXN0eWxlLl9zdHJva2UpIHtcbiAgICAgIGZvbnRGYW1pbHlLZXkgKz0gc3R5bGUuX2ZpbGwuZmlsbC5zdHlsZUtleTtcbiAgICAgIG92ZXJyaWRlRmlsbCA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoc3R5bGUuX3N0cm9rZSB8fCBzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICBsZXQga2V5ID0gc3R5bGUuc3R5bGVLZXk7XG4gICAgICBrZXkgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sYXN0SW5kZXhPZihcIi1cIikpO1xuICAgICAgZm9udEZhbWlseUtleSA9IGAke2tleX0tYml0bWFwYDtcbiAgICAgIG92ZXJyaWRlRmlsbCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIUNhY2hlLmhhcyhmb250RmFtaWx5S2V5KSkge1xuICAgICAgY29uc3QgZm50ID0gbmV3IER5bmFtaWNCaXRtYXBGb250KHtcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIG92ZXJyaWRlRmlsbCxcbiAgICAgICAgb3ZlcnJpZGVTaXplOiB0cnVlLFxuICAgICAgICAuLi50aGlzLmRlZmF1bHRPcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGZvbnRDb3VudCsrO1xuICAgICAgaWYgKGZvbnRDb3VudCA+IDUwKSB7XG4gICAgICAgIHdhcm4oXCJCaXRtYXBUZXh0XCIsIGBZb3UgaGF2ZSBkeW5hbWljYWxseSBjcmVhdGVkICR7Zm9udENvdW50fSBiaXRtYXAgZm9udHMsIHRoaXMgY2FuIGJlIGluZWZmaWNpZW50LiBUcnkgcHJlIGluc3RhbGxpbmcgeW91ciBmb250IHN0eWxlcyB1c2luZyBcXGBCaXRtYXBGb250Lmluc3RhbGwoe25hbWU6XCJzdHlsZTFcIiwgc3R5bGV9KVxcYGApO1xuICAgICAgfVxuICAgICAgZm50Lm9uY2UoXCJkZXN0cm95XCIsICgpID0+IHtcbiAgICAgICAgZm9udENvdW50LS07XG4gICAgICAgIENhY2hlLnJlbW92ZShmb250RmFtaWx5S2V5KTtcbiAgICAgIH0pO1xuICAgICAgQ2FjaGUuc2V0KFxuICAgICAgICBmb250RmFtaWx5S2V5LFxuICAgICAgICBmbnRcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGR5bmFtaWNGb250ID0gQ2FjaGUuZ2V0KGZvbnRGYW1pbHlLZXkpO1xuICAgIGR5bmFtaWNGb250LmVuc3VyZUNoYXJhY3RlcnM/Lih0ZXh0KTtcbiAgICByZXR1cm4gZHluYW1pY0ZvbnQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbGF5b3V0IG9mIGEgdGV4dCBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZS5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBnZXQgdGhlIGxheW91dCBmb3JcbiAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHN0eWxlIHRvIHVzZVxuICAgKiBAcGFyYW0gdHJpbUVuZCAtIFdoZXRoZXIgdG8gaWdub3JlIHdoaXRlc3BhY2VzIGF0IHRoZSBlbmQgb2YgZWFjaCBsaW5lXG4gICAqL1xuICBnZXRMYXlvdXQodGV4dCwgc3R5bGUsIHRyaW1FbmQgPSB0cnVlKSB7XG4gICAgY29uc3QgYml0bWFwRm9udCA9IHRoaXMuZ2V0Rm9udCh0ZXh0LCBzdHlsZSk7XG4gICAgcmV0dXJuIGdldEJpdG1hcFRleHRMYXlvdXQoWy4uLnRleHRdLCBzdHlsZSwgYml0bWFwRm9udCwgdHJpbUVuZCk7XG4gIH1cbiAgLyoqXG4gICAqIE1lYXN1cmUgdGhlIHRleHQgdXNpbmcgdGhlIHNwZWNpZmllZCBzdHlsZS5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBtZWFzdXJlXG4gICAqIEBwYXJhbSBzdHlsZSAtIFRoZSBzdHlsZSB0byB1c2VcbiAgICogQHBhcmFtIHRyaW1FbmQgLSBXaGV0aGVyIHRvIGlnbm9yZSB3aGl0ZXNwYWNlcyBhdCB0aGUgZW5kIG9mIGVhY2ggbGluZVxuICAgKi9cbiAgbWVhc3VyZVRleHQodGV4dCwgc3R5bGUsIHRyaW1FbmQgPSB0cnVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGF5b3V0KHRleHQsIHN0eWxlLCB0cmltRW5kKTtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICBpbnN0YWxsKC4uLmFyZ3MpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3NbMF07XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBuYW1lOiBvcHRpb25zLFxuICAgICAgICBzdHlsZTogYXJnc1sxXSxcbiAgICAgICAgY2hhcnM6IGFyZ3NbMl0/LmNoYXJzLFxuICAgICAgICByZXNvbHV0aW9uOiBhcmdzWzJdPy5yZXNvbHV0aW9uLFxuICAgICAgICBwYWRkaW5nOiBhcmdzWzJdPy5wYWRkaW5nLFxuICAgICAgICBza2lwS2VybmluZzogYXJnc1syXT8uc2tpcEtlcm5pbmdcbiAgICAgIH07XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiQml0bWFwRm9udE1hbmFnZXIuaW5zdGFsbChuYW1lLCBzdHlsZSwgb3B0aW9ucykgaXMgZGVwcmVjYXRlZCwgdXNlIEJpdG1hcEZvbnRNYW5hZ2VyLmluc3RhbGwoe25hbWUsIHN0eWxlLCAuLi5vcHRpb25zfSlcIik7XG4gICAgfVxuICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zPy5uYW1lO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRNYW5hZ2VyXSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBvcHRpb25zID0geyAuLi50aGlzLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgdGV4dFN0eWxlID0gb3B0aW9ucy5zdHlsZTtcbiAgICBjb25zdCBzdHlsZSA9IHRleHRTdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSA/IHRleHRTdHlsZSA6IG5ldyBUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICBjb25zdCBvdmVycmlkZUZpbGwgPSBzdHlsZS5fZmlsbC5maWxsICE9PSBudWxsICYmIHN0eWxlLl9maWxsLmZpbGwgIT09IHZvaWQgMDtcbiAgICBjb25zdCBmb250ID0gbmV3IER5bmFtaWNCaXRtYXBGb250KHtcbiAgICAgIHN0eWxlLFxuICAgICAgb3ZlcnJpZGVGaWxsLFxuICAgICAgc2tpcEtlcm5pbmc6IG9wdGlvbnMuc2tpcEtlcm5pbmcsXG4gICAgICBwYWRkaW5nOiBvcHRpb25zLnBhZGRpbmcsXG4gICAgICByZXNvbHV0aW9uOiBvcHRpb25zLnJlc29sdXRpb24sXG4gICAgICBvdmVycmlkZVNpemU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgZmxhdENoYXJzID0gcmVzb2x2ZUNoYXJhY3RlcnMob3B0aW9ucy5jaGFycyk7XG4gICAgZm9udC5lbnN1cmVDaGFyYWN0ZXJzKGZsYXRDaGFycy5qb2luKFwiXCIpKTtcbiAgICBDYWNoZS5zZXQoYCR7bmFtZX0tYml0bWFwYCwgZm9udCk7XG4gICAgZm9udC5vbmNlKFwiZGVzdHJveVwiLCAoKSA9PiBDYWNoZS5yZW1vdmUoYCR7bmFtZX0tYml0bWFwYCkpO1xuICAgIHJldHVybiBmb250O1xuICB9XG4gIC8qKlxuICAgKiBVbmluc3RhbGxzIGEgYml0bWFwIGZvbnQgZnJvbSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGJpdG1hcCBmb250IHRvIHVuaW5zdGFsbC5cbiAgICovXG4gIHVuaW5zdGFsbChuYW1lKSB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHtuYW1lfS1iaXRtYXBgO1xuICAgIGNvbnN0IGZvbnQgPSBDYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIGlmIChmb250KSB7XG4gICAgICBmb250LmRlc3Ryb3koKTtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IEJpdG1hcEZvbnRNYW5hZ2VyID0gbmV3IEJpdG1hcEZvbnRNYW5hZ2VyQ2xhc3MoKTtcblxuZXhwb3J0IHsgQml0bWFwRm9udE1hbmFnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdG1hcEZvbnRNYW5hZ2VyLm1qcy5tYXBcbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IEFic3RyYWN0Qml0bWFwRm9udCB9IGZyb20gJy4vQWJzdHJhY3RCaXRtYXBGb250Lm1qcyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TWFuYWdlciB9IGZyb20gJy4vQml0bWFwRm9udE1hbmFnZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCaXRtYXBGb250IGV4dGVuZHMgQWJzdHJhY3RCaXRtYXBGb250IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgdXJsKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCB7IHRleHR1cmVzLCBkYXRhIH0gPSBvcHRpb25zO1xuICAgIE9iamVjdC5rZXlzKGRhdGEucGFnZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgcGFnZURhdGEgPSBkYXRhLnBhZ2VzW3BhcnNlSW50KGtleSwgMTApXTtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSB0ZXh0dXJlc1twYWdlRGF0YS5pZF07XG4gICAgICB0aGlzLnBhZ2VzLnB1c2goeyB0ZXh0dXJlIH0pO1xuICAgIH0pO1xuICAgIE9iamVjdC5rZXlzKGRhdGEuY2hhcnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3QgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2tleV07XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZyYW1lOiB0ZXh0dXJlRnJhbWUsXG4gICAgICAgIHNvdXJjZTogdGV4dHVyZVNvdXJjZVxuICAgICAgfSA9IHRleHR1cmVzW2NoYXJEYXRhLnBhZ2VdO1xuICAgICAgY29uc3QgZnJhbWVSZWFsID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgY2hhckRhdGEueCArIHRleHR1cmVGcmFtZS54LFxuICAgICAgICBjaGFyRGF0YS55ICsgdGV4dHVyZUZyYW1lLnksXG4gICAgICAgIGNoYXJEYXRhLndpZHRoLFxuICAgICAgICBjaGFyRGF0YS5oZWlnaHRcbiAgICAgICk7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoe1xuICAgICAgICBzb3VyY2U6IHRleHR1cmVTb3VyY2UsXG4gICAgICAgIGZyYW1lOiBmcmFtZVJlYWxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jaGFyc1trZXldID0ge1xuICAgICAgICBpZDoga2V5LmNvZGVQb2ludEF0KDApLFxuICAgICAgICB4T2Zmc2V0OiBjaGFyRGF0YS54T2Zmc2V0LFxuICAgICAgICB5T2Zmc2V0OiBjaGFyRGF0YS55T2Zmc2V0LFxuICAgICAgICB4QWR2YW5jZTogY2hhckRhdGEueEFkdmFuY2UsXG4gICAgICAgIGtlcm5pbmc6IGNoYXJEYXRhLmtlcm5pbmcgPz8ge30sXG4gICAgICAgIHRleHR1cmVcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5iYXNlUmVuZGVyZWRGb250U2l6ZSA9IGRhdGEuZm9udFNpemU7XG4gICAgdGhpcy5iYXNlTWVhc3VyZW1lbnRGb250U2l6ZSA9IGRhdGEuZm9udFNpemU7XG4gICAgdGhpcy5mb250TWV0cmljcyA9IHtcbiAgICAgIGFzY2VudDogMCxcbiAgICAgIGRlc2NlbnQ6IDAsXG4gICAgICBmb250U2l6ZTogZGF0YS5mb250U2l6ZVxuICAgIH07XG4gICAgdGhpcy5iYXNlTGluZU9mZnNldCA9IGRhdGEuYmFzZUxpbmVPZmZzZXQ7XG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gZGF0YS5saW5lSGVpZ2h0O1xuICAgIHRoaXMuZm9udEZhbWlseSA9IGRhdGEuZm9udEZhbWlseTtcbiAgICB0aGlzLmRpc3RhbmNlRmllbGQgPSBkYXRhLmRpc3RhbmNlRmllbGQgPz8ge1xuICAgICAgdHlwZTogXCJub25lXCIsXG4gICAgICByYW5nZTogMFxuICAgIH07XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gIH1cbiAgLyoqIERlc3Ryb3lzIHRoZSBCaXRtYXBGb250IG9iamVjdC4gKi9cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB7IHRleHR1cmUgfSA9IHRoaXMucGFnZXNbaV07XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMucGFnZXMgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBiaXRtYXAtZm9udCBmb3IgdGhlIGdpdmVuIHN0eWxlIGFuZCBjaGFyYWN0ZXIgc2V0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gU2V0dXAgb3B0aW9ucyBmb3IgZm9udCBnZW5lcmF0aW9uLlxuICAgKiBAcmV0dXJucyBGb250IGdlbmVyYXRlZCBieSBzdHlsZSBvcHRpb25zLlxuICAgKiBAZXhhbXBsZVxuICAgKiBpbXBvcnQgeyBCaXRtYXBGb250LCBCaXRtYXBUZXh0IH0gZnJvbSAncGl4aS5qcyc7XG4gICAqXG4gICAqIEJpdG1hcEZvbnQuaW5zdGFsbCgnVGl0bGVGb250Jywge1xuICAgKiAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICogICAgIGZvbnRTaXplOiAxMixcbiAgICogICAgIHN0cm9rZVRoaWNrbmVzczogMixcbiAgICogICAgIGZpbGw6ICdwdXJwbGUnLFxuICAgKiB9KTtcbiAgICpcbiAgICogY29uc3QgdGl0bGUgPSBuZXcgQml0bWFwVGV4dCh7IHRleHQ6ICdUaGlzIGlzIHRoZSB0aXRsZScsIGZvbnRGYW1pbHk6ICdUaXRsZUZvbnQnIH0pO1xuICAgKi9cbiAgc3RhdGljIGluc3RhbGwob3B0aW9ucykge1xuICAgIEJpdG1hcEZvbnRNYW5hZ2VyLmluc3RhbGwob3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIFVuaW5zdGFsbHMgYSBiaXRtYXAgZm9udCBmcm9tIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgYml0bWFwIGZvbnQgdG8gdW5pbnN0YWxsLlxuICAgKi9cbiAgc3RhdGljIHVuaW5zdGFsbChuYW1lKSB7XG4gICAgQml0bWFwRm9udE1hbmFnZXIudW5pbnN0YWxsKG5hbWUpO1xuICB9XG59XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdG1hcEZvbnQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBiaXRtYXBGb250VGV4dFBhcnNlciA9IHtcbiAgdGVzdChkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICYmIGRhdGEuc3RhcnRzV2l0aChcImluZm8gZmFjZT1cIik7XG4gIH0sXG4gIHBhcnNlKHR4dCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdHh0Lm1hdGNoKC9eW2Etel0rXFxzKy4rJC9nbSk7XG4gICAgY29uc3QgcmF3RGF0YSA9IHtcbiAgICAgIGluZm86IFtdLFxuICAgICAgY29tbW9uOiBbXSxcbiAgICAgIHBhZ2U6IFtdLFxuICAgICAgY2hhcjogW10sXG4gICAgICBjaGFyczogW10sXG4gICAgICBrZXJuaW5nOiBbXSxcbiAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgIGRpc3RhbmNlRmllbGQ6IFtdXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gaXRlbXMpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBpdGVtc1tpXS5tYXRjaCgvXlthLXpdKy9nbSlbMF07XG4gICAgICBjb25zdCBhdHRyaWJ1dGVMaXN0ID0gaXRlbXNbaV0ubWF0Y2goL1thLXpBLVpdKz0oW15cXHNcIiddK3xcIihbXlwiXSopXCIpL2dtKTtcbiAgICAgIGNvbnN0IGl0ZW1EYXRhID0ge307XG4gICAgICBmb3IgKGNvbnN0IGkyIGluIGF0dHJpYnV0ZUxpc3QpIHtcbiAgICAgICAgY29uc3Qgc3BsaXQgPSBhdHRyaWJ1dGVMaXN0W2kyXS5zcGxpdChcIj1cIik7XG4gICAgICAgIGNvbnN0IGtleSA9IHNwbGl0WzBdO1xuICAgICAgICBjb25zdCBzdHJWYWx1ZSA9IHNwbGl0WzFdLnJlcGxhY2UoL1wiL2dtLCBcIlwiKTtcbiAgICAgICAgY29uc3QgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGlzTmFOKGZsb2F0VmFsdWUpID8gc3RyVmFsdWUgOiBmbG9hdFZhbHVlO1xuICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByYXdEYXRhW25hbWVdLnB1c2goaXRlbURhdGEpO1xuICAgIH1cbiAgICBjb25zdCBmb250ID0ge1xuICAgICAgY2hhcnM6IHt9LFxuICAgICAgcGFnZXM6IFtdLFxuICAgICAgbGluZUhlaWdodDogMCxcbiAgICAgIGZvbnRTaXplOiAwLFxuICAgICAgZm9udEZhbWlseTogXCJcIixcbiAgICAgIGRpc3RhbmNlRmllbGQ6IG51bGwsXG4gICAgICBiYXNlTGluZU9mZnNldDogMFxuICAgIH07XG4gICAgY29uc3QgW2luZm9dID0gcmF3RGF0YS5pbmZvO1xuICAgIGNvbnN0IFtjb21tb25dID0gcmF3RGF0YS5jb21tb247XG4gICAgY29uc3QgW2Rpc3RhbmNlRmllbGRdID0gcmF3RGF0YS5kaXN0YW5jZUZpZWxkID8/IFtdO1xuICAgIGlmIChkaXN0YW5jZUZpZWxkKSB7XG4gICAgICBmb250LmRpc3RhbmNlRmllbGQgPSB7XG4gICAgICAgIHJhbmdlOiBwYXJzZUludChkaXN0YW5jZUZpZWxkLmRpc3RhbmNlUmFuZ2UsIDEwKSxcbiAgICAgICAgdHlwZTogZGlzdGFuY2VGaWVsZC5maWVsZFR5cGVcbiAgICAgIH07XG4gICAgfVxuICAgIGZvbnQuZm9udFNpemUgPSBwYXJzZUludChpbmZvLnNpemUsIDEwKTtcbiAgICBmb250LmZvbnRGYW1pbHkgPSBpbmZvLmZhY2U7XG4gICAgZm9udC5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmxpbmVIZWlnaHQsIDEwKTtcbiAgICBjb25zdCBwYWdlID0gcmF3RGF0YS5wYWdlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgZm9udC5wYWdlcy5wdXNoKHtcbiAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uaWQsIDEwKSB8fCAwLFxuICAgICAgICBmaWxlOiBwYWdlW2ldLmZpbGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtYXAgPSB7fTtcbiAgICBmb250LmJhc2VMaW5lT2Zmc2V0ID0gZm9udC5saW5lSGVpZ2h0IC0gcGFyc2VJbnQoY29tbW9uLmJhc2UsIDEwKTtcbiAgICBjb25zdCBjaGFyID0gcmF3RGF0YS5jaGFyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhck5vZGUgPSBjaGFyW2ldO1xuICAgICAgY29uc3QgaWQgPSBwYXJzZUludChjaGFyTm9kZS5pZCwgMTApO1xuICAgICAgbGV0IGxldHRlciA9IGNoYXJOb2RlLmxldHRlciA/PyBjaGFyTm9kZS5jaGFyID8/IFN0cmluZy5mcm9tQ2hhckNvZGUoaWQpO1xuICAgICAgaWYgKGxldHRlciA9PT0gXCJzcGFjZVwiKVxuICAgICAgICBsZXR0ZXIgPSBcIiBcIjtcbiAgICAgIG1hcFtpZF0gPSBsZXR0ZXI7XG4gICAgICBmb250LmNoYXJzW2xldHRlcl0gPSB7XG4gICAgICAgIGlkLFxuICAgICAgICAvLyB0ZXh0dXJlIGRlZXRzLi5cbiAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhck5vZGUucGFnZSwgMTApIHx8IDAsXG4gICAgICAgIHg6IHBhcnNlSW50KGNoYXJOb2RlLngsIDEwKSxcbiAgICAgICAgeTogcGFyc2VJbnQoY2hhck5vZGUueSwgMTApLFxuICAgICAgICB3aWR0aDogcGFyc2VJbnQoY2hhck5vZGUud2lkdGgsIDEwKSxcbiAgICAgICAgaGVpZ2h0OiBwYXJzZUludChjaGFyTm9kZS5oZWlnaHQsIDEwKSxcbiAgICAgICAgeE9mZnNldDogcGFyc2VJbnQoY2hhck5vZGUueG9mZnNldCwgMTApLFxuICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChjaGFyTm9kZS55b2Zmc2V0LCAxMCksXG4gICAgICAgIHhBZHZhbmNlOiBwYXJzZUludChjaGFyTm9kZS54YWR2YW5jZSwgMTApLFxuICAgICAgICBrZXJuaW5nOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qga2VybmluZyA9IHJhd0RhdGEua2VybmluZyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gcGFyc2VJbnQoa2VybmluZ1tpXS5maXJzdCwgMTApO1xuICAgICAgY29uc3Qgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZ1tpXS5zZWNvbmQsIDEwKTtcbiAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGtlcm5pbmdbaV0uYW1vdW50LCAxMCk7XG4gICAgICBmb250LmNoYXJzW21hcFtzZWNvbmRdXS5rZXJuaW5nW21hcFtmaXJzdF1dID0gYW1vdW50O1xuICAgIH1cbiAgICByZXR1cm4gZm9udDtcbiAgfVxufTtcblxuZXhwb3J0IHsgYml0bWFwRm9udFRleHRQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1hcEZvbnRUZXh0UGFyc2VyLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYml0bWFwRm9udFhNTFBhcnNlciA9IHtcbiAgdGVzdChkYXRhKSB7XG4gICAgY29uc3QgeG1sID0gZGF0YTtcbiAgICByZXR1cm4gdHlwZW9mIHhtbCAhPT0gXCJzdHJpbmdcIiAmJiBcImdldEVsZW1lbnRzQnlUYWdOYW1lXCIgaW4geG1sICYmIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhZ2VcIikubGVuZ3RoICYmIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImluZm9cIilbMF0uZ2V0QXR0cmlidXRlKFwiZmFjZVwiKSAhPT0gbnVsbDtcbiAgfSxcbiAgcGFyc2UoeG1sKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGNoYXJzOiB7fSxcbiAgICAgIHBhZ2VzOiBbXSxcbiAgICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgICBmb250U2l6ZTogMCxcbiAgICAgIGZvbnRGYW1pbHk6IFwiXCIsXG4gICAgICBkaXN0YW5jZUZpZWxkOiBudWxsLFxuICAgICAgYmFzZUxpbmVPZmZzZXQ6IDBcbiAgICB9O1xuICAgIGNvbnN0IGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbmZvXCIpWzBdO1xuICAgIGNvbnN0IGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNvbW1vblwiKVswXTtcbiAgICBjb25zdCBkaXN0YW5jZUZpZWxkID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGlzdGFuY2VGaWVsZFwiKVswXTtcbiAgICBpZiAoZGlzdGFuY2VGaWVsZCkge1xuICAgICAgZGF0YS5kaXN0YW5jZUZpZWxkID0ge1xuICAgICAgICB0eXBlOiBkaXN0YW5jZUZpZWxkLmdldEF0dHJpYnV0ZShcImZpZWxkVHlwZVwiKSxcbiAgICAgICAgcmFuZ2U6IHBhcnNlSW50KGRpc3RhbmNlRmllbGQuZ2V0QXR0cmlidXRlKFwiZGlzdGFuY2VSYW5nZVwiKSwgMTApXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFnZVwiKTtcbiAgICBjb25zdCBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY2hhclwiKTtcbiAgICBjb25zdCBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwia2VybmluZ1wiKTtcbiAgICBkYXRhLmZvbnRTaXplID0gcGFyc2VJbnQoaW5mby5nZXRBdHRyaWJ1dGUoXCJzaXplXCIpLCAxMCk7XG4gICAgZGF0YS5mb250RmFtaWx5ID0gaW5mby5nZXRBdHRyaWJ1dGUoXCJmYWNlXCIpO1xuICAgIGRhdGEubGluZUhlaWdodCA9IHBhcnNlSW50KGNvbW1vbi5nZXRBdHRyaWJ1dGUoXCJsaW5lSGVpZ2h0XCIpLCAxMCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhLnBhZ2VzLnB1c2goe1xuICAgICAgICBpZDogcGFyc2VJbnQocGFnZVtpXS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSwgMTApIHx8IDAsXG4gICAgICAgIGZpbGU6IHBhZ2VbaV0uZ2V0QXR0cmlidXRlKFwiZmlsZVwiKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG1hcCA9IHt9O1xuICAgIGRhdGEuYmFzZUxpbmVPZmZzZXQgPSBkYXRhLmxpbmVIZWlnaHQgLSBwYXJzZUludChjb21tb24uZ2V0QXR0cmlidXRlKFwiYmFzZVwiKSwgMTApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhck5vZGUgPSBjaGFyW2ldO1xuICAgICAgY29uc3QgaWQgPSBwYXJzZUludChjaGFyTm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSwgMTApO1xuICAgICAgbGV0IGxldHRlciA9IGNoYXJOb2RlLmdldEF0dHJpYnV0ZShcImxldHRlclwiKSA/PyBjaGFyTm9kZS5nZXRBdHRyaWJ1dGUoXCJjaGFyXCIpID8/IFN0cmluZy5mcm9tQ2hhckNvZGUoaWQpO1xuICAgICAgaWYgKGxldHRlciA9PT0gXCJzcGFjZVwiKVxuICAgICAgICBsZXR0ZXIgPSBcIiBcIjtcbiAgICAgIG1hcFtpZF0gPSBsZXR0ZXI7XG4gICAgICBkYXRhLmNoYXJzW2xldHRlcl0gPSB7XG4gICAgICAgIGlkLFxuICAgICAgICAvLyB0ZXh0dXJlIGRlZXRzLi5cbiAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhck5vZGUuZ2V0QXR0cmlidXRlKFwicGFnZVwiKSwgMTApIHx8IDAsXG4gICAgICAgIHg6IHBhcnNlSW50KGNoYXJOb2RlLmdldEF0dHJpYnV0ZShcInhcIiksIDEwKSxcbiAgICAgICAgeTogcGFyc2VJbnQoY2hhck5vZGUuZ2V0QXR0cmlidXRlKFwieVwiKSwgMTApLFxuICAgICAgICB3aWR0aDogcGFyc2VJbnQoY2hhck5vZGUuZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksIDEwKSxcbiAgICAgICAgaGVpZ2h0OiBwYXJzZUludChjaGFyTm9kZS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksIDEwKSxcbiAgICAgICAgLy8gcmVuZGVyIGRlZXRzLi5cbiAgICAgICAgeE9mZnNldDogcGFyc2VJbnQoY2hhck5vZGUuZ2V0QXR0cmlidXRlKFwieG9mZnNldFwiKSwgMTApLFxuICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChjaGFyTm9kZS5nZXRBdHRyaWJ1dGUoXCJ5b2Zmc2V0XCIpLCAxMCksXG4gICAgICAgIC8vICsgYmFzZUxpbmVPZmZzZXQsXG4gICAgICAgIHhBZHZhbmNlOiBwYXJzZUludChjaGFyTm9kZS5nZXRBdHRyaWJ1dGUoXCJ4YWR2YW5jZVwiKSwgMTApLFxuICAgICAgICBrZXJuaW5nOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKFwiZmlyc3RcIiksIDEwKTtcbiAgICAgIGNvbnN0IHNlY29uZCA9IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKFwic2Vjb25kXCIpLCAxMCk7XG4gICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZShcImFtb3VudFwiKSwgMTApO1xuICAgICAgZGF0YS5jaGFyc1ttYXBbc2Vjb25kXV0ua2VybmluZ1ttYXBbZmlyc3RdXSA9IGFtb3VudDtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJpdG1hcEZvbnRYTUxQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1hcEZvbnRYTUxQYXJzZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IGJpdG1hcEZvbnRYTUxQYXJzZXIgfSBmcm9tICcuL2JpdG1hcEZvbnRYTUxQYXJzZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBiaXRtYXBGb250WE1MU3RyaW5nUGFyc2VyID0ge1xuICB0ZXN0KGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgJiYgZGF0YS5pbmNsdWRlcyhcIjxmb250PlwiKSkge1xuICAgICAgcmV0dXJuIGJpdG1hcEZvbnRYTUxQYXJzZXIudGVzdChET01BZGFwdGVyLmdldCgpLnBhcnNlWE1MKGRhdGEpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBwYXJzZShkYXRhKSB7XG4gICAgcmV0dXJuIGJpdG1hcEZvbnRYTUxQYXJzZXIucGFyc2UoRE9NQWRhcHRlci5nZXQoKS5wYXJzZVhNTChkYXRhKSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJpdG1hcEZvbnRYTUxTdHJpbmdQYXJzZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1hcEZvbnRYTUxTdHJpbmdQYXJzZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgTG9hZGVyUGFyc2VyUHJpb3JpdHkgfSBmcm9tICcuLi8uLi8uLi9hc3NldHMvbG9hZGVyL3BhcnNlcnMvTG9hZGVyUGFyc2VyLm1qcyc7XG5pbXBvcnQgeyBjb3B5U2VhcmNoUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vYXNzZXRzL3V0aWxzL2NvcHlTZWFyY2hQYXJhbXMubWpzJztcbmltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcGF0aC5tanMnO1xuaW1wb3J0IHsgQml0bWFwRm9udCB9IGZyb20gJy4uL0JpdG1hcEZvbnQubWpzJztcbmltcG9ydCB7IGJpdG1hcEZvbnRUZXh0UGFyc2VyIH0gZnJvbSAnLi9iaXRtYXBGb250VGV4dFBhcnNlci5tanMnO1xuaW1wb3J0IHsgYml0bWFwRm9udFhNTFN0cmluZ1BhcnNlciB9IGZyb20gJy4vYml0bWFwRm9udFhNTFN0cmluZ1BhcnNlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHZhbGlkRXh0ZW5zaW9ucyA9IFtcIi54bWxcIiwgXCIuZm50XCJdO1xuY29uc3QgYml0bWFwRm9udENhY2hlUGx1Z2luID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkNhY2hlUGFyc2VyLFxuICAgIG5hbWU6IFwiY2FjaGVCaXRtYXBGb250XCJcbiAgfSxcbiAgdGVzdDogKGFzc2V0KSA9PiBhc3NldCBpbnN0YW5jZW9mIEJpdG1hcEZvbnQsXG4gIGdldENhY2hlYWJsZUFzc2V0cyhrZXlzLCBhc3NldCkge1xuICAgIGNvbnN0IG91dCA9IHt9O1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBvdXRba2V5XSA9IGFzc2V0O1xuICAgICAgb3V0W2Ake2tleX0tYml0bWFwYF0gPSBhc3NldDtcbiAgICB9KTtcbiAgICBvdXRbYCR7YXNzZXQuZm9udEZhbWlseX0tYml0bWFwYF0gPSBhc3NldDtcbiAgICByZXR1cm4gb3V0O1xuICB9XG59O1xuY29uc3QgbG9hZEJpdG1hcEZvbnQgPSB7XG4gIGV4dGVuc2lvbjoge1xuICAgIHR5cGU6IEV4dGVuc2lvblR5cGUuTG9hZFBhcnNlcixcbiAgICBwcmlvcml0eTogTG9hZGVyUGFyc2VyUHJpb3JpdHkuTm9ybWFsXG4gIH0sXG4gIG5hbWU6IFwibG9hZEJpdG1hcEZvbnRcIixcbiAgdGVzdCh1cmwpIHtcbiAgICByZXR1cm4gdmFsaWRFeHRlbnNpb25zLmluY2x1ZGVzKHBhdGguZXh0bmFtZSh1cmwpLnRvTG93ZXJDYXNlKCkpO1xuICB9LFxuICBhc3luYyB0ZXN0UGFyc2UoZGF0YSkge1xuICAgIHJldHVybiBiaXRtYXBGb250VGV4dFBhcnNlci50ZXN0KGRhdGEpIHx8IGJpdG1hcEZvbnRYTUxTdHJpbmdQYXJzZXIudGVzdChkYXRhKTtcbiAgfSxcbiAgYXN5bmMgcGFyc2UoYXNzZXQsIGRhdGEsIGxvYWRlcikge1xuICAgIGNvbnN0IGJpdG1hcEZvbnREYXRhID0gYml0bWFwRm9udFRleHRQYXJzZXIudGVzdChhc3NldCkgPyBiaXRtYXBGb250VGV4dFBhcnNlci5wYXJzZShhc3NldCkgOiBiaXRtYXBGb250WE1MU3RyaW5nUGFyc2VyLnBhcnNlKGFzc2V0KTtcbiAgICBjb25zdCB7IHNyYyB9ID0gZGF0YTtcbiAgICBjb25zdCB7IHBhZ2VzIH0gPSBiaXRtYXBGb250RGF0YTtcbiAgICBjb25zdCB0ZXh0dXJlVXJscyA9IFtdO1xuICAgIGNvbnN0IHRleHR1cmVPcHRpb25zID0gYml0bWFwRm9udERhdGEuZGlzdGFuY2VGaWVsZCA/IHtcbiAgICAgIHNjYWxlTW9kZTogXCJsaW5lYXJcIixcbiAgICAgIGFscGhhTW9kZTogXCJwcmVtdWx0aXBseS1hbHBoYS1vbi11cGxvYWRcIixcbiAgICAgIGF1dG9HZW5lcmF0ZU1pcG1hcHM6IGZhbHNlLFxuICAgICAgcmVzb2x1dGlvbjogMVxuICAgIH0gOiB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBwYWdlRmlsZSA9IHBhZ2VzW2ldLmZpbGU7XG4gICAgICBsZXQgaW1hZ2VQYXRoID0gcGF0aC5qb2luKHBhdGguZGlybmFtZShzcmMpLCBwYWdlRmlsZSk7XG4gICAgICBpbWFnZVBhdGggPSBjb3B5U2VhcmNoUGFyYW1zKGltYWdlUGF0aCwgc3JjKTtcbiAgICAgIHRleHR1cmVVcmxzLnB1c2goe1xuICAgICAgICBzcmM6IGltYWdlUGF0aCxcbiAgICAgICAgZGF0YTogdGV4dHVyZU9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBsb2FkZWRUZXh0dXJlcyA9IGF3YWl0IGxvYWRlci5sb2FkKHRleHR1cmVVcmxzKTtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IHRleHR1cmVVcmxzLm1hcCgodXJsKSA9PiBsb2FkZWRUZXh0dXJlc1t1cmwuc3JjXSk7XG4gICAgY29uc3QgYml0bWFwRm9udCA9IG5ldyBCaXRtYXBGb250KHtcbiAgICAgIGRhdGE6IGJpdG1hcEZvbnREYXRhLFxuICAgICAgdGV4dHVyZXNcbiAgICB9LCBzcmMpO1xuICAgIHJldHVybiBiaXRtYXBGb250O1xuICB9LFxuICBhc3luYyBsb2FkKHVybCwgX29wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IERPTUFkYXB0ZXIuZ2V0KCkuZmV0Y2godXJsKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICB9LFxuICBhc3luYyB1bmxvYWQoYml0bWFwRm9udCwgX3Jlc29sdmVkQXNzZXQsIGxvYWRlcikge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKGJpdG1hcEZvbnQucGFnZXMubWFwKChwYWdlKSA9PiBsb2FkZXIudW5sb2FkKHBhZ2UudGV4dHVyZS5zb3VyY2UuX3NvdXJjZU9yaWdpbikpKTtcbiAgICBiaXRtYXBGb250LmRlc3Ryb3koKTtcbiAgfVxufTtcblxuZXhwb3J0IHsgYml0bWFwRm9udENhY2hlUGx1Z2luLCBsb2FkQml0bWFwRm9udCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZEJpdG1hcEZvbnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FjaGUgfSBmcm9tICcuLi8uLi9hc3NldHMvY2FjaGUvQ2FjaGUubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvR3JhcGhpY3MubWpzJztcbmltcG9ydCB7IFNkZlNoYWRlciB9IGZyb20gJy4uL3RleHQvc2RmU2hhZGVyL1NkZlNoYWRlci5tanMnO1xuaW1wb3J0IHsgQml0bWFwRm9udE1hbmFnZXIgfSBmcm9tICcuL0JpdG1hcEZvbnRNYW5hZ2VyLm1qcyc7XG5pbXBvcnQgeyBnZXRCaXRtYXBUZXh0TGF5b3V0IH0gZnJvbSAnLi91dGlscy9nZXRCaXRtYXBUZXh0TGF5b3V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQml0bWFwVGV4dFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2dwdUJpdG1hcFRleHQgPSB7fTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX2dwdUJpdG1hcFRleHRcIik7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKGJpdG1hcFRleHQpIHtcbiAgICBjb25zdCBncmFwaGljc1JlbmRlcmFibGUgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpO1xuICAgIGlmIChiaXRtYXBUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICBiaXRtYXBUZXh0Ll9kaWRUZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgICB0aGlzLl91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5ncmFwaGljcy52YWxpZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGJpdG1hcFRleHQsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3JhcGhpY3NSZW5kZXJhYmxlID0gdGhpcy5fZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KTtcbiAgICBzeW5jV2l0aFByb3h5KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgaWYgKGJpdG1hcFRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIGJpdG1hcFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNvbnRleHQoYml0bWFwVGV4dCwgZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuZ3JhcGhpY3MuYWRkUmVuZGVyYWJsZShncmFwaGljc1JlbmRlcmFibGUsIGluc3RydWN0aW9uU2V0KTtcbiAgICBpZiAoZ3JhcGhpY3NSZW5kZXJhYmxlLmNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICB0aGlzLl91cGRhdGVEaXN0YW5jZUZpZWxkKGJpdG1hcFRleHQpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95UmVuZGVyYWJsZShiaXRtYXBUZXh0KSB7XG4gICAgYml0bWFwVGV4dC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeVVpZChiaXRtYXBUZXh0LnVpZCk7XG4gIH1cbiAgX2Rlc3Ryb3lSZW5kZXJhYmxlQnlVaWQocmVuZGVyYWJsZVVpZCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9ncHVCaXRtYXBUZXh0W3JlbmRlcmFibGVVaWRdLmNvbnRleHQ7XG4gICAgaWYgKGNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICBCaWdQb29sLnJldHVybihjb250ZXh0LmN1c3RvbVNoYWRlcik7XG4gICAgICBjb250ZXh0LmN1c3RvbVNoYWRlciA9IG51bGw7XG4gICAgfVxuICAgIEJpZ1Bvb2wucmV0dXJuKHRoaXMuX2dwdUJpdG1hcFRleHRbcmVuZGVyYWJsZVVpZF0pO1xuICAgIHRoaXMuX2dwdUJpdG1hcFRleHRbcmVuZGVyYWJsZVVpZF0gPSBudWxsO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGdyYXBoaWNzUmVuZGVyYWJsZSA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCk7XG4gICAgc3luY1dpdGhQcm94eShiaXRtYXBUZXh0LCBncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmdyYXBoaWNzLnVwZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICBpZiAoZ3JhcGhpY3NSZW5kZXJhYmxlLmNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICB0aGlzLl91cGRhdGVEaXN0YW5jZUZpZWxkKGJpdG1hcFRleHQpO1xuICAgIH1cbiAgfVxuICBfdXBkYXRlQ29udGV4dChiaXRtYXBUZXh0LCBwcm94eUdyYXBoaWNzKSB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSBwcm94eUdyYXBoaWNzO1xuICAgIGNvbnN0IGJpdG1hcEZvbnQgPSBCaXRtYXBGb250TWFuYWdlci5nZXRGb250KGJpdG1hcFRleHQudGV4dCwgYml0bWFwVGV4dC5fc3R5bGUpO1xuICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICBpZiAoYml0bWFwRm9udC5kaXN0YW5jZUZpZWxkLnR5cGUgIT09IFwibm9uZVwiKSB7XG4gICAgICBpZiAoIWNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyID0gQmlnUG9vbC5nZXQoU2RmU2hhZGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2hhcnMgPSBBcnJheS5mcm9tKGJpdG1hcFRleHQudGV4dCk7XG4gICAgY29uc3Qgc3R5bGUgPSBiaXRtYXBUZXh0Ll9zdHlsZTtcbiAgICBsZXQgY3VycmVudFkgPSBiaXRtYXBGb250LmJhc2VMaW5lT2Zmc2V0O1xuICAgIGNvbnN0IGJpdG1hcFRleHRMYXlvdXQgPSBnZXRCaXRtYXBUZXh0TGF5b3V0KGNoYXJzLCBzdHlsZSwgYml0bWFwRm9udCwgdHJ1ZSk7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBjb25zdCBwYWRkaW5nID0gc3R5bGUucGFkZGluZztcbiAgICBjb25zdCBzY2FsZSA9IGJpdG1hcFRleHRMYXlvdXQuc2NhbGU7XG4gICAgbGV0IHR4ID0gYml0bWFwVGV4dExheW91dC53aWR0aDtcbiAgICBsZXQgdHkgPSBiaXRtYXBUZXh0TGF5b3V0LmhlaWdodCArIGJpdG1hcFRleHRMYXlvdXQub2Zmc2V0WTtcbiAgICBpZiAoc3R5bGUuX3N0cm9rZSkge1xuICAgICAgdHggKz0gc3R5bGUuX3N0cm9rZS53aWR0aCAvIHNjYWxlO1xuICAgICAgdHkgKz0gc3R5bGUuX3N0cm9rZS53aWR0aCAvIHNjYWxlO1xuICAgIH1cbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtYml0bWFwVGV4dC5fYW5jaG9yLl94ICogdHggLSBwYWRkaW5nLCAtYml0bWFwVGV4dC5fYW5jaG9yLl95ICogdHkgLSBwYWRkaW5nKS5zY2FsZShzY2FsZSwgc2NhbGUpO1xuICAgIGNvbnN0IHRpbnQgPSBiaXRtYXBGb250LmFwcGx5RmlsbEFzVGludCA/IHN0eWxlLl9maWxsLmNvbG9yIDogMTY3NzcyMTU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaXRtYXBUZXh0TGF5b3V0LmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gYml0bWFwVGV4dExheW91dC5saW5lc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpbmRleCsrXTtcbiAgICAgICAgY29uc3QgY2hhckRhdGEgPSBiaXRtYXBGb250LmNoYXJzW2NoYXJdO1xuICAgICAgICBpZiAoY2hhckRhdGE/LnRleHR1cmUpIHtcbiAgICAgICAgICBjb250ZXh0LnRleHR1cmUoXG4gICAgICAgICAgICBjaGFyRGF0YS50ZXh0dXJlLFxuICAgICAgICAgICAgdGludCA/IHRpbnQgOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGxpbmUuY2hhclBvc2l0aW9uc1tqXSArIGNoYXJEYXRhLnhPZmZzZXQpLFxuICAgICAgICAgICAgTWF0aC5yb3VuZChjdXJyZW50WSArIGNoYXJEYXRhLnlPZmZzZXQpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFkgKz0gYml0bWFwRm9udC5saW5lSGVpZ2h0O1xuICAgIH1cbiAgfVxuICBfZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdUJpdG1hcFRleHRbYml0bWFwVGV4dC51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQoYml0bWFwVGV4dCk7XG4gIH1cbiAgaW5pdEdwdVRleHQoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IHByb3h5UmVuZGVyYWJsZSA9IEJpZ1Bvb2wuZ2V0KEdyYXBoaWNzKTtcbiAgICB0aGlzLl9ncHVCaXRtYXBUZXh0W2JpdG1hcFRleHQudWlkXSA9IHByb3h5UmVuZGVyYWJsZTtcbiAgICB0aGlzLl91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIHByb3h5UmVuZGVyYWJsZSk7XG4gICAgYml0bWFwVGV4dC5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gdGhpcy5fZ3B1Qml0bWFwVGV4dFtiaXRtYXBUZXh0LnVpZF07XG4gIH1cbiAgX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpLmNvbnRleHQ7XG4gICAgY29uc3QgZm9udEZhbWlseSA9IGJpdG1hcFRleHQuX3N0eWxlLmZvbnRGYW1pbHk7XG4gICAgY29uc3QgZHluYW1pY0ZvbnQgPSBDYWNoZS5nZXQoYCR7Zm9udEZhbWlseX0tYml0bWFwYCk7XG4gICAgY29uc3QgeyBhLCBiLCBjLCBkIH0gPSBiaXRtYXBUZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGNvbnN0IGR4ID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuICAgIGNvbnN0IGR5ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuICAgIGNvbnN0IHdvcmxkU2NhbGUgPSAoTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpKSAvIDI7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZHluYW1pY0ZvbnQuYmFzZVJlbmRlcmVkRm9udFNpemUgLyBiaXRtYXBUZXh0Ll9zdHlsZS5mb250U2l6ZTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IHdvcmxkU2NhbGUgKiBkeW5hbWljRm9udC5kaXN0YW5jZUZpZWxkLnJhbmdlICogKDEgLyBmb250U2NhbGUpO1xuICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyLnJlc291cmNlcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVEaXN0YW5jZSA9IGRpc3RhbmNlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCB1aWQgaW4gdGhpcy5fZ3B1Qml0bWFwVGV4dCkge1xuICAgICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeVVpZCh1aWQpO1xuICAgIH1cbiAgICB0aGlzLl9ncHVCaXRtYXBUZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5CaXRtYXBUZXh0UGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYml0bWFwVGV4dFwiXG59O1xuZnVuY3Rpb24gc3luY1dpdGhQcm94eShjb250YWluZXIsIHByb3h5KSB7XG4gIHByb3h5Lmdyb3VwVHJhbnNmb3JtID0gY29udGFpbmVyLmdyb3VwVHJhbnNmb3JtO1xuICBwcm94eS5ncm91cENvbG9yQWxwaGEgPSBjb250YWluZXIuZ3JvdXBDb2xvckFscGhhO1xuICBwcm94eS5ncm91cENvbG9yID0gY29udGFpbmVyLmdyb3VwQ29sb3I7XG4gIHByb3h5Lmdyb3VwQmxlbmRNb2RlID0gY29udGFpbmVyLmdyb3VwQmxlbmRNb2RlO1xuICBwcm94eS5nbG9iYWxEaXNwbGF5U3RhdHVzID0gY29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXM7XG4gIHByb3h5Lmdyb3VwVHJhbnNmb3JtID0gY29udGFpbmVyLmdyb3VwVHJhbnNmb3JtO1xuICBwcm94eS5sb2NhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIubG9jYWxEaXNwbGF5U3RhdHVzO1xuICBwcm94eS5ncm91cEFscGhhID0gY29udGFpbmVyLmdyb3VwQWxwaGE7XG4gIHByb3h5Ll9yb3VuZFBpeGVscyA9IGNvbnRhaW5lci5fcm91bmRQaXhlbHM7XG59XG5cbmV4cG9ydCB7IEJpdG1hcFRleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRtYXBUZXh0UGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBCaXRtYXBUZXh0UGlwZSB9IGZyb20gJy4vQml0bWFwVGV4dFBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChCaXRtYXBUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0Qml0bWFwVGV4dExheW91dChjaGFycywgc3R5bGUsIGZvbnQsIHRyaW1FbmQpIHtcbiAgY29uc3QgbGF5b3V0RGF0YSA9IHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgb2Zmc2V0WTogMCxcbiAgICBzY2FsZTogc3R5bGUuZm9udFNpemUgLyBmb250LmJhc2VNZWFzdXJlbWVudEZvbnRTaXplLFxuICAgIGxpbmVzOiBbe1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBjaGFyUG9zaXRpb25zOiBbXSxcbiAgICAgIHNwYWNlV2lkdGg6IDAsXG4gICAgICBzcGFjZXNJbmRleDogW10sXG4gICAgICBjaGFyczogW11cbiAgICB9XVxuICB9O1xuICBsYXlvdXREYXRhLm9mZnNldFkgPSBmb250LmJhc2VMaW5lT2Zmc2V0O1xuICBsZXQgY3VycmVudExpbmUgPSBsYXlvdXREYXRhLmxpbmVzWzBdO1xuICBsZXQgcHJldmlvdXNDaGFyID0gbnVsbDtcbiAgbGV0IGZpcnN0V29yZCA9IHRydWU7XG4gIGNvbnN0IGN1cnJlbnRXb3JkID0ge1xuICAgIHNwYWNlV29yZDogZmFsc2UsXG4gICAgd2lkdGg6IDAsXG4gICAgc3RhcnQ6IDAsXG4gICAgaW5kZXg6IDAsXG4gICAgLy8gdXNlIGluZGV4IHRvIG5vdCBtb2RpZnkgdGhlIGFycmF5IGFzIHdlIHVzZSBpdCBhIGxvdCFcbiAgICBwb3NpdGlvbnM6IFtdLFxuICAgIGNoYXJzOiBbXVxuICB9O1xuICBjb25zdCBuZXh0V29yZCA9ICh3b3JkKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBjdXJyZW50TGluZS53aWR0aDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGN1cnJlbnRXb3JkLmluZGV4OyBqKyspIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gd29yZC5wb3NpdGlvbnNbal07XG4gICAgICBjdXJyZW50TGluZS5jaGFycy5wdXNoKHdvcmQuY2hhcnNbal0pO1xuICAgICAgY3VycmVudExpbmUuY2hhclBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uICsgc3RhcnQpO1xuICAgIH1cbiAgICBjdXJyZW50TGluZS53aWR0aCArPSB3b3JkLndpZHRoO1xuICAgIGZpcnN0V29yZCA9IGZhbHNlO1xuICAgIGN1cnJlbnRXb3JkLndpZHRoID0gMDtcbiAgICBjdXJyZW50V29yZC5pbmRleCA9IDA7XG4gICAgY3VycmVudFdvcmQuY2hhcnMubGVuZ3RoID0gMDtcbiAgfTtcbiAgY29uc3QgbmV4dExpbmUgPSAoKSA9PiB7XG4gICAgbGV0IGluZGV4ID0gY3VycmVudExpbmUuY2hhcnMubGVuZ3RoIC0gMTtcbiAgICBpZiAodHJpbUVuZCkge1xuICAgICAgbGV0IGxhc3RDaGFyID0gY3VycmVudExpbmUuY2hhcnNbaW5kZXhdO1xuICAgICAgd2hpbGUgKGxhc3RDaGFyID09PSBcIiBcIikge1xuICAgICAgICBjdXJyZW50TGluZS53aWR0aCAtPSBmb250LmNoYXJzW2xhc3RDaGFyXS54QWR2YW5jZTtcbiAgICAgICAgbGFzdENoYXIgPSBjdXJyZW50TGluZS5jaGFyc1stLWluZGV4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGF5b3V0RGF0YS53aWR0aCA9IE1hdGgubWF4KGxheW91dERhdGEud2lkdGgsIGN1cnJlbnRMaW5lLndpZHRoKTtcbiAgICBjdXJyZW50TGluZSA9IHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgY2hhclBvc2l0aW9uczogW10sXG4gICAgICBjaGFyczogW10sXG4gICAgICBzcGFjZVdpZHRoOiAwLFxuICAgICAgc3BhY2VzSW5kZXg6IFtdXG4gICAgfTtcbiAgICBmaXJzdFdvcmQgPSB0cnVlO1xuICAgIGxheW91dERhdGEubGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgbGF5b3V0RGF0YS5oZWlnaHQgKz0gZm9udC5saW5lSGVpZ2h0O1xuICB9O1xuICBjb25zdCBzY2FsZSA9IGZvbnQuYmFzZU1lYXN1cmVtZW50Rm9udFNpemUgLyBzdHlsZS5mb250U2l6ZTtcbiAgY29uc3QgYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZyAqIHNjYWxlO1xuICBjb25zdCBhZGp1c3RlZFdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICogc2NhbGU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoICsgMTsgaSsrKSB7XG4gICAgbGV0IGNoYXI7XG4gICAgY29uc3QgaXNFbmQgPSBpID09PSBjaGFycy5sZW5ndGg7XG4gICAgaWYgKCFpc0VuZCkge1xuICAgICAgY2hhciA9IGNoYXJzW2ldO1xuICAgIH1cbiAgICBjb25zdCBjaGFyRGF0YSA9IGZvbnQuY2hhcnNbY2hhcl0gfHwgZm9udC5jaGFyc1tcIiBcIl07XG4gICAgY29uc3QgaXNTcGFjZSA9IC8oPzpcXHMpLy50ZXN0KGNoYXIpO1xuICAgIGNvbnN0IGlzV29yZEJyZWFrID0gaXNTcGFjZSB8fCBjaGFyID09PSBcIlxcclwiIHx8IGNoYXIgPT09IFwiXFxuXCIgfHwgaXNFbmQ7XG4gICAgaWYgKGlzV29yZEJyZWFrKSB7XG4gICAgICBjb25zdCBhZGRXb3JkVG9OZXh0TGluZSA9ICFmaXJzdFdvcmQgJiYgc3R5bGUud29yZFdyYXAgJiYgY3VycmVudExpbmUud2lkdGggKyBjdXJyZW50V29yZC53aWR0aCAtIGFkanVzdGVkTGV0dGVyU3BhY2luZyA+IGFkanVzdGVkV29yZFdyYXBXaWR0aDtcbiAgICAgIGlmIChhZGRXb3JkVG9OZXh0TGluZSkge1xuICAgICAgICBuZXh0TGluZSgpO1xuICAgICAgICBuZXh0V29yZChjdXJyZW50V29yZCk7XG4gICAgICAgIGlmICghaXNFbmQpIHtcbiAgICAgICAgICBjdXJyZW50TGluZS5jaGFyUG9zaXRpb25zLnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRXb3JkLnN0YXJ0ID0gY3VycmVudExpbmUud2lkdGg7XG4gICAgICAgIG5leHRXb3JkKGN1cnJlbnRXb3JkKTtcbiAgICAgICAgaWYgKCFpc0VuZCkge1xuICAgICAgICAgIGN1cnJlbnRMaW5lLmNoYXJQb3NpdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoYXIgPT09IFwiXFxyXCIgfHwgY2hhciA9PT0gXCJcXG5cIikge1xuICAgICAgICBpZiAoY3VycmVudExpbmUud2lkdGggIT09IDApIHtcbiAgICAgICAgICBuZXh0TGluZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VuZCkge1xuICAgICAgICBjb25zdCBzcGFjZVdpZHRoID0gY2hhckRhdGEueEFkdmFuY2UgKyAoY2hhckRhdGEua2VybmluZ1twcmV2aW91c0NoYXJdIHx8IDApICsgYWRqdXN0ZWRMZXR0ZXJTcGFjaW5nO1xuICAgICAgICBjdXJyZW50TGluZS53aWR0aCArPSBzcGFjZVdpZHRoO1xuICAgICAgICBjdXJyZW50TGluZS5zcGFjZVdpZHRoID0gc3BhY2VXaWR0aDtcbiAgICAgICAgY3VycmVudExpbmUuc3BhY2VzSW5kZXgucHVzaChjdXJyZW50TGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aCk7XG4gICAgICAgIGN1cnJlbnRMaW5lLmNoYXJzLnB1c2goY2hhcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtlcm5pbmcgPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZpb3VzQ2hhcl0gfHwgMDtcbiAgICAgIGNvbnN0IG5leHRDaGFyV2lkdGggPSBjaGFyRGF0YS54QWR2YW5jZSArIGtlcm5pbmcgKyBhZGp1c3RlZExldHRlclNwYWNpbmc7XG4gICAgICBjdXJyZW50V29yZC5wb3NpdGlvbnNbY3VycmVudFdvcmQuaW5kZXgrK10gPSBjdXJyZW50V29yZC53aWR0aCArIGtlcm5pbmc7XG4gICAgICBjdXJyZW50V29yZC5jaGFycy5wdXNoKGNoYXIpO1xuICAgICAgY3VycmVudFdvcmQud2lkdGggKz0gbmV4dENoYXJXaWR0aDtcbiAgICB9XG4gICAgcHJldmlvdXNDaGFyID0gY2hhcjtcbiAgfVxuICBuZXh0TGluZSgpO1xuICBpZiAoc3R5bGUuYWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICBhbGlnbkNlbnRlcihsYXlvdXREYXRhKTtcbiAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgYWxpZ25SaWdodChsYXlvdXREYXRhKTtcbiAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJqdXN0aWZ5XCIpIHtcbiAgICBhbGlnbkp1c3RpZnkobGF5b3V0RGF0YSk7XG4gIH1cbiAgcmV0dXJuIGxheW91dERhdGE7XG59XG5mdW5jdGlvbiBhbGlnbkNlbnRlcihtZWFzdXJlbWVudERhdGEpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJlbWVudERhdGEubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbWVhc3VyZW1lbnREYXRhLmxpbmVzW2ldO1xuICAgIGNvbnN0IG9mZnNldCA9IG1lYXN1cmVtZW50RGF0YS53aWR0aCAvIDIgLSBsaW5lLndpZHRoIC8gMjtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUuY2hhclBvc2l0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgbGluZS5jaGFyUG9zaXRpb25zW2pdICs9IG9mZnNldDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFsaWduUmlnaHQobWVhc3VyZW1lbnREYXRhKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWVhc3VyZW1lbnREYXRhLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbGluZSA9IG1lYXN1cmVtZW50RGF0YS5saW5lc1tpXTtcbiAgICBjb25zdCBvZmZzZXQgPSBtZWFzdXJlbWVudERhdGEud2lkdGggLSBsaW5lLndpZHRoO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICBsaW5lLmNoYXJQb3NpdGlvbnNbal0gKz0gb2Zmc2V0O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYWxpZ25KdXN0aWZ5KG1lYXN1cmVtZW50RGF0YSkge1xuICBjb25zdCB3aWR0aCA9IG1lYXN1cmVtZW50RGF0YS53aWR0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJlbWVudERhdGEubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gbWVhc3VyZW1lbnREYXRhLmxpbmVzW2ldO1xuICAgIGxldCBpbmR5ID0gMDtcbiAgICBsZXQgc3BhY2VJbmRleCA9IGxpbmUuc3BhY2VzSW5kZXhbaW5keSsrXTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBjb25zdCB0b3RhbFNwYWNlcyA9IGxpbmUuc3BhY2VzSW5kZXgubGVuZ3RoO1xuICAgIGNvbnN0IG5ld1NwYWNlV2lkdGggPSAod2lkdGggLSBsaW5lLndpZHRoKSAvIHRvdGFsU3BhY2VzO1xuICAgIGNvbnN0IHNwYWNlV2lkdGggPSBuZXdTcGFjZVdpZHRoO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5jaGFyUG9zaXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoaiA9PT0gc3BhY2VJbmRleCkge1xuICAgICAgICBzcGFjZUluZGV4ID0gbGluZS5zcGFjZXNJbmRleFtpbmR5KytdO1xuICAgICAgICBvZmZzZXQgKz0gc3BhY2VXaWR0aDtcbiAgICAgIH1cbiAgICAgIGxpbmUuY2hhclBvc2l0aW9uc1tqXSArPSBvZmZzZXQ7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGdldEJpdG1hcFRleHRMYXlvdXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEJpdG1hcFRleHRMYXlvdXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgdXBkYXRlUXVhZEJvdW5kcyB9IGZyb20gJy4uLy4uL3V0aWxzL2RhdGEvdXBkYXRlUXVhZEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuLi9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9ncHVUZXh0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucmVzb2x1dGlvbkNoYW5nZS5hZGQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX2dwdVRleHRcIik7XG4gIH1cbiAgcmVzb2x1dGlvbkNoYW5nZSgpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZ3B1VGV4dCkge1xuICAgICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dwdVRleHRbaV07XG4gICAgICBpZiAoIWdwdVRleHQpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgY29uc3QgdGV4dCA9IGdwdVRleHQuYmF0Y2hhYmxlU3ByaXRlLnJlbmRlcmFibGU7XG4gICAgICBpZiAodGV4dC5fYXV0b1Jlc29sdXRpb24pIHtcbiAgICAgICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHRleHQub25WaWV3VXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShodG1sVGV4dCkge1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9nZXRHcHVUZXh0KGh0bWxUZXh0KTtcbiAgICBjb25zdCBuZXdLZXkgPSBodG1sVGV4dC5fZ2V0S2V5KCk7XG4gICAgaWYgKGdwdVRleHQudGV4dHVyZU5lZWRzVXBsb2FkaW5nKSB7XG4gICAgICBncHVUZXh0LnRleHR1cmVOZWVkc1VwbG9hZGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChncHVUZXh0LmN1cnJlbnRLZXkgIT09IG5ld0tleSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGh0bWxUZXh0LCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9nZXRHcHVUZXh0KGh0bWxUZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAoaHRtbFRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHQoaHRtbFRleHQpO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGJhdGNoYWJsZVNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0KGh0bWxUZXh0KTtcbiAgICB9XG4gICAgYmF0Y2hhYmxlU3ByaXRlLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2hhYmxlU3ByaXRlKTtcbiAgfVxuICBkZXN0cm95UmVuZGVyYWJsZShodG1sVGV4dCkge1xuICAgIGh0bWxUZXh0Lm9mZihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJ5SWQoaHRtbFRleHQudWlkKTtcbiAgfVxuICBfZGVzdHJveVJlbmRlcmFibGVCeUlkKGh0bWxUZXh0VWlkKSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dwdVRleHRbaHRtbFRleHRVaWRdO1xuICAgIHRoaXMuX3JlbmRlcmVyLmh0bWxUZXh0LmRlY3JlYXNlUmVmZXJlbmNlQ291bnQoZ3B1VGV4dC5jdXJyZW50S2V5KTtcbiAgICBCaWdQb29sLnJldHVybihncHVUZXh0LmJhdGNoYWJsZVNwcml0ZSk7XG4gICAgdGhpcy5fZ3B1VGV4dFtodG1sVGV4dFVpZF0gPSBudWxsO1xuICB9XG4gIF91cGRhdGVUZXh0KGh0bWxUZXh0KSB7XG4gICAgY29uc3QgbmV3S2V5ID0gaHRtbFRleHQuX2dldEtleSgpO1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9nZXRHcHVUZXh0KGh0bWxUZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUdwdVRleHQoaHRtbFRleHQpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaHRtbFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBwYWRkaW5nID0gaHRtbFRleHQuX3N0eWxlLnBhZGRpbmc7XG4gICAgdXBkYXRlUXVhZEJvdW5kcyhiYXRjaGFibGVTcHJpdGUuYm91bmRzLCBodG1sVGV4dC5fYW5jaG9yLCBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSwgcGFkZGluZyk7XG4gIH1cbiAgYXN5bmMgX3VwZGF0ZUdwdVRleHQoaHRtbFRleHQpIHtcbiAgICBodG1sVGV4dC5fZGlkVGV4dFVwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9nZXRHcHVUZXh0KGh0bWxUZXh0KTtcbiAgICBpZiAoZ3B1VGV4dC5nZW5lcmF0aW5nVGV4dHVyZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBuZXdLZXkgPSBodG1sVGV4dC5fZ2V0S2V5KCk7XG4gICAgdGhpcy5fcmVuZGVyZXIuaHRtbFRleHQuZGVjcmVhc2VSZWZlcmVuY2VDb3VudChncHVUZXh0LmN1cnJlbnRLZXkpO1xuICAgIGdwdVRleHQuZ2VuZXJhdGluZ1RleHR1cmUgPSB0cnVlO1xuICAgIGdwdVRleHQuY3VycmVudEtleSA9IG5ld0tleTtcbiAgICBjb25zdCByZXNvbHV0aW9uID0gaHRtbFRleHQucmVzb2x1dGlvbiA/PyB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHRleHR1cmUgPSBhd2FpdCB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5nZXRNYW5hZ2VkVGV4dHVyZShcbiAgICAgIGh0bWxUZXh0LnRleHQsXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgaHRtbFRleHQuX3N0eWxlLFxuICAgICAgaHRtbFRleHQuX2dldEtleSgpXG4gICAgKTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IGdwdVRleHQudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgZ3B1VGV4dC5nZW5lcmF0aW5nVGV4dHVyZSA9IGZhbHNlO1xuICAgIGdwdVRleHQudGV4dHVyZU5lZWRzVXBsb2FkaW5nID0gdHJ1ZTtcbiAgICBodG1sVGV4dC5vblZpZXdVcGRhdGUoKTtcbiAgICBjb25zdCBwYWRkaW5nID0gaHRtbFRleHQuX3N0eWxlLnBhZGRpbmc7XG4gICAgdXBkYXRlUXVhZEJvdW5kcyhiYXRjaGFibGVTcHJpdGUuYm91bmRzLCBodG1sVGV4dC5fYW5jaG9yLCBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSwgcGFkZGluZyk7XG4gIH1cbiAgX2dldEdwdVRleHQoaHRtbFRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1VGV4dFtodG1sVGV4dC51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQoaHRtbFRleHQpO1xuICB9XG4gIGluaXRHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dERhdGEgPSB7XG4gICAgICB0ZXh0dXJlOiBUZXh0dXJlLkVNUFRZLFxuICAgICAgY3VycmVudEtleTogXCItLVwiLFxuICAgICAgYmF0Y2hhYmxlU3ByaXRlOiBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpLFxuICAgICAgdGV4dHVyZU5lZWRzVXBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIGdlbmVyYXRpbmdUZXh0dXJlOiBmYWxzZVxuICAgIH07XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlID0gaHRtbFRleHQ7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IGh0bWxUZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0geyBtaW5YOiAwLCBtYXhYOiAxLCBtaW5ZOiAwLCBtYXhZOiAwIH07XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgaHRtbFRleHQuX3JvdW5kUGl4ZWxzO1xuICAgIGh0bWxUZXh0Ll9yZXNvbHV0aW9uID0gaHRtbFRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IGh0bWxUZXh0LnJlc29sdXRpb247XG4gICAgdGhpcy5fZ3B1VGV4dFtodG1sVGV4dC51aWRdID0gZ3B1VGV4dERhdGE7XG4gICAgaHRtbFRleHQub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIGdwdVRleHREYXRhO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZChpKTtcbiAgICB9XG4gICAgdGhpcy5fZ3B1VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuSFRNTFRleHRQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJodG1sVGV4dFwiXG59O1xuXG5leHBvcnQgeyBIVE1MVGV4dFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhUTUxUZXh0UGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IG5zc3ZnID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgbnN4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuY2xhc3MgSFRNTFRleHRSZW5kZXJEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdmdSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zc3ZnLCBcInN2Z1wiKTtcbiAgICB0aGlzLmZvcmVpZ25PYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnNzdmcsIFwiZm9yZWlnbk9iamVjdFwiKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnN4aHRtbCwgXCJkaXZcIik7XG4gICAgdGhpcy5zdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnN4aHRtbCwgXCJzdHlsZVwiKTtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgY29uc3QgeyBmb3JlaWduT2JqZWN0LCBzdmdSb290LCBzdHlsZUVsZW1lbnQsIGRvbUVsZW1lbnQgfSA9IHRoaXM7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjEwMDAwXCIpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMTAwMDBcIik7XG4gICAgZm9yZWlnbk9iamVjdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgc3ZnUm9vdC5hcHBlbmRDaGlsZChmb3JlaWduT2JqZWN0KTtcbiAgICBmb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChkb21FbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBIVE1MVGV4dFJlbmRlckRhdGEsIG5zc3ZnLCBuc3hodG1sIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFJlbmRlckRhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHRleHRTdHlsZVRvQ1NTKHN0eWxlKSB7XG4gIGNvbnN0IHN0cm9rZSA9IHN0eWxlLl9zdHJva2U7XG4gIGNvbnN0IGZpbGwgPSBzdHlsZS5fZmlsbDtcbiAgY29uc3QgY3NzU3R5bGVTdHJpbmcgPSBbXG4gICAgYGNvbG9yOiAke0NvbG9yLnNoYXJlZC5zZXRWYWx1ZShmaWxsLmNvbG9yKS50b0hleCgpfWAsXG4gICAgYGZvbnQtc2l6ZTogJHtzdHlsZS5mb250U2l6ZX1weGAsXG4gICAgYGZvbnQtZmFtaWx5OiAke3N0eWxlLmZvbnRGYW1pbHl9YCxcbiAgICBgZm9udC13ZWlnaHQ6ICR7c3R5bGUuZm9udFdlaWdodH1gLFxuICAgIGBmb250LXN0eWxlOiAke3N0eWxlLmZvbnRTdHlsZX1gLFxuICAgIGBmb250LXZhcmlhbnQ6ICR7c3R5bGUuZm9udFZhcmlhbnR9YCxcbiAgICBgbGV0dGVyLXNwYWNpbmc6ICR7c3R5bGUubGV0dGVyU3BhY2luZ31weGAsXG4gICAgYHRleHQtYWxpZ246ICR7c3R5bGUuYWxpZ259YCxcbiAgICBgcGFkZGluZzogJHtzdHlsZS5wYWRkaW5nfXB4YCxcbiAgICBgd2hpdGUtc3BhY2U6ICR7c3R5bGUud2hpdGVTcGFjZSA9PT0gXCJwcmVcIiAmJiBzdHlsZS53b3JkV3JhcCA/IFwicHJlLXdyYXBcIiA6IHN0eWxlLndoaXRlU3BhY2V9YCxcbiAgICAuLi5zdHlsZS5saW5lSGVpZ2h0ID8gW2BsaW5lLWhlaWdodDogJHtzdHlsZS5saW5lSGVpZ2h0fXB4YF0gOiBbXSxcbiAgICAuLi5zdHlsZS53b3JkV3JhcCA/IFtcbiAgICAgIGB3b3JkLXdyYXA6ICR7c3R5bGUuYnJlYWtXb3JkcyA/IFwiYnJlYWstYWxsXCIgOiBcImJyZWFrLXdvcmRcIn1gLFxuICAgICAgYG1heC13aWR0aDogJHtzdHlsZS53b3JkV3JhcFdpZHRofXB4YFxuICAgIF0gOiBbXSxcbiAgICAuLi5zdHJva2UgPyBbc3Ryb2tlVG9DU1Moc3Ryb2tlKV0gOiBbXSxcbiAgICAuLi5zdHlsZS5kcm9wU2hhZG93ID8gW2Ryb3BTaGFkb3dUb0NTUyhzdHlsZS5kcm9wU2hhZG93KV0gOiBbXSxcbiAgICAuLi5zdHlsZS5jc3NPdmVycmlkZXNcbiAgXS5qb2luKFwiO1wiKTtcbiAgY29uc3QgY3NzU3R5bGVzID0gW2BkaXYgeyAke2Nzc1N0eWxlU3RyaW5nfSB9YF07XG4gIHRhZ1N0eWxlVG9DU1Moc3R5bGUudGFnU3R5bGVzLCBjc3NTdHlsZXMpO1xuICByZXR1cm4gY3NzU3R5bGVzLmpvaW4oXCIgXCIpO1xufVxuZnVuY3Rpb24gZHJvcFNoYWRvd1RvQ1NTKGRyb3BTaGFkb3dTdHlsZSkge1xuICBjb25zdCBjb2xvciA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShkcm9wU2hhZG93U3R5bGUuY29sb3IpLnNldEFscGhhKGRyb3BTaGFkb3dTdHlsZS5hbHBoYSkudG9IZXhhKCk7XG4gIGNvbnN0IHggPSBNYXRoLnJvdW5kKE1hdGguY29zKGRyb3BTaGFkb3dTdHlsZS5hbmdsZSkgKiBkcm9wU2hhZG93U3R5bGUuZGlzdGFuY2UpO1xuICBjb25zdCB5ID0gTWF0aC5yb3VuZChNYXRoLnNpbihkcm9wU2hhZG93U3R5bGUuYW5nbGUpICogZHJvcFNoYWRvd1N0eWxlLmRpc3RhbmNlKTtcbiAgY29uc3QgcG9zaXRpb24gPSBgJHt4fXB4ICR7eX1weGA7XG4gIGlmIChkcm9wU2hhZG93U3R5bGUuYmx1ciA+IDApIHtcbiAgICByZXR1cm4gYHRleHQtc2hhZG93OiAke3Bvc2l0aW9ufSAke2Ryb3BTaGFkb3dTdHlsZS5ibHVyfXB4ICR7Y29sb3J9YDtcbiAgfVxuICByZXR1cm4gYHRleHQtc2hhZG93OiAke3Bvc2l0aW9ufSAke2NvbG9yfWA7XG59XG5mdW5jdGlvbiBzdHJva2VUb0NTUyhzdHJva2UpIHtcbiAgcmV0dXJuIFtcbiAgICBgLXdlYmtpdC10ZXh0LXN0cm9rZS13aWR0aDogJHtzdHJva2Uud2lkdGh9cHhgLFxuICAgIGAtd2Via2l0LXRleHQtc3Ryb2tlLWNvbG9yOiAke0NvbG9yLnNoYXJlZC5zZXRWYWx1ZShzdHJva2UuY29sb3IpLnRvSGV4KCl9YCxcbiAgICBgdGV4dC1zdHJva2Utd2lkdGg6ICR7c3Ryb2tlLndpZHRofXB4YCxcbiAgICBgdGV4dC1zdHJva2UtY29sb3I6ICR7Q29sb3Iuc2hhcmVkLnNldFZhbHVlKHN0cm9rZS5jb2xvcikudG9IZXgoKX1gLFxuICAgIFwicGFpbnQtb3JkZXI6IHN0cm9rZVwiXG4gIF0uam9pbihcIjtcIik7XG59XG5jb25zdCB0ZW1wbGF0ZXMgPSB7XG4gIGZvbnRTaXplOiBgZm9udC1zaXplOiB7e1ZBTFVFfX1weGAsXG4gIGZvbnRGYW1pbHk6IGBmb250LWZhbWlseToge3tWQUxVRX19YCxcbiAgZm9udFdlaWdodDogYGZvbnQtd2VpZ2h0OiB7e1ZBTFVFfX1gLFxuICBmb250U3R5bGU6IGBmb250LXN0eWxlOiB7e1ZBTFVFfX1gLFxuICBmb250VmFyaWFudDogYGZvbnQtdmFyaWFudDoge3tWQUxVRX19YCxcbiAgbGV0dGVyU3BhY2luZzogYGxldHRlci1zcGFjaW5nOiB7e1ZBTFVFfX1weGAsXG4gIGFsaWduOiBgdGV4dC1hbGlnbjoge3tWQUxVRX19YCxcbiAgcGFkZGluZzogYHBhZGRpbmc6IHt7VkFMVUV9fXB4YCxcbiAgd2hpdGVTcGFjZTogYHdoaXRlLXNwYWNlOiB7e1ZBTFVFfX1gLFxuICBsaW5lSGVpZ2h0OiBgbGluZS1oZWlnaHQ6IHt7VkFMVUV9fXB4YCxcbiAgd29yZFdyYXBXaWR0aDogYG1heC13aWR0aDoge3tWQUxVRX19cHhgXG59O1xuY29uc3QgdHJhbnNmb3JtID0ge1xuICBmaWxsOiAodmFsdWUpID0+IGBjb2xvcjogJHtDb2xvci5zaGFyZWQuc2V0VmFsdWUodmFsdWUpLnRvSGV4KCl9YCxcbiAgYnJlYWtXb3JkczogKHZhbHVlKSA9PiBgd29yZC13cmFwOiAke3ZhbHVlID8gXCJicmVhay1hbGxcIiA6IFwiYnJlYWstd29yZFwifWAsXG4gIHN0cm9rZTogc3Ryb2tlVG9DU1MsXG4gIGRyb3BTaGFkb3c6IGRyb3BTaGFkb3dUb0NTU1xufTtcbmZ1bmN0aW9uIHRhZ1N0eWxlVG9DU1ModGFnU3R5bGVzLCBvdXQpIHtcbiAgZm9yIChjb25zdCBpIGluIHRhZ1N0eWxlcykge1xuICAgIGNvbnN0IHRhZ1N0eWxlID0gdGFnU3R5bGVzW2ldO1xuICAgIGNvbnN0IGNzc1RhZ1N0eWxlID0gW107XG4gICAgZm9yIChjb25zdCBqIGluIHRhZ1N0eWxlKSB7XG4gICAgICBpZiAodHJhbnNmb3JtW2pdKSB7XG4gICAgICAgIGNzc1RhZ1N0eWxlLnB1c2godHJhbnNmb3JtW2pdKHRhZ1N0eWxlW2pdKSk7XG4gICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlc1tqXSkge1xuICAgICAgICBjc3NUYWdTdHlsZS5wdXNoKHRlbXBsYXRlc1tqXS5yZXBsYWNlKFwie3tWQUxVRX19XCIsIHRhZ1N0eWxlW2pdKSk7XG4gICAgICB9XG4gICAgfVxuICAgIG91dC5wdXNoKGAke2l9IHsgJHtjc3NUYWdTdHlsZS5qb2luKFwiO1wiKX0gfWApO1xuICB9XG59XG5cbmV4cG9ydCB7IHRleHRTdHlsZVRvQ1NTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0U3R5bGVUb0NTUy5tanMubWFwXG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuLi90ZXh0L1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVUZXh0U3R5bGVLZXkgfSBmcm9tICcuLi90ZXh0L3V0aWxzL2dlbmVyYXRlVGV4dFN0eWxlS2V5Lm1qcyc7XG5pbXBvcnQgeyB0ZXh0U3R5bGVUb0NTUyB9IGZyb20gJy4vdXRpbHMvdGV4dFN0eWxlVG9DU1MubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBIVE1MVGV4dFN0eWxlIGV4dGVuZHMgVGV4dFN0eWxlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgdGhpcy5fY3NzT3ZlcnJpZGVzID0gW107XG4gICAgdGhpcy5jc3NPdmVycmlkZXMgPz8gKHRoaXMuY3NzT3ZlcnJpZGVzID0gb3B0aW9ucy5jc3NPdmVycmlkZXMpO1xuICAgIHRoaXMudGFnU3R5bGVzID0gb3B0aW9ucy50YWdTdHlsZXMgPz8ge307XG4gIH1cbiAgLyoqIExpc3Qgb2Ygc3R5bGUgb3ZlcnJpZGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBIVE1MIHRleHQuICovXG4gIHNldCBjc3NPdmVycmlkZXModmFsdWUpIHtcbiAgICB0aGlzLl9jc3NPdmVycmlkZXMgPSB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgZ2V0IGNzc092ZXJyaWRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3NzT3ZlcnJpZGVzO1xuICB9XG4gIF9nZW5lcmF0ZUtleSgpIHtcbiAgICB0aGlzLl9zdHlsZUtleSA9IGdlbmVyYXRlVGV4dFN0eWxlS2V5KHRoaXMpICsgdGhpcy5fY3NzT3ZlcnJpZGVzLmpvaW4oXCItXCIpO1xuICAgIHJldHVybiB0aGlzLl9zdHlsZUtleTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5fY3NzU3R5bGUgPSBudWxsO1xuICAgIHN1cGVyLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEhUTUxUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgKiBAcmV0dXJucyBOZXcgY2xvbmVkIEhUTUxUZXh0U3R5bGUgb2JqZWN0XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEhUTUxUZXh0U3R5bGUoe1xuICAgICAgYWxpZ246IHRoaXMuYWxpZ24sXG4gICAgICBicmVha1dvcmRzOiB0aGlzLmJyZWFrV29yZHMsXG4gICAgICBkcm9wU2hhZG93OiB0aGlzLmRyb3BTaGFkb3cgPyB7IC4uLnRoaXMuZHJvcFNoYWRvdyB9IDogbnVsbCxcbiAgICAgIGZpbGw6IHRoaXMuX2ZpbGwsXG4gICAgICBmb250RmFtaWx5OiB0aGlzLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZSxcbiAgICAgIGZvbnRTdHlsZTogdGhpcy5mb250U3R5bGUsXG4gICAgICBmb250VmFyaWFudDogdGhpcy5mb250VmFyaWFudCxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCxcbiAgICAgIGxldHRlclNwYWNpbmc6IHRoaXMubGV0dGVyU3BhY2luZyxcbiAgICAgIGxpbmVIZWlnaHQ6IHRoaXMubGluZUhlaWdodCxcbiAgICAgIHBhZGRpbmc6IHRoaXMucGFkZGluZyxcbiAgICAgIHN0cm9rZTogdGhpcy5fc3Ryb2tlLFxuICAgICAgd2hpdGVTcGFjZTogdGhpcy53aGl0ZVNwYWNlLFxuICAgICAgd29yZFdyYXA6IHRoaXMud29yZFdyYXAsXG4gICAgICB3b3JkV3JhcFdpZHRoOiB0aGlzLndvcmRXcmFwV2lkdGgsXG4gICAgICBjc3NPdmVycmlkZXM6IHRoaXMuY3NzT3ZlcnJpZGVzXG4gICAgfSk7XG4gIH1cbiAgZ2V0IGNzc1N0eWxlKCkge1xuICAgIGlmICghdGhpcy5fY3NzU3R5bGUpIHtcbiAgICAgIHRoaXMuX2Nzc1N0eWxlID0gdGV4dFN0eWxlVG9DU1ModGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jc3NTdHlsZTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgc3R5bGUgb3ZlcnJpZGUsIHRoaXMgY2FuIGJlIGFueSBDU1MgcHJvcGVydHlcbiAgICogaXQgd2lsbCBvdmVycmlkZSBhbnkgYnVpbHQtaW4gc3R5bGUuIFRoaXMgaXMgdGhlXG4gICAqIHByb3BlcnR5IGFuZCB0aGUgdmFsdWUgYXMgYSBzdHJpbmcgKGUuZy4sIGBjb2xvcjogcmVkYCkuXG4gICAqIFRoaXMgd2lsbCBvdmVycmlkZSBhbnkgb3RoZXIgaW50ZXJuYWwgc3R5bGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIENTUyBzdHlsZShzKSB0byBhZGQuXG4gICAqIEBleGFtcGxlXG4gICAqIHN0eWxlLmFkZE92ZXJyaWRlKCdiYWNrZ3JvdW5kLWNvbG9yOiByZWQnKTtcbiAgICovXG4gIGFkZE92ZXJyaWRlKC4uLnZhbHVlKSB7XG4gICAgY29uc3QgdG9BZGQgPSB2YWx1ZS5maWx0ZXIoKHYpID0+ICF0aGlzLmNzc092ZXJyaWRlcy5pbmNsdWRlcyh2KSk7XG4gICAgaWYgKHRvQWRkLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY3NzT3ZlcnJpZGVzLnB1c2goLi4udG9BZGQpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhbnkgb3ZlcnJpZGVzIHRoYXQgbWF0Y2ggdGhlIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBDU1Mgc3R5bGUgdG8gcmVtb3ZlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBzdHlsZS5yZW1vdmVPdmVycmlkZSgnYmFja2dyb3VuZC1jb2xvcjogcmVkJyk7XG4gICAqL1xuICByZW1vdmVPdmVycmlkZSguLi52YWx1ZSkge1xuICAgIGNvbnN0IHRvUmVtb3ZlID0gdmFsdWUuZmlsdGVyKCh2KSA9PiB0aGlzLmNzc092ZXJyaWRlcy5pbmNsdWRlcyh2KSk7XG4gICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY3NzT3ZlcnJpZGVzID0gdGhpcy5jc3NPdmVycmlkZXMuZmlsdGVyKCh2KSA9PiAhdG9SZW1vdmUuaW5jbHVkZXModikpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgc2V0IGZpbGwodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgd2FybihcIltIVE1MVGV4dFN0eWxlXSBvbmx5IGNvbG9yIGZpbGwgaXMgbm90IHN1cHBvcnRlZCBieSBIVE1MVGV4dFwiKTtcbiAgICB9XG4gICAgc3VwZXIuZmlsbCA9IHZhbHVlO1xuICB9XG4gIHNldCBzdHJva2UodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgd2FybihcIltIVE1MVGV4dFN0eWxlXSBvbmx5IGNvbG9yIHN0cm9rZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IEhUTUxUZXh0XCIpO1xuICAgIH1cbiAgICBzdXBlci5zdHJva2UgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBIVE1MVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFN0eWxlLm1qcy5tYXBcbiIsImltcG9ydCB7IGxvYWRGb250QXNCYXNlNjQgfSBmcm9tICcuL2xvYWRGb250QXNCYXNlNjQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5hc3luYyBmdW5jdGlvbiBsb2FkRm9udENTUyhzdHlsZSwgdXJsKSB7XG4gIGNvbnN0IGRhdGFTcmMgPSBhd2FpdCBsb2FkRm9udEFzQmFzZTY0KHVybCk7XG4gIHJldHVybiBgQGZvbnQtZmFjZSB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcIiR7c3R5bGUuZm9udEZhbWlseX1cIjtcbiAgICAgICAgc3JjOiB1cmwoJyR7ZGF0YVNyY30nKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6ICR7c3R5bGUuZm9udFdlaWdodH07XG4gICAgICAgIGZvbnQtc3R5bGU6ICR7c3R5bGUuZm9udFN0eWxlfTtcbiAgICB9YDtcbn1cblxuZXhwb3J0IHsgbG9hZEZvbnRDU1MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRGb250Q1NTLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnRBc0Jhc2U2NCh1cmwpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBET01BZGFwdGVyLmdldCgpLmZldGNoKHVybCk7XG4gIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGNvbnN0IGRhdGFTcmMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIH0pO1xuICByZXR1cm4gZGF0YVNyYztcbn1cblxuZXhwb3J0IHsgbG9hZEZvbnRBc0Jhc2U2NCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZEZvbnRBc0Jhc2U2NC5tanMubWFwXG4iLCJpbXBvcnQgeyBDYWNoZSB9IGZyb20gJy4uLy4uLy4uL2Fzc2V0cy9jYWNoZS9DYWNoZS5tanMnO1xuaW1wb3J0IHsgbG9hZEZvbnRDU1MgfSBmcm9tICcuL2xvYWRGb250Q1NTLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgRm9udFN0eWxlUHJvbWlzZUNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmFzeW5jIGZ1bmN0aW9uIGdldEZvbnRDc3MoZm9udEZhbWlsaWVzLCBzdHlsZSwgZGVmYXVsdE9wdGlvbnMpIHtcbiAgY29uc3QgZm9udFByb21pc2VzID0gZm9udEZhbWlsaWVzLmZpbHRlcigoZm9udEZhbWlseSkgPT4gQ2FjaGUuaGFzKGAke2ZvbnRGYW1pbHl9LWFuZC11cmxgKSkubWFwKChmb250RmFtaWx5LCBpKSA9PiB7XG4gICAgaWYgKCFGb250U3R5bGVQcm9taXNlQ2FjaGUuaGFzKGZvbnRGYW1pbHkpKSB7XG4gICAgICBjb25zdCB7IHVybCB9ID0gQ2FjaGUuZ2V0KGAke2ZvbnRGYW1pbHl9LWFuZC11cmxgKTtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIEZvbnRTdHlsZVByb21pc2VDYWNoZS5zZXQoZm9udEZhbWlseSwgbG9hZEZvbnRDU1Moe1xuICAgICAgICAgIGZvbnRXZWlnaHQ6IHN0eWxlLmZvbnRXZWlnaHQsXG4gICAgICAgICAgZm9udFN0eWxlOiBzdHlsZS5mb250U3R5bGUsXG4gICAgICAgICAgZm9udEZhbWlseVxuICAgICAgICB9LCB1cmwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEZvbnRTdHlsZVByb21pc2VDYWNoZS5zZXQoZm9udEZhbWlseSwgbG9hZEZvbnRDU1Moe1xuICAgICAgICAgIGZvbnRXZWlnaHQ6IGRlZmF1bHRPcHRpb25zLmZvbnRXZWlnaHQsXG4gICAgICAgICAgZm9udFN0eWxlOiBkZWZhdWx0T3B0aW9ucy5mb250U3R5bGUsXG4gICAgICAgICAgZm9udEZhbWlseVxuICAgICAgICB9LCB1cmwpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEZvbnRTdHlsZVByb21pc2VDYWNoZS5nZXQoZm9udEZhbWlseSk7XG4gIH0pO1xuICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKGZvbnRQcm9taXNlcykpLmpvaW4oXCJcXG5cIik7XG59XG5cbmV4cG9ydCB7IEZvbnRTdHlsZVByb21pc2VDYWNoZSwgZ2V0Rm9udENzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Rm9udENzcy5tanMubWFwXG4iLCJpbXBvcnQgeyBIVE1MVGV4dFJlbmRlckRhdGEgfSBmcm9tICcuLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgdGVtcEhUTUxUZXh0UmVuZGVyRGF0YTtcbmZ1bmN0aW9uIG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udFN0eWxlQ1NTLCBodG1sVGV4dFJlbmRlckRhdGEpIHtcbiAgaHRtbFRleHRSZW5kZXJEYXRhIHx8IChodG1sVGV4dFJlbmRlckRhdGEgPSB0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIHx8ICh0ZW1wSFRNTFRleHRSZW5kZXJEYXRhID0gbmV3IEhUTUxUZXh0UmVuZGVyRGF0YSgpKSk7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dFJlbmRlckRhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTs8L3N0eWxlPjxkaXYgc3R5bGU9J3BhZGRpbmc6MCc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgZGlzcGxheTogaW5saW5lLWJsb2NrXCIpO1xuICBpZiAoZm9udFN0eWxlQ1NTKSB7XG4gICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gZm9udFN0eWxlQ1NTO1xuICB9XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3ZnUm9vdCk7XG4gIGNvbnN0IGNvbnRlbnRCb3VuZHMgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBzdmdSb290LnJlbW92ZSgpO1xuICBjb25zdCBkb3VibGVQYWRkaW5nID0gc3R5bGUucGFkZGluZyAqIDI7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGNvbnRlbnRCb3VuZHMud2lkdGggLSBkb3VibGVQYWRkaW5nLFxuICAgIGhlaWdodDogY29udGVudEJvdW5kcy5oZWlnaHQgLSBkb3VibGVQYWRkaW5nXG4gIH07XG59XG5cbmV4cG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVhc3VyZUh0bWxUZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNTYWZhcmkgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGdldFBvMlRleHR1cmVGcm9tU291cmNlIH0gZnJvbSAnLi4vdGV4dC91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhIH0gZnJvbSAnLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0U3R5bGUgfSBmcm9tICcuL0hUTUxUZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGV4dHJhY3RGb250RmFtaWxpZXMgfSBmcm9tICcuL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzJztcbmltcG9ydCB7IGdldEZvbnRDc3MgfSBmcm9tICcuL3V0aWxzL2dldEZvbnRDc3MubWpzJztcbmltcG9ydCB7IGdldFNWR1VybCB9IGZyb20gJy4vdXRpbHMvZ2V0U1ZHVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UgfSBmcm9tICcuL3V0aWxzL2dldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMnO1xuaW1wb3J0IHsgbG9hZFNWR0ltYWdlIH0gZnJvbSAnLi91dGlscy9sb2FkU1ZHSW1hZ2UubWpzJztcbmltcG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9IGZyb20gJy4vdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jcmVhdGVDYW52YXMgPSByZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR1BVO1xuICB9XG4gIGdldFRleHR1cmUob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9idWlsZFRleHR1cmVQcm9taXNlKFxuICAgICAgb3B0aW9ucy50ZXh0LFxuICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uLFxuICAgICAgb3B0aW9ucy5zdHlsZVxuICAgICk7XG4gIH1cbiAgZ2V0TWFuYWdlZFRleHR1cmUodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUsIHRleHRLZXkpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0pIHtcbiAgICAgIHRoaXMuX2luY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0ucHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX2J1aWxkVGV4dHVyZVByb21pc2UodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUpLnRoZW4oKHRleHR1cmUpID0+IHtcbiAgICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfSk7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSB7XG4gICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgcHJvbWlzZSxcbiAgICAgIHVzYWdlQ291bnQ6IDFcbiAgICB9O1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG4gIGFzeW5jIF9idWlsZFRleHR1cmVQcm9taXNlKHRleHQsIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgY29uc3QgaHRtbFRleHREYXRhID0gQmlnUG9vbC5nZXQoSFRNTFRleHRSZW5kZXJEYXRhKTtcbiAgICBjb25zdCBmb250RmFtaWxpZXMgPSBleHRyYWN0Rm9udEZhbWlsaWVzKHRleHQsIHN0eWxlKTtcbiAgICBjb25zdCBmb250Q1NTID0gYXdhaXQgZ2V0Rm9udENzcyhcbiAgICAgIGZvbnRGYW1pbGllcyxcbiAgICAgIHN0eWxlLFxuICAgICAgSFRNTFRleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlXG4gICAgKTtcbiAgICBjb25zdCBtZWFzdXJlZCA9IG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udENTUywgaHRtbFRleHREYXRhKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgbWVhc3VyZWQud2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC5oZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaW1hZ2UgPSBodG1sVGV4dERhdGEuaW1hZ2U7XG4gICAgY29uc3QgdXZTYWZlT2Zmc2V0ID0gMjtcbiAgICBpbWFnZS53aWR0aCA9ICh3aWR0aCB8IDApICsgdXZTYWZlT2Zmc2V0O1xuICAgIGltYWdlLmhlaWdodCA9IChoZWlnaHQgfCAwKSArIHV2U2FmZU9mZnNldDtcbiAgICBjb25zdCBzdmdVUkwgPSBnZXRTVkdVcmwodGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGZvbnRDU1MsIGh0bWxUZXh0RGF0YSk7XG4gICAgYXdhaXQgbG9hZFNWR0ltYWdlKGltYWdlLCBzdmdVUkwsIGlzU2FmYXJpKCkgJiYgZm9udEZhbWlsaWVzLmxlbmd0aCA+IDApO1xuICAgIGNvbnN0IHJlc291cmNlID0gaW1hZ2U7XG4gICAgbGV0IGNhbnZhc0FuZENvbnRleHQ7XG4gICAgaWYgKHRoaXMuX2NyZWF0ZUNhbnZhcykge1xuICAgICAgY2FudmFzQW5kQ29udGV4dCA9IGdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZShpbWFnZSwgcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIGNvbnN0IHRleHR1cmUgPSBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZShcbiAgICAgIGNhbnZhc0FuZENvbnRleHQgPyBjYW52YXNBbmRDb250ZXh0LmNhbnZhcyA6IHJlc291cmNlLFxuICAgICAgaW1hZ2Uud2lkdGggLSB1dlNhZmVPZmZzZXQsXG4gICAgICBpbWFnZS5oZWlnaHQgLSB1dlNhZmVPZmZzZXQsXG4gICAgICByZXNvbHV0aW9uXG4gICAgKTtcbiAgICBpZiAodGhpcy5fY3JlYXRlQ2FudmFzKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci50ZXh0dXJlLmluaXRTb3VyY2UodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgQ2FudmFzUG9vbC5yZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpO1xuICAgIH1cbiAgICBCaWdQb29sLnJldHVybihodG1sVGV4dERhdGEpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIF9pbmNyZWFzZVJlZmVyZW5jZUNvdW50KHRleHRLZXkpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XS51c2FnZUNvdW50Kys7XG4gIH1cbiAgZGVjcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgY29uc3QgYWN0aXZlVGV4dHVyZSA9IHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldO1xuICAgIGlmICghYWN0aXZlVGV4dHVyZSlcbiAgICAgIHJldHVybjtcbiAgICBhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQtLTtcbiAgICBpZiAoYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50ID09PSAwKSB7XG4gICAgICBpZiAoYWN0aXZlVGV4dHVyZS50ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX2NsZWFuVXAoYWN0aXZlVGV4dHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVUZXh0dXJlLnByb21pc2UudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgdGhpcy5fY2xlYW5VcChhY3RpdmVUZXh0dXJlKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIHdhcm4oXCJIVE1MVGV4dFN5c3RlbTogRmFpbGVkIHRvIGNsZWFuIHRleHR1cmVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSBudWxsO1xuICAgIH1cbiAgfVxuICBfY2xlYW5VcChhY3RpdmVUZXh0dXJlKSB7XG4gICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShhY3RpdmVUZXh0dXJlLnRleHR1cmUpO1xuICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZS5zb3VyY2UucmVzb3VyY2UgPSBudWxsO1xuICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZS5zb3VyY2UudXBsb2FkTWV0aG9kSWQgPSBcInVua25vd25cIjtcbiAgfVxuICBnZXRSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlcyA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5IVE1MVGV4dFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiaHRtbFRleHRcIlxufTtcbkhUTUxUZXh0U3lzdGVtLmRlZmF1bHRGb250T3B0aW9ucyA9IHtcbiAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICBmb250U3R5bGU6IFwibm9ybWFsXCIsXG4gIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCJcbn07XG5cbmV4cG9ydCB7IEhUTUxUZXh0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFN5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4dHJhY3RGb250RmFtaWxpZXModGV4dCwgc3R5bGUpIHtcbiAgY29uc3QgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHk7XG4gIGNvbnN0IGZvbnRGYW1pbGllcyA9IFtdO1xuICBjb25zdCBkZWR1cGUgPSB7fTtcbiAgY29uc3QgcmVnZXggPSAvZm9udC1mYW1pbHk6KFteO1wiXFxzXSspL2c7XG4gIGNvbnN0IG1hdGNoZXMgPSB0ZXh0Lm1hdGNoKHJlZ2V4KTtcbiAgZnVuY3Rpb24gYWRkRm9udEZhbWlseShmb250RmFtaWx5Mikge1xuICAgIGlmICghZGVkdXBlW2ZvbnRGYW1pbHkyXSkge1xuICAgICAgZm9udEZhbWlsaWVzLnB1c2goZm9udEZhbWlseTIpO1xuICAgICAgZGVkdXBlW2ZvbnRGYW1pbHkyXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGZvbnRGYW1pbHkpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb250RmFtaWx5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHlbaV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkpO1xuICB9XG4gIGlmIChtYXRjaGVzKSB7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgICAgY29uc3QgZm9udEZhbWlseTIgPSBtYXRjaC5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuICAgICAgYWRkRm9udEZhbWlseShmb250RmFtaWx5Mik7XG4gICAgfSk7XG4gIH1cbiAgZm9yIChjb25zdCBpIGluIHN0eWxlLnRhZ1N0eWxlcykge1xuICAgIGNvbnN0IGZvbnRGYW1pbHkyID0gc3R5bGUudGFnU3R5bGVzW2ldLmZvbnRGYW1pbHk7XG4gICAgYWRkRm9udEZhbWlseShmb250RmFtaWx5Mik7XG4gIH1cbiAgcmV0dXJuIGZvbnRGYW1pbGllcztcbn1cblxuZXhwb3J0IHsgZXh0cmFjdEZvbnRGYW1pbGllcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdEZvbnRGYW1pbGllcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldFNWR1VybCh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgZm9udENTUywgaHRtbFRleHREYXRhKSB7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dERhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTwvc3R5bGU+PGRpdiBzdHlsZT0ncGFkZGluZzowOyc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYHRyYW5zZm9ybTogc2NhbGUoJHtyZXNvbHV0aW9ufSk7dHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7IGRpc3BsYXk6IGlubGluZS1ibG9ja2ApO1xuICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBmb250Q1NTO1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGh0bWxUZXh0RGF0YS5pbWFnZTtcbiAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aC50b1N0cmluZygpKTtcbiAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICByZXR1cm4gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmdSb290KTtcbn1cblxuZXhwb3J0IHsgZ2V0U1ZHVXJsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTVkdVcmwubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBsb2FkU1ZHSW1hZ2UoaW1hZ2UsIHVybCwgZGVsYXkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZTIpID0+IHNldFRpbWVvdXQocmVzb2x2ZTIsIDEwMCkpO1xuICAgIH1cbiAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWA7XG4gICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgbG9hZFNWR0ltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkU1ZHSW1hZ2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FudmFzUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvQ2FudmFzUG9vbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZShpbWFnZSwgcmVzb2x1dGlvbikge1xuICBjb25zdCBjYW52YXNBbmRDb250ZXh0ID0gQ2FudmFzUG9vbC5nZXRPcHRpbWFsQ2FudmFzQW5kQ29udGV4dChcbiAgICBpbWFnZS53aWR0aCxcbiAgICBpbWFnZS5oZWlnaHQsXG4gICAgcmVzb2x1dGlvblxuICApO1xuICBjb25zdCB7IGNvbnRleHQgfSA9IGNhbnZhc0FuZENvbnRleHQ7XG4gIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gIHJldHVybiBjYW52YXNBbmRDb250ZXh0O1xufVxuXG5leHBvcnQgeyBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBIVE1MVGV4dFBpcGUgfSBmcm9tICcuL0hUTUxUZXh0UGlwZS5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRTeXN0ZW0gfSBmcm9tICcuL0hUTUxUZXh0U3lzdGVtLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoSFRNTFRleHRTeXN0ZW0pO1xuZXh0ZW5zaW9ucy5hZGQoSFRNTFRleHRQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkFic3RyYWN0Qml0bWFwRm9udCIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJhcmd1bWVudHMiLCJ0aGlzIiwiY2hhcnMiLCJPYmplY3QiLCJjcmVhdGUiLCJsaW5lSGVpZ2h0IiwiZm9udEZhbWlseSIsImZvbnRNZXRyaWNzIiwiZm9udFNpemUiLCJhc2NlbnQiLCJkZXNjZW50IiwiYmFzZUxpbmVPZmZzZXQiLCJkaXN0YW5jZUZpZWxkIiwidHlwZSIsInJhbmdlIiwicGFnZXMiLCJhcHBseUZpbGxBc1RpbnQiLCJiYXNlTWVhc3VyZW1lbnRGb250U2l6ZSIsImJhc2VSZW5kZXJlZEZvbnRTaXplIiwiZm9udCIsInBhZ2VUZXh0dXJlcyIsInNpemUiLCJkaXN0YW5jZUZpZWxkUmFuZ2UiLCJkaXN0YW5jZUZpZWxkVHlwZSIsImRlc3Ryb3kiLCJkZXN0cm95VGV4dHVyZXMiLCJlbWl0IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiaSIsInRleHR1cmUiLCJmb3JFYWNoIiwicGFnZSIsInJlc29sdmVDaGFyYWN0ZXJzIiwicmVzdWx0IiwiaiIsImxlbmd0aCIsIml0ZW0iLCJBcnJheSIsImlzQXJyYXkiLCJFcnJvciIsInN0YXJ0Q29kZSIsImNoYXJDb2RlQXQiLCJlbmRDb2RlIiwiaTIiLCJqMiIsInB1c2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJmcm9tIiwiX0R5bmFtaWNCaXRtYXBGb250Iiwib3B0aW9ucyIsInJlc29sdXRpb24iLCJfcGFkZGluZyIsIl9tZWFzdXJlQ2FjaGUiLCJfY3VycmVudENoYXJzIiwiX2N1cnJlbnRYIiwiX2N1cnJlbnRZIiwiX2N1cnJlbnRQYWdlSW5kZXgiLCJfc2tpcEtlcm5pbmciLCJkeW5hbWljT3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiX3RleHR1cmVTaXplIiwidGV4dHVyZVNpemUiLCJfbWlwbWFwIiwibWlwbWFwIiwic3R5bGUiLCJjbG9uZSIsIm92ZXJyaWRlRmlsbCIsIl9maWxsIiwiY29sb3IiLCJhbHBoYSIsIlRleHR1cmUiLCJXSElURSIsImZpbGwiLCJyZXF1ZXN0ZWRGb250U2l6ZSIsImZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlIiwib3ZlcnJpZGVTaXplIiwiX3N0cm9rZSIsIndpZHRoIiwiX3N0eWxlIiwic2tpcEtlcm5pbmciLCJwYWRkaW5nIiwiQ2FudmFzVGV4dE1ldHJpY3MiLCJtZWFzdXJlRm9udCIsImVuc3VyZUNoYXJhY3RlcnMiLCJjaGFyTGlzdCIsImZpbHRlciIsImNoYXIiLCJpbmNsdWRlcyIsImluZGV4Iiwic2VsZiIsImluZGV4T2YiLCJwYWdlRGF0YSIsIl9uZXh0UGFnZSIsImNhbnZhcyIsImNvbnRleHQiLCJjYW52YXNBbmRDb250ZXh0IiwidGV4dHVyZVNvdXJjZSIsInNvdXJjZSIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJmb250U2NhbGUiLCJtYXhDaGFySGVpZ2h0Iiwic2tpcFRleHR1cmUiLCJtYXhUZXh0dXJlV2lkdGgiLCJtYXhUZXh0dXJlSGVpZ2h0IiwiaGVpZ2h0IiwibWV0cmljcyIsIm1lYXN1cmVUZXh0IiwicGFkZGVkV2lkdGgiLCJNYXRoIiwiY2VpbCIsImZvbnRTdHlsZSIsInBhZGRlZEhlaWdodCIsIm1heCIsInVwZGF0ZSIsInBhZ2VEYXRhMiIsInhBZHZhbmNlIiwiZHJvcFNoYWRvdyIsImRpc3RhbmNlIiwiaWQiLCJjb2RlUG9pbnRBdCIsInhPZmZzZXQiLCJ5T2Zmc2V0Iiwia2VybmluZyIsIl9kcmF3R2x5cGgiLCJweCIsInB5IiwiZnJhbWUiLCJSZWN0YW5nbGUiLCJfYXBwbHlLZXJuaW5nIiwiZGVwcmVjYXRpb24iLCJuZXdDaGFycyIsIm1lYXN1cmVDYWNoZSIsImZpcnN0Iiwic2Vjb25kIiwiYzEiLCJjMiIsInRvdGFsIiwiYW1vdW50IiwidGV4dHVyZVJlc29sdXRpb24iLCJDYW52YXNQb29sIiwiZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQiLCJfc2V0dXBDb250ZXh0IiwiSW1hZ2VTb3VyY2UiLCJyZXNvdXJjZSIsImFscGhhTW9kZSIsImF1dG9HZW5lcmF0ZU1pcG1hcHMiLCJzY2FsZSIsInRleHRCYXNlbGluZSIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsImxpbmVXaWR0aCIsImxpbmVKb2luIiwiam9pbiIsIm1pdGVyTGltaXQiLCJzdHJva2VTdHlsZSIsImdldENhbnZhc0ZpbGxTdHlsZSIsImZpbGxTdHlsZSIsInNoYWRvd09wdGlvbnMiLCJyZ2IiLCJDb2xvciIsInNoYXJlZCIsInNldFZhbHVlIiwidG9BcnJheSIsImRyb3BTaGFkb3dCbHVyIiwiYmx1ciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJjb3MiLCJhbmdsZSIsInNoYWRvd09mZnNldFkiLCJzaW4iLCJ4IiwieSIsInRleHQiLCJmb250UHJvcGVydGllcyIsInR4IiwidHkiLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJyZXR1cm5DYW52YXNBbmRDb250ZXh0IiwiVGV4dFN0eWxlIiwiRHluYW1pY0JpdG1hcEZvbnQiLCJmb250Q291bnQiLCJCaXRtYXBGb250TWFuYWdlciIsIkFMUEhBIiwiTlVNRVJJQyIsIkFMUEhBTlVNRVJJQyIsIkFTQ0lJIiwiZ2V0Rm9udCIsImZvbnRGYW1pbHlLZXkiLCJzdHlsZUtleSIsImtleSIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwiQ2FjaGUiLCJoYXMiLCJmbnQiLCJ3YXJuIiwib25jZSIsInJlbW92ZSIsInNldCIsImR5bmFtaWNGb250IiwiZ2V0IiwiZ2V0TGF5b3V0IiwidHJpbUVuZCIsImJpdG1hcEZvbnQiLCJnZXRCaXRtYXBUZXh0TGF5b3V0IiwiaW5zdGFsbCIsImFyZ3MiLCJuYW1lIiwidGV4dFN0eWxlIiwiZmxhdENoYXJzIiwidW5pbnN0YWxsIiwiY2FjaGVLZXkiLCJCaXRtYXBGb250IiwidXJsIiwidGV4dHVyZXMiLCJkYXRhIiwia2V5cyIsInBhcnNlSW50IiwiY2hhckRhdGEiLCJ0ZXh0dXJlRnJhbWUiLCJmcmFtZVJlYWwiLCJiaXRtYXBGb250VGV4dFBhcnNlciIsInRlc3QiLCJzdGFydHNXaXRoIiwicGFyc2UiLCJ0eHQiLCJpdGVtcyIsIm1hdGNoIiwicmF3RGF0YSIsImluZm8iLCJjb21tb24iLCJrZXJuaW5ncyIsImF0dHJpYnV0ZUxpc3QiLCJpdGVtRGF0YSIsInNwbGl0Iiwic3RyVmFsdWUiLCJyZXBsYWNlIiwiZmxvYXRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ2YWx1ZSIsImlzTmFOIiwiZGlzdGFuY2VSYW5nZSIsImZpZWxkVHlwZSIsImZhY2UiLCJmaWxlIiwibWFwIiwiYmFzZSIsImNoYXJOb2RlIiwibGV0dGVyIiwieG9mZnNldCIsInlvZmZzZXQiLCJ4YWR2YW5jZSIsImJpdG1hcEZvbnRYTUxQYXJzZXIiLCJ4bWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEF0dHJpYnV0ZSIsImJpdG1hcEZvbnRYTUxTdHJpbmdQYXJzZXIiLCJwYXJzZVhNTCIsInZhbGlkRXh0ZW5zaW9ucyIsImJpdG1hcEZvbnRDYWNoZVBsdWdpbiIsImV4dGVuc2lvbiIsIkNhY2hlUGFyc2VyIiwiYXNzZXQiLCJnZXRDYWNoZWFibGVBc3NldHMiLCJvdXQiLCJsb2FkQml0bWFwRm9udCIsIkxvYWRQYXJzZXIiLCJwcmlvcml0eSIsIkxvYWRlclBhcnNlciIsIk5vcm1hbCIsInBhdGgiLCJleHRuYW1lIiwidG9Mb3dlckNhc2UiLCJhc3luYyIsImxvYWRlciIsImJpdG1hcEZvbnREYXRhIiwic3JjIiwidGV4dHVyZVVybHMiLCJ0ZXh0dXJlT3B0aW9ucyIsInNjYWxlTW9kZSIsInBhZ2VGaWxlIiwiaW1hZ2VQYXRoIiwiZGlybmFtZSIsImNvcHlTZWFyY2hQYXJhbXMiLCJsb2FkZWRUZXh0dXJlcyIsImxvYWQiLCJfb3B0aW9ucyIsInJlc3BvbnNlIiwiZmV0Y2giLCJ1bmxvYWQiLCJfcmVzb2x2ZWRBc3NldCIsIlByb21pc2UiLCJhbGwiLCJfc291cmNlT3JpZ2luIiwiQml0bWFwVGV4dFBpcGUiLCJyZW5kZXJlciIsIl9ncHVCaXRtYXBUZXh0IiwiX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQiLCJkZXN0cm95UmVuZGVyYWJsZSIsImJpbmQiLCJfcmVuZGVyZXIiLCJyZW5kZXJhYmxlR0MiLCJhZGRNYW5hZ2VkSGFzaCIsInZhbGlkYXRlUmVuZGVyYWJsZSIsImJpdG1hcFRleHQiLCJncmFwaGljc1JlbmRlcmFibGUiLCJfZ2V0R3B1Qml0bWFwVGV4dCIsIl9kaWRUZXh0VXBkYXRlIiwiX3VwZGF0ZUNvbnRleHQiLCJyZW5kZXJQaXBlcyIsImdyYXBoaWNzIiwiYWRkUmVuZGVyYWJsZSIsImluc3RydWN0aW9uU2V0Iiwic3luY1dpdGhQcm94eSIsImN1c3RvbVNoYWRlciIsIl91cGRhdGVEaXN0YW5jZUZpZWxkIiwib2ZmIiwiX2Rlc3Ryb3lSZW5kZXJhYmxlQnlVaWQiLCJ1aWQiLCJyZW5kZXJhYmxlVWlkIiwicmV0dXJuIiwidXBkYXRlUmVuZGVyYWJsZSIsInByb3h5R3JhcGhpY3MiLCJjbGVhciIsIlNkZlNoYWRlciIsImJpdG1hcFRleHRMYXlvdXQiLCJvZmZzZXRZIiwidHJhbnNsYXRlIiwiX2FuY2hvciIsIl94IiwiX3kiLCJ0aW50IiwibGluZXMiLCJsaW5lIiwiY2hhclBvc2l0aW9ucyIsInJvdW5kIiwiaW5pdEdwdVRleHQiLCJwcm94eVJlbmRlcmFibGUiLCJHcmFwaGljcyIsIm9uIiwiYSIsImIiLCJjIiwiZCIsImdyb3VwVHJhbnNmb3JtIiwiZHgiLCJzcXJ0IiwiZHkiLCJ3b3JsZFNjYWxlIiwiYWJzIiwicmVzb3VyY2VzIiwibG9jYWxVbmlmb3JtcyIsInVuaWZvcm1zIiwidURpc3RhbmNlIiwiY29udGFpbmVyIiwicHJveHkiLCJncm91cENvbG9yQWxwaGEiLCJncm91cENvbG9yIiwiZ3JvdXBCbGVuZE1vZGUiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwibG9jYWxEaXNwbGF5U3RhdHVzIiwiZ3JvdXBBbHBoYSIsIl9yb3VuZFBpeGVscyIsIldlYkdMUGlwZXMiLCJXZWJHUFVQaXBlcyIsIkNhbnZhc1BpcGVzIiwiYWRkIiwibGF5b3V0RGF0YSIsInNwYWNlV2lkdGgiLCJzcGFjZXNJbmRleCIsImN1cnJlbnRMaW5lIiwicHJldmlvdXNDaGFyIiwiZmlyc3RXb3JkIiwiY3VycmVudFdvcmQiLCJzcGFjZVdvcmQiLCJzdGFydCIsInBvc2l0aW9ucyIsIm5leHRXb3JkIiwid29yZCIsInBvc2l0aW9uIiwibmV4dExpbmUiLCJsYXN0Q2hhciIsImFkanVzdGVkTGV0dGVyU3BhY2luZyIsImxldHRlclNwYWNpbmciLCJhZGp1c3RlZFdvcmRXcmFwV2lkdGgiLCJ3b3JkV3JhcFdpZHRoIiwiaXNFbmQiLCJ3b3JkV3JhcCIsIm5leHRDaGFyV2lkdGgiLCJhbGlnbiIsIm1lYXN1cmVtZW50RGF0YSIsIm9mZnNldCIsImFsaWduQ2VudGVyIiwiYWxpZ25SaWdodCIsImluZHkiLCJzcGFjZUluZGV4IiwidG90YWxTcGFjZXMiLCJhbGlnbkp1c3RpZnkiLCJIVE1MVGV4dFBpcGUiLCJfZ3B1VGV4dCIsInJ1bm5lcnMiLCJyZXNvbHV0aW9uQ2hhbmdlIiwiZ3B1VGV4dCIsImJhdGNoYWJsZVNwcml0ZSIsInJlbmRlcmFibGUiLCJfYXV0b1Jlc29sdXRpb24iLCJfcmVzb2x1dGlvbiIsIm9uVmlld1VwZGF0ZSIsImh0bWxUZXh0IiwiX2dldEdwdVRleHQiLCJuZXdLZXkiLCJfZ2V0S2V5IiwidGV4dHVyZU5lZWRzVXBsb2FkaW5nIiwiY3VycmVudEtleSIsIl91cGRhdGVUZXh0IiwiYmF0Y2giLCJhZGRUb0JhdGNoIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZCIsImh0bWxUZXh0VWlkIiwiZGVjcmVhc2VSZWZlcmVuY2VDb3VudCIsIl91cGRhdGVHcHVUZXh0IiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwidXBkYXRlUXVhZEJvdW5kcyIsImJvdW5kcyIsImdlbmVyYXRpbmdUZXh0dXJlIiwiZ2V0TWFuYWdlZFRleHR1cmUiLCJncHVUZXh0RGF0YSIsIkVNUFRZIiwiQmF0Y2hhYmxlU3ByaXRlIiwidHJhbnNmb3JtIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsInJvdW5kUGl4ZWxzIiwibnNzdmciLCJuc3hodG1sIiwiSFRNTFRleHRSZW5kZXJEYXRhIiwic3ZnUm9vdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiZm9yZWlnbk9iamVjdCIsImRvbUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJpbWFnZSIsIkltYWdlIiwic2V0QXR0cmlidXRlIiwib3ZlcmZsb3ciLCJhcHBlbmRDaGlsZCIsInRleHRTdHlsZVRvQ1NTIiwiY3NzU3R5bGVzIiwidG9IZXgiLCJmb250V2VpZ2h0IiwiZm9udFZhcmlhbnQiLCJ3aGl0ZVNwYWNlIiwiYnJlYWtXb3JkcyIsInN0cm9rZVRvQ1NTIiwiZHJvcFNoYWRvd1RvQ1NTIiwiY3NzT3ZlcnJpZGVzIiwidGFnU3R5bGVzIiwidGFnU3R5bGUiLCJjc3NUYWdTdHlsZSIsInRlbXBsYXRlcyIsInRhZ1N0eWxlVG9DU1MiLCJkcm9wU2hhZG93U3R5bGUiLCJzZXRBbHBoYSIsInRvSGV4YSIsIkhUTUxUZXh0U3R5bGUiLCJfY3NzT3ZlcnJpZGVzIiwiX2dlbmVyYXRlS2V5IiwiX3N0eWxlS2V5IiwiZ2VuZXJhdGVUZXh0U3R5bGVLZXkiLCJfY3NzU3R5bGUiLCJjc3NTdHlsZSIsImFkZE92ZXJyaWRlIiwidG9BZGQiLCJ2IiwicmVtb3ZlT3ZlcnJpZGUiLCJ0b1JlbW92ZSIsImxvYWRGb250Q1NTIiwiZGF0YVNyYyIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVzb2x2ZSIsInJlamVjdCIsIm9ubG9hZGVuZCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwibG9hZEZvbnRBc0Jhc2U2NCIsIkZvbnRTdHlsZVByb21pc2VDYWNoZSIsIk1hcCIsInRlbXBIVE1MVGV4dFJlbmRlckRhdGEiLCJIVE1MVGV4dFN5c3RlbSIsIl9hY3RpdmVUZXh0dXJlcyIsIl9jcmVhdGVDYW52YXMiLCJXRUJHUFUiLCJnZXRUZXh0dXJlIiwiX2J1aWxkVGV4dHVyZVByb21pc2UiLCJ0ZXh0S2V5IiwiX2luY3JlYXNlUmVmZXJlbmNlQ291bnQiLCJwcm9taXNlIiwidGhlbiIsInVzYWdlQ291bnQiLCJodG1sVGV4dERhdGEiLCJmb250RmFtaWxpZXMiLCJkZWR1cGUiLCJtYXRjaGVzIiwiYWRkRm9udEZhbWlseSIsImZvbnRGYW1pbHkyIiwidHJpbSIsImV4dHJhY3RGb250RmFtaWxpZXMiLCJmb250Q1NTIiwiZm9udFByb21pc2VzIiwiZ2V0Rm9udENzcyIsImRlZmF1bHRUZXh0U3R5bGUiLCJtZWFzdXJlZCIsImZvbnRTdHlsZUNTUyIsImh0bWxUZXh0UmVuZGVyRGF0YSIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiYm9keSIsImNvbnRlbnRCb3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJkb3VibGVQYWRkaW5nIiwibWVhc3VyZUh0bWxUZXh0Iiwic3ZnVVJMIiwidG9TdHJpbmciLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJnZXRTVkdVcmwiLCJkZWxheSIsInJlc29sdmUyIiwic2V0VGltZW91dCIsIm9ubG9hZCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNyb3NzT3JpZ2luIiwibG9hZFNWR0ltYWdlIiwiaXNTYWZhcmkiLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UiLCJnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZSIsImluaXRTb3VyY2UiLCJhY3RpdmVUZXh0dXJlIiwiX2NsZWFuVXAiLCJUZXh0dXJlUG9vbCIsInJldHVyblRleHR1cmUiLCJ1cGxvYWRNZXRob2RJZCIsImdldFJlZmVyZW5jZUNvdW50IiwiV2ViR0xTeXN0ZW0iLCJXZWJHUFVTeXN0ZW0iLCJDYW52YXNTeXN0ZW0iLCJkZWZhdWx0Rm9udE9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9