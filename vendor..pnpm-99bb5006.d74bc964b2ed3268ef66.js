"use strict";(self.webpackChunkpixijs_game=self.webpackChunkpixijs_game||[]).push([[404],{7628:(t,e,n)=>{n.d(e,{t:()=>a});var r=n(9084),i=n(9678);class a{constructor(){this._didUpload=!1,this._tempState=i.U.for2d()}init(t){t.renderer.runners.contextChange.add(this)}contextChange(){this._didUpload=!1}start(t,e,n){const r=t.renderer;r.shader.bind(n,this._didUpload),r.shader.updateUniformGroup(r.globalUniforms.uniformGroup),r.geometry.bind(e,n.glProgram)}execute(t,e){const n=t.renderer;this._didUpload=!0,this._tempState.blendMode=e.blendMode,n.state.set(this._tempState);const r=e.textures.textures;for(let t=0;t<e.textures.count;t++)n.texture.bind(r[t],t);n.geometry.draw(e.topology,e.size,e.start)}}a.extension={type:[r.Ag.WebGLPipesAdaptor],name:"batch"}},3490:(t,e,n)=>{n.d(e,{a:()=>s});var r=n(8985);const i=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){let e="";for(let n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}let o=null;function s(){if(o)return o;const t=(0,r.W)();return o=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),o=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=i.replace(/%forloop%/gi,a(t));if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}}finally{e.deleteShader(n)}return t}(o,t),t.getExtension("WEBGL_lose_context")?.loseContext(),o}},5056:(t,e,n)=>{n.d(e,{E:()=>s});var r=n(9084),i=n(9678),a=n(1980);const o=i.U.for2d();class s{start(t,e,n){const r=t.renderer,i=r.encoder,a=n.gpuProgram;this._shader=n,this._geometry=e,i.setGeometry(e,a),o.blendMode="normal",r.pipeline.getPipeline(e,a,o);const s=r.globalUniforms.bindGroup;i.resetBindGroup(1),i.setBindGroup(0,s,a)}execute(t,e){const n=this._shader.gpuProgram,r=t.renderer,i=r.encoder;if(!e.bindGroup){const t=e.textures;e.bindGroup=(0,a.w)(t.textures,t.count)}o.blendMode=e.blendMode;const s=r.bindGroup.getBindGroup(e.bindGroup,n,1),u=r.pipeline.getPipeline(this._geometry,n,o,e.topology);e.bindGroup._touch(r.textureGC.count),i.setPipeline(u),i.renderPassEncoder.setBindGroup(1,s),i.renderPassEncoder.drawIndexed(e.size,1,e.start)}}s.extension={type:[r.Ag.WebGPUPipesAdaptor],name:"batch"}},1980:(t,e,n)=>{n.d(e,{w:()=>s});var r=n(5108),i=n(8554),a=n(3490);const o={};function s(t,e){let n=2166136261;for(let r=0;r<e;r++)n^=t[r].uid,n=Math.imul(n,16777619),n>>>=0;return o[n]||function(t,e,n){const s={};let c=0;u||(u=(0,a.a)());for(let n=0;n<u;n++){const r=n<e?t[n]:i.g.EMPTY.source;s[c++]=r.source,s[c++]=r.style}const l=new r.T(s);return o[n]=l,l}(t,e,n)}let u=0},9745:(t,e,n)=>{n.d(e,{s:()=>s});var r=n(9084),i=n(9678),a=n(5834);const o=class t{constructor(t,e){this.state=i.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=t,this._adaptor=e,this._adaptor.init?.(this)}static getBatcher(t){return new this._availableBatchers[t]}buildStart(t){let e=this._batchersByInstructionSet[t.uid];e||(e=this._batchersByInstructionSet[t.uid]=Object.create(null),e.default||(e.default=new a.J)),this._activeBatches=e,this._activeBatch=this._activeBatches.default;for(const t in this._activeBatches)this._activeBatches[t].begin()}addToBatch(e,n){if(this._activeBatch.name!==e.batcherName){this._activeBatch.break(n);let r=this._activeBatches[e.batcherName];r||(r=this._activeBatches[e.batcherName]=t.getBatcher(e.batcherName),r.begin()),this._activeBatch=r}this._activeBatch.add(e)}break(t){this._activeBatch.break(t)}buildEnd(t){this._activeBatch.break(t);const e=this._activeBatches;for(const t in e){const n=e[t],r=n.geometry;r.indexBuffer.setDataWithSize(n.indexBuffer,n.indexSize,!0),r.buffers[0].setDataWithSize(n.attributeBuffer.float32View,n.attributeSize,!1)}}upload(t){const e=this._batchersByInstructionSet[t.uid];for(const t in e){const n=e[t],r=n.geometry;n.dirty&&(n.dirty=!1,r.buffers[0].update(4*n.attributeSize))}}execute(t){if("startBatch"===t.action){const e=t.batcher,n=e.geometry,r=e.shader;this._adaptor.start(this,n,r)}this._adaptor.execute(this,t)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const t in this._activeBatches)this._activeBatches[t].destroy();this._activeBatches=null}};o.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"batch"},o._availableBatchers=Object.create(null);let s=o;r.XO.handleByMap(r.Ag.Batcher,s._availableBatchers),r.XO.add(a.J)},5834:(t,e,n)=>{n.d(e,{J:()=>k});var r=n(9084),i=n(4124),a=n(3439),o=n(6949),s=n(3618),u=n(3490);class c{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class l{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new c,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const d=[];let h=0;function f(){return h>0?d[--h]:new l}function x(t){d[h++]=t}let m=0;const b=class t{constructor(e={}){this.uid=(0,i.L)("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t.defaultOptions.maxTextures=t.defaultOptions.maxTextures??(0,u.a)(),e={...t.defaultOptions,...e};const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:o}=e;this.attributeBuffer=new a.u(4*r),this.indexBuffer=new Uint16Array(o),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)x(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const n=t._batch.textures.ids[e._source.uid];return!(!n&&0!==n)&&(t._textureId=n,t.texture=e,!0)}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let n=f(),r=n.textures;r.clear();const i=e[this.elementStart];let a=(0,s.i)(i.blendMode,i.texture._source),o=i.topology;4*this.attributeSize>this.attributeBuffer.size&&this._resizeAttributeBuffer(4*this.attributeSize),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const u=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,l=this.indexBuffer;let d=this._batchIndexSize,h=this._batchIndexStart,x="startBatch";const b=this.maxTextures;for(let i=this.elementStart;i<this.elementSize;++i){const v=e[i];e[i]=null;const p=v.texture._source,g=(0,s.i)(v.blendMode,p),_=a!==g||o!==v.topology;p._batchTick!==m||_?(p._batchTick=m,(r.count>=b||_)&&(this._finishBatch(n,h,d-h,r,a,o,t,x),x="renderBatch",h=d,a=g,o=v.topology,n=f(),r=n.textures,r.clear(),++m),v._textureId=p._textureBindLocation=r.count,r.ids[p.uid]=r.count,r.textures[r.count++]=p,v._batch=n,d+=v.indexSize,v.packAsQuad?(this.packQuadAttributes(v,u,c,v._attributeStart,v._textureId),this.packQuadIndex(l,v._indexStart,v._attributeStart/this.vertexSize)):(this.packAttributes(v,u,c,v._attributeStart,v._textureId),this.packIndex(v,l,v._indexStart,v._attributeStart/this.vertexSize))):(v._textureId=p._textureBindLocation,d+=v.indexSize,v.packAsQuad?(this.packQuadAttributes(v,u,c,v._attributeStart,v._textureId),this.packQuadIndex(l,v._indexStart,v._attributeStart/this.vertexSize)):(this.packAttributes(v,u,c,v._attributeStart,v._textureId),this.packIndex(v,l,v._indexStart,v._attributeStart/this.vertexSize)),v._batch=n)}r.count>0&&(this._finishBatch(n,h,d-h,r,a,o,t,x),h=d,++m),this.elementStart=this.elementSize,this._batchIndexStart=h,this._batchIndexSize=d}_finishBatch(t,e,n,r,i,a,o,s){t.gpuBindGroup=null,t.bindGroup=null,t.action=s,t.batcher=this,t.textures=r,t.blendMode=i,t.topology=a,t.start=e,t.size=n,++m,this.batches[this.batchIndex++]=t,o.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){4*t<=this.attributeBuffer.size||this._resizeAttributeBuffer(4*t)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,2*this.attributeBuffer.size),n=new a.u(e);(0,o.W)(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(t){const e=this.indexBuffer;let n=Math.max(t,1.5*e.length);n+=n%2;const r=n>65535?new Uint32Array(n):new Uint16Array(n);if(r.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let t=0;t<e.length;t++)r[t]=e[t];else(0,o.W)(e.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(t,e,n){t[e]=n+0,t[e+1]=n+1,t[e+2]=n+2,t[e+3]=n+0,t[e+4]=n+2,t[e+5]=n+3}packIndex(t,e,n,r){const i=t.indices,a=t.indexSize,o=t.indexOffset,s=t.attributeOffset;for(let t=0;t<a;t++)e[n++]=r+i[t+o]-s}destroy(){for(let t=0;t<this.batches.length;t++)x(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};b.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let v=b;var p=n(7752),g=n(4583),_=n(6712);const S=new Float32Array(1),B=new Uint32Array(1);class y extends _.V{constructor(){const t=new p.h({data:S,label:"attribute-batch-buffer",usage:g.S.VERTEX|g.S.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:24,offset:0},aUV:{buffer:t,format:"float32x2",stride:24,offset:8},aColor:{buffer:t,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:24,offset:20}},indexBuffer:new p.h({data:B,label:"index-batch-buffer",usage:g.S.INDEX|g.S.COPY_DST,shrinkToFit:!1})})}}var T=n(684),I=n(9278),P=n(7955),z=n(2152),C=n(2137),U=n(5106);class M extends U.M{constructor(t){super({glProgram:(0,T.I)({name:"batch",bits:[I.a,(0,P.P)(t),z.m]}),gpuProgram:(0,T.v)({name:"batch",bits:[I.F,(0,P._)(t),z.b]}),resources:{batchSamplers:(0,C.n)(t)}})}}let w=null;const A=class t extends v{constructor(){super(...arguments),this.geometry=new y,this.shader=w||(w=new M(this.maxTextures)),this.name=t.extension.name,this.vertexSize=6}packAttributes(t,e,n,r,i){const a=i<<16|65535&t.roundPixels,o=t.transform,s=o.a,u=o.b,c=o.c,l=o.d,d=o.tx,h=o.ty,{positions:f,uvs:x}=t,m=t.color,b=t.attributeOffset,v=b+t.attributeSize;for(let t=b;t<v;t++){const i=2*t,o=f[i],b=f[i+1];e[r++]=s*o+c*b+d,e[r++]=l*b+u*o+h,e[r++]=x[i],e[r++]=x[i+1],n[r++]=m,n[r++]=a}}packQuadAttributes(t,e,n,r,i){const a=t.texture,o=t.transform,s=o.a,u=o.b,c=o.c,l=o.d,d=o.tx,h=o.ty,f=t.bounds,x=f.maxX,m=f.minX,b=f.maxY,v=f.minY,p=a.uvs,g=t.color,_=i<<16|65535&t.roundPixels;e[r+0]=s*m+c*v+d,e[r+1]=l*v+u*m+h,e[r+2]=p.x0,e[r+3]=p.y0,n[r+4]=g,n[r+5]=_,e[r+6]=s*x+c*v+d,e[r+7]=l*v+u*x+h,e[r+8]=p.x1,e[r+9]=p.y1,n[r+10]=g,n[r+11]=_,e[r+12]=s*x+c*b+d,e[r+13]=l*b+u*x+h,e[r+14]=p.x2,e[r+15]=p.y2,n[r+16]=g,n[r+17]=_,e[r+18]=s*m+c*b+d,e[r+19]=l*b+u*m+h,e[r+20]=p.x3,e[r+21]=p.y3,n[r+22]=g,n[r+23]=_}};A.extension={type:[r.Ag.Batcher],name:"default"};let k=A},684:(t,e,n)=>{n.d(e,{I:()=>z,v:()=>P});var r=n(1368),i=n(4557),a=n(8273);function o(t,e,n){if(t)for(const r in t){const i=e[r.toLocaleLowerCase()];if(i){let e=t[r];"header"===r&&(e=e.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&i.push(`//----${n}----//`),i.push(e)}else(0,a.R)(`${r} placement hook does not exist in shader`)}}const s=/\{\{(.*?)\}\}/g;function u(t){const e={};return(t.match(s)?.map((t=>t.replace(/[{()}]/g,"")))??[]).forEach((t=>{e[t]=[]})),e}function c(t,e){let n;const r=/@in\s+([^;]+);/g;for(;null!==(n=r.exec(t));)e.push(n[1])}function l(t,e,n=!1){const r=[];c(e,r),t.forEach((t=>{t.header&&c(t.header,r)}));const i=r;n&&i.sort();const a=i.map(((t,e)=>`       @location(${e}) ${t},`)).join("\n");let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`\n${a}\n`),o}function d(t,e){let n;const r=/@out\s+([^;]+);/g;for(;null!==(n=r.exec(t));)e.push(n[1])}function h(t,e){let n=t;for(const t in e){const r=e[t];n=r.join("\n").length?n.replace(`{{${t}}}`,`//-----${t} START-----//\n${r.join("\n")}\n//----${t} FINISH----//`):n.replace(`{{${t}}}`,"")}return n}const f=Object.create(null),x=new Map;let m=0;function b({template:t,bits:e}){const n=p(t,e);if(f[n])return f[n];const{vertex:r,fragment:i}=function(t,e){const n=e.map((t=>t.vertex)).filter((t=>!!t)),r=e.map((t=>t.fragment)).filter((t=>!!t));let i=l(n,t.vertex,!0);i=function(t,e){const n=[];d(e,n),t.forEach((t=>{t.header&&d(t.header,n)}));let r=0;const i=n.sort().map((t=>t.indexOf("builtin")>-1?t:`@location(${r++}) ${t}`)).join(",\n"),a=n.sort().map((t=>{return`       var ${e=t,e.replace(/@.*?\s+/g,"")};`;var e})).join("\n"),o=`return VSOutput(\n            ${n.sort().map((t=>` ${function(t){const e=/\b(\w+)\s*:/g.exec(t);return e?e[1]:""}(t)}`)).join(",\n")});`;let s=e.replace(/@out\s+[^;]+;\s*/g,"");return s=s.replace("{{struct}}",`\n${i}\n`),s=s.replace("{{start}}",`\n${a}\n`),s=s.replace("{{return}}",`\n${o}\n`),s}(n,i);const a=l(r,t.fragment,!0);return{vertex:i,fragment:a}}(t,e);return f[n]=g(r,i,e),f[n]}function v({template:t,bits:e}){const n=p(t,e);return f[n]||(f[n]=g(t.vertex,t.fragment,e)),f[n]}function p(t,e){return e.map((t=>(x.has(t)||x.set(t,m++),x.get(t)))).sort(((t,e)=>t-e)).join("-")+t.vertex+t.fragment}function g(t,e,n){const r=u(t),i=u(e);return n.forEach((t=>{o(t.vertex,r,t.name),o(t.fragment,i,t.name)})),{vertex:h(t,r),fragment:h(e,i)}}const _="\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n        \n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n       \n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n",S="\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n   \n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n        \n        {{start}}\n\n        var outColor:vec4<f32>;\n      \n        {{main}}\n        \n        var finalColor:vec4<f32> = outColor * vColor;\n\n        {{end}}\n\n        return finalColor;\n      };\n",B="\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n        \n        {{start}}\n        \n        vColor = vec4(1.);\n        \n        {{main}}\n        \n        vUV = uv;\n        \n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",y="\n   \n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n        \n        {{start}}\n\n        vec4 outColor;\n      \n        {{main}}\n        \n        finalColor = outColor * vColor;\n        \n        {{end}}\n    }\n",T={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},I={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}};function P({bits:t,name:e}){const n=b({template:{fragment:S,vertex:_},bits:[T,...t]});return i.B.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function z({bits:t,name:e}){return new r.M({name:e,...v({template:{vertex:B,fragment:y},bits:[I,...t]})})}},9278:(t,e,n)=>{n.d(e,{F:()=>r,a:()=>i});const r={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},i={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}}},7955:(t,e,n)=>{n.d(e,{P:()=>c,_:()=>o});const r={};function i(t){const e=[];if(1===t)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<t;r++)e.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return e.join("\n")}function a(t){const e=[];if(1===t)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<t;n++)n===t-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join("\n")}function o(t){return r[t]||(r[t]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:`\n                @in @interpolate(flat) vTextureId: u32;\n\n                ${i(t)}\n            `,main:`\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ${a(t)}\n            `}}),r[t]}const s={};function u(t){const e=[];for(let n=0;n<t;n++)n>0&&e.push("else"),n<t-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`\toutColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join("\n")}function c(t){return s[t]||(s[t]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:`\n                in float vTextureId;\n\n                uniform sampler2D uTextures[${t}];\n\n            `,main:`\n\n                ${u(t)}\n            `}}),s[t]}},544:(t,e,n)=>{n.d(e,{Ls:()=>r,_Q:()=>i,mA:()=>a});const r={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},i={...r,vertex:{...r.vertex,header:r.vertex.header.replace("group(1)","group(2)")}},a={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},2152:(t,e,n)=>{n.d(e,{b:()=>r,m:()=>i});const r={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> \n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},i={name:"round-pixels-bit",vertex:{header:"   \n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {       \n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}}},3086:(t,e,n)=>{n.d(e,{R:()=>r,m:()=>i});const r={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n         \n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},i={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n         \n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},924:(t,e,n)=>{var r=n(9084),i=n(2066),a=n(2602),o=n(2314),s=n(8898),u=n(7655),c=n(600),l=n(8914);n(5388);r.XO.add(i.Z,a.W,o.r,l.$,c.b,u.q,s.P)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLi5wbnBtLTk5YmI1MDA2LjJkYjJlODk3YTc4OTllODcwMmJlLmpzIiwibWFwcGluZ3MiOiJrSkFJQSxNQUFNQSxFQUNKLFdBQUFDLEdBQ0VDLEtBQUtDLFlBQWEsRUFDbEJELEtBQUtFLFdBQWEsSUFBTUMsT0FDMUIsQ0FDQSxJQUFBQyxDQUFLQyxHQUNIQSxFQUFZQyxTQUFTQyxRQUFRQyxjQUFjQyxJQUFJVCxLQUNqRCxDQUNBLGFBQUFRLEdBQ0VSLEtBQUtDLFlBQWEsQ0FDcEIsQ0FDQSxLQUFBUyxDQUFNQyxFQUFXQyxFQUFVQyxHQUN6QixNQUFNUCxFQUFXSyxFQUFVTCxTQUMzQkEsRUFBU08sT0FBT0MsS0FBS0QsRUFBUWIsS0FBS0MsWUFDbENLLEVBQVNPLE9BQU9FLG1CQUFtQlQsRUFBU1UsZUFBZUMsY0FDM0RYLEVBQVNNLFNBQVNFLEtBQUtGLEVBQVVDLEVBQU9LLFVBQzFDLENBQ0EsT0FBQUMsQ0FBUVIsRUFBV1MsR0FDakIsTUFBTWQsRUFBV0ssRUFBVUwsU0FDM0JOLEtBQUtDLFlBQWEsRUFDbEJELEtBQUtFLFdBQVdtQixVQUFZRCxFQUFNQyxVQUNsQ2YsRUFBU2dCLE1BQU1DLElBQUl2QixLQUFLRSxZQUN4QixNQUFNc0IsRUFBV0osRUFBTUksU0FBU0EsU0FDaEMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlMLEVBQU1JLFNBQVNFLE1BQU9ELElBQ3hDbkIsRUFBU3FCLFFBQVFiLEtBQUtVLEVBQVNDLEdBQUlBLEdBRXJDbkIsRUFBU00sU0FBU2dCLEtBQUtSLEVBQU1TLFNBQVVULEVBQU1VLEtBQU1WLEVBQU1WLE1BQzNELEVBR0ZaLEVBQWVpQyxVQUFZLENBQ3pCQyxLQUFNLENBQ0osS0FBY0MsbUJBRWhCQyxLQUFNLFEsZ0RDckNSLE1BQU1DLEVBQWUsQ0FDbkIsMkJBQ0EsbUJBQ0Esb0JBQ0EsWUFDQSw0QkFDQSxLQUNBQyxLQUFLLE1BQ1AsU0FBU0MsRUFBa0JDLEdBQ3pCLElBQUlDLEVBQU0sR0FDVixJQUFLLElBQUlkLEVBQUksRUFBR0EsRUFBSWEsSUFBVWIsRUFDeEJBLEVBQUksSUFDTmMsR0FBTyxXQUVMZCxFQUFJYSxFQUFTLElBQ2ZDLEdBQU8sY0FBY2QsVUFHekIsT0FBT2MsQ0FDVCxDQ2hCQSxJQUFJQyxFQUEyQixLQUMvQixTQUFTQyxJQUNQLEdBQUlELEVBQ0YsT0FBT0EsRUFDVCxNQUFNRSxHQUFLLEVBQUFDLEVBQUEsS0FPWCxPQU5BSCxFQUEyQkUsRUFBR0UsYUFBYUYsRUFBR0cseUJBQzlDTCxFRFdGLFNBQXNDRixFQUFRSSxHQUM1QyxHQUFlLElBQVhKLEVBQ0YsTUFBTSxJQUFJUSxNQUFNLGlFQUVsQixNQUFNakMsRUFBUzZCLEVBQUdLLGFBQWFMLEVBQUdNLGlCQUNsQyxJQUNFLE9BQWEsQ0FDWCxNQUFNQyxFQUFjZCxFQUFhZSxRQUFRLGNBQWViLEVBQWtCQyxJQUcxRSxHQUZBSSxFQUFHUyxhQUFhdEMsRUFBUW9DLEdBQ3hCUCxFQUFHVSxjQUFjdkMsR0FDWjZCLEVBQUdXLG1CQUFtQnhDLEVBQVE2QixFQUFHWSxnQkFHcEMsTUFGQWhCLEVBQVNBLEVBQVMsRUFBSSxDQUkxQixDQUNGLENBQUUsUUFDQUksRUFBR2EsYUFBYTFDLEVBQ2xCLENBQ0EsT0FBT3lCLENBQ1QsQ0MvQjZCa0IsQ0FDekJoQixFQUNBRSxHQUVGQSxFQUFHZSxhQUFhLHVCQUF1QkMsY0FDaENsQixDQUNULEMsb0VDWEEsTUFBTW1CLEVBQVksSUFBTXhELFFBQ3hCLE1BQU15RCxFQUNKLEtBQUFsRCxDQUFNQyxFQUFXQyxFQUFVQyxHQUN6QixNQUFNUCxFQUFXSyxFQUFVTCxTQUNyQnVELEVBQVV2RCxFQUFTdUQsUUFDbkJDLEVBQVVqRCxFQUFPa0QsV0FDdkIvRCxLQUFLZ0UsUUFBVW5ELEVBQ2ZiLEtBQUtpRSxVQUFZckQsRUFDakJpRCxFQUFRSyxZQUFZdEQsRUFBVWtELEdBQzlCSCxFQUFVdEMsVUFBWSxTQUN0QmYsRUFBUzZELFNBQVNDLFlBQ2hCeEQsRUFDQWtELEVBQ0FILEdBRUYsTUFBTVUsRUFBMEIvRCxFQUFTVSxlQUFlc0QsVUFDeERULEVBQVFVLGVBQWUsR0FDdkJWLEVBQVFXLGFBQWEsRUFBR0gsRUFBeUJQLEVBQ25ELENBQ0EsT0FBQTNDLENBQVFSLEVBQVdTLEdBQ2pCLE1BQU0wQyxFQUFVOUQsS0FBS2dFLFFBQVFELFdBQ3ZCekQsRUFBV0ssRUFBVUwsU0FDckJ1RCxFQUFVdkQsRUFBU3VELFFBQ3pCLElBQUt6QyxFQUFNa0QsVUFBVyxDQUNwQixNQUFNRyxFQUFlckQsRUFBTUksU0FDM0JKLEVBQU1rRCxXQUFZLE9BQXlCRyxFQUFhakQsU0FBVWlELEVBQWEvQyxNQUNqRixDQUNBaUMsRUFBVXRDLFVBQVlELEVBQU1DLFVBQzVCLE1BQU1xRCxFQUFlcEUsRUFBU2dFLFVBQVVLLGFBQ3RDdkQsRUFBTWtELFVBQ05SLEVBQ0EsR0FFSUssRUFBVzdELEVBQVM2RCxTQUFTQyxZQUNqQ3BFLEtBQUtpRSxVQUNMSCxFQUNBSCxFQUNBdkMsRUFBTVMsVUFFUlQsRUFBTWtELFVBQVVNLE9BQU90RSxFQUFTdUUsVUFBVW5ELE9BQzFDbUMsRUFBUWlCLFlBQVlYLEdBQ3BCTixFQUFRa0Isa0JBQWtCUCxhQUFhLEVBQUdFLEdBQzFDYixFQUFRa0Isa0JBQWtCQyxZQUFZNUQsRUFBTVUsS0FBTSxFQUFHVixFQUFNVixNQUM3RCxFQUdGa0QsRUFBZ0I3QixVQUFZLENBQzFCQyxLQUFNLENBQ0osS0FBY2lELG9CQUVoQi9DLEtBQU0sUSxvRUNsRFIsTUFBTWdELEVBQWUsQ0FBQyxFQUN0QixTQUFTQyxFQUF5QjNELEVBQVVNLEdBQzFDLElBQUlzRCxFQUFNLFdBQ1YsSUFBSyxJQUFJM0QsRUFBSSxFQUFHQSxFQUFJSyxFQUFNTCxJQUN4QjJELEdBQU81RCxFQUFTQyxHQUFHMkQsSUFDbkJBLEVBQU1DLEtBQUtDLEtBQUtGLEVBQUssVUFDckJBLEtBQVMsRUFFWCxPQUFPRixFQUFhRSxJQUd0QixTQUF1QzVELEVBQVVNLEVBQU15RCxHQUNyRCxNQUFNQyxFQUFxQixDQUFDLEVBQzVCLElBQUlDLEVBQVksRUFDWEMsSUFDSEEsR0FBYyxVQUNoQixJQUFLLElBQUlqRSxFQUFJLEVBQUdBLEVBQUlpRSxFQUFhakUsSUFBSyxDQUNwQyxNQUFNRSxFQUFVRixFQUFJSyxFQUFPTixFQUFTQyxHQUFLLElBQVFrRSxNQUFNQyxPQUN2REosRUFBbUJDLEtBQWU5RCxFQUFRaUUsT0FDMUNKLEVBQW1CQyxLQUFlOUQsRUFBUWtFLEtBQzVDLENBQ0EsTUFBTXZCLEVBQVksSUFBSSxJQUFVa0IsR0FFaEMsT0FEQU4sRUFBYUssR0FBT2pCLEVBQ2JBLENBQ1QsQ0FoQjhCd0IsQ0FBOEJ0RSxFQUFVTSxFQUFNc0QsRUFDNUUsQ0FDQSxJQUFJTSxFQUFjLEMsb0VDVmxCLE1BQU1LLEVBQWUsTUFBTUEsRUFDekIsV0FBQWhHLENBQVlPLEVBQVUwRixHQUNwQmhHLEtBQUtzQixNQUFRLElBQU1uQixRQUNuQkgsS0FBS2lHLDBCQUE0Q0MsT0FBT0MsT0FBTyxNQUUvRG5HLEtBQUtvRyxlQUFpQ0YsT0FBT0MsT0FBTyxNQUNwRG5HLEtBQUtNLFNBQVdBLEVBQ2hCTixLQUFLcUcsU0FBV0wsRUFDaEJoRyxLQUFLcUcsU0FBU2pHLE9BQU9KLEtBQ3ZCLENBQ0EsaUJBQU9zRyxDQUFXcEUsR0FDaEIsT0FBTyxJQUFJbEMsS0FBS3VHLG1CQUFtQnJFLEVBQ3JDLENBQ0EsVUFBQXNFLENBQVdDLEdBQ1QsSUFBSUMsRUFBVzFHLEtBQUtpRywwQkFBMEJRLEVBQWVyQixLQUN4RHNCLElBQ0hBLEVBQVcxRyxLQUFLaUcsMEJBQTBCUSxFQUFlckIsS0FBdUJjLE9BQU9DLE9BQU8sTUFDOUZPLEVBQVNDLFVBQVlELEVBQVNDLFFBQVUsSUFBSSxNQUU5QzNHLEtBQUtvRyxlQUFpQk0sRUFDdEIxRyxLQUFLNEcsYUFBZTVHLEtBQUtvRyxlQUFlTyxRQUN4QyxJQUFLLE1BQU1sRixLQUFLekIsS0FBS29HLGVBQ25CcEcsS0FBS29HLGVBQWUzRSxHQUFHb0YsT0FFM0IsQ0FDQSxVQUFBQyxDQUFXQyxFQUFpQk4sR0FDMUIsR0FBSXpHLEtBQUs0RyxhQUFhMUUsT0FBUzZFLEVBQWdCQyxZQUFhLENBQzFEaEgsS0FBSzRHLGFBQWFLLE1BQU1SLEdBQ3hCLElBQUlyRixFQUFRcEIsS0FBS29HLGVBQWVXLEVBQWdCQyxhQUMzQzVGLElBQ0hBLEVBQVFwQixLQUFLb0csZUFBZVcsRUFBZ0JDLGFBQWVqQixFQUFhTyxXQUFXUyxFQUFnQkMsYUFDbkc1RixFQUFNeUYsU0FFUjdHLEtBQUs0RyxhQUFleEYsQ0FDdEIsQ0FDQXBCLEtBQUs0RyxhQUFhbkcsSUFBSXNHLEVBQ3hCLENBQ0EsTUFBTU4sR0FDSnpHLEtBQUs0RyxhQUFhSyxNQUFNUixFQUMxQixDQUNBLFFBQUFTLENBQVNULEdBQ1B6RyxLQUFLNEcsYUFBYUssTUFBTVIsR0FDeEIsTUFBTVUsRUFBVW5ILEtBQUtvRyxlQUNyQixJQUFLLE1BQU0zRSxLQUFLMEYsRUFBUyxDQUN2QixNQUFNL0YsRUFBUStGLEVBQVExRixHQUNoQmIsRUFBV1EsRUFBTVIsU0FDdkJBLEVBQVN3RyxZQUFZQyxnQkFBZ0JqRyxFQUFNZ0csWUFBYWhHLEVBQU1rRyxXQUFXLEdBQ3pFMUcsRUFBUzJHLFFBQVEsR0FBR0YsZ0JBQWdCakcsRUFBTW9HLGdCQUFnQkMsWUFBYXJHLEVBQU1zRyxlQUFlLEVBQzlGLENBQ0YsQ0FDQSxNQUFBQyxDQUFPbEIsR0FDTCxNQUFNQyxFQUFXMUcsS0FBS2lHLDBCQUEwQlEsRUFBZXJCLEtBQy9ELElBQUssTUFBTTNELEtBQUtpRixFQUFVLENBQ3hCLE1BQU1rQixFQUFVbEIsRUFBU2pGLEdBQ25CYixFQUFXZ0gsRUFBUWhILFNBQ3JCZ0gsRUFBUUMsUUFDVkQsRUFBUUMsT0FBUSxFQUNoQmpILEVBQVMyRyxRQUFRLEdBQUdPLE9BQStCLEVBQXhCRixFQUFRRixlQUV2QyxDQUNGLENBQ0EsT0FBQXZHLENBQVFDLEdBQ04sR0FBcUIsZUFBakJBLEVBQU0yRyxPQUF5QixDQUNqQyxNQUFNSCxFQUFVeEcsRUFBTXdHLFFBQ2hCaEgsRUFBV2dILEVBQVFoSCxTQUNuQkMsRUFBUytHLEVBQVEvRyxPQUN2QmIsS0FBS3FHLFNBQVMzRixNQUFNVixLQUFNWSxFQUFVQyxFQUN0QyxDQUNBYixLQUFLcUcsU0FBU2xGLFFBQVFuQixLQUFNb0IsRUFDOUIsQ0FDQSxPQUFBNEcsR0FDRWhJLEtBQUtzQixNQUFRLEtBQ2J0QixLQUFLTSxTQUFXLEtBQ2hCTixLQUFLcUcsU0FBVyxLQUNoQixJQUFLLE1BQU01RSxLQUFLekIsS0FBS29HLGVBQ25CcEcsS0FBS29HLGVBQWUzRSxHQUFHdUcsVUFFekJoSSxLQUFLb0csZUFBaUIsSUFDeEIsR0FHRkwsRUFBYWhFLFVBQVksQ0FDdkJDLEtBQU0sQ0FDSixLQUFjaUcsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCakcsS0FBTSxTQUVSNkQsRUFBYVEsbUJBQXFDTCxPQUFPQyxPQUFPLE1BQ2hFLElBQUlpQyxFQUFjckMsRUFDbEIsS0FBV3NDLFlBQVksS0FBY0MsUUFBU0YsRUFBWTdCLG9CQUMxRCxLQUFXOUYsSUFBSSxJLGtHQ2hHZixNQUFNOEgsRUFDSixXQUFBeEksR0FFRUMsS0FBS3dJLElBQXNCdEMsT0FBT0MsT0FBTyxNQUN6Q25HLEtBQUt3QixTQUFXLEdBQ2hCeEIsS0FBSzBCLE1BQVEsQ0FDZixDQUVBLEtBQUErRyxHQUNFLElBQUssSUFBSWhILEVBQUksRUFBR0EsRUFBSXpCLEtBQUswQixNQUFPRCxJQUFLLENBQ25DLE1BQU1pSCxFQUFJMUksS0FBS3dCLFNBQVNDLEdBQ3hCekIsS0FBS3dCLFNBQVNDLEdBQUssS0FDbkJ6QixLQUFLd0ksSUFBSUUsRUFBRXRELEtBQU8sSUFDcEIsQ0FDQXBGLEtBQUswQixNQUFRLENBQ2YsRUNSRixNQUFNaUgsRUFDSixXQUFBNUksR0FDRUMsS0FBSzRJLGFBQWUsUUFDcEI1SSxLQUFLK0gsT0FBUyxhQUtkL0gsS0FBS1UsTUFBUSxFQUNiVixLQUFLOEIsS0FBTyxFQUNaOUIsS0FBS3dCLFNBQVcsSUFBSStHLEVBQ3BCdkksS0FBS3FCLFVBQVksU0FDakJyQixLQUFLNkIsU0FBVyxpQkFDaEI3QixLQUFLNkksV0FBWSxDQUNuQixDQUNBLE9BQUFiLEdBQ0VoSSxLQUFLd0IsU0FBVyxLQUNoQnhCLEtBQUswRSxhQUFlLEtBQ3BCMUUsS0FBS3NFLFVBQVksS0FDakJ0RSxLQUFLNEgsUUFBVSxJQUNqQixFQUVGLE1BQU1rQixFQUFZLEdBQ2xCLElBQUlDLEVBQWlCLEVBQ3JCLFNBQVNDLElBQ1AsT0FBT0QsRUFBaUIsRUFBSUQsSUFBWUMsR0FBa0IsSUFBSUosQ0FDaEUsQ0FDQSxTQUFTTSxFQUFrQjdILEdBQ3pCMEgsRUFBVUMsS0FBb0IzSCxDQUNoQyxDQUNBLElBQUk4SCxFQUFhLEVBQ2pCLE1BQU1DLEVBQVcsTUFBTUEsRUFDckIsV0FBQXBKLENBQVlxSixFQUFVLENBQUMsR0FFckJwSixLQUFLb0YsS0FBTSxFQUFBQSxFQUFBLEdBQUksV0FFZnBGLEtBQUs2SCxPQUFRLEVBRWI3SCxLQUFLcUosV0FBYSxFQUVsQnJKLEtBQUttSCxRQUFVLEdBQ2ZuSCxLQUFLc0osVUFBWSxHQUNqQkgsRUFBU0ksZUFBZTdELFlBQWN5RCxFQUFTSSxlQUFlN0QsY0FBZSxTQUM3RTBELEVBQVUsSUFBS0QsRUFBU0ksa0JBQW1CSCxHQUMzQyxNQUFNLFlBQUUxRCxFQUFXLHNCQUFFOEQsRUFBcUIsbUJBQUVDLEdBQXVCTCxFQUNuRXBKLEtBQUt3SCxnQkFBa0IsSUFBSWtDLEVBQUEsRUFBdUMsRUFBeEJGLEdBQzFDeEosS0FBS29ILFlBQWMsSUFBSXVDLFlBQVlGLEdBQ25DekosS0FBSzBGLFlBQWNBLENBQ3JCLENBQ0EsS0FBQW1CLEdBQ0U3RyxLQUFLNEosWUFBYyxFQUNuQjVKLEtBQUs2SixhQUFlLEVBQ3BCN0osS0FBS3NILFVBQVksRUFDakJ0SCxLQUFLMEgsY0FBZ0IsRUFDckIsSUFBSyxJQUFJakcsRUFBSSxFQUFHQSxFQUFJekIsS0FBS3FKLFdBQVk1SCxJQUNuQ3dILEVBQWtCakosS0FBS21ILFFBQVExRixJQUVqQ3pCLEtBQUtxSixXQUFhLEVBQ2xCckosS0FBSzhKLGlCQUFtQixFQUN4QjlKLEtBQUsrSixnQkFBa0IsRUFDdkIvSixLQUFLNkgsT0FBUSxDQUNmLENBQ0EsR0FBQXBILENBQUlzRyxHQUNGL0csS0FBS3NKLFVBQVV0SixLQUFLNEosZUFBaUI3QyxFQUNyQ0EsRUFBZ0JpRCxZQUFjaEssS0FBS3NILFVBQ25DUCxFQUFnQmtELGdCQUFrQmpLLEtBQUswSCxjQUN2Q1gsRUFBZ0JtRCxTQUFXbEssS0FDM0JBLEtBQUtzSCxXQUFhUCxFQUFnQk8sVUFDbEN0SCxLQUFLMEgsZUFBaUJYLEVBQWdCVyxjQUFnQjFILEtBQUttSyxVQUM3RCxDQUNBLHFCQUFBQyxDQUFzQnJELEVBQWlCcEYsR0FDckMsTUFBTTBJLEVBQVl0RCxFQUFnQnVELE9BQU85SSxTQUFTZ0gsSUFBSTdHLEVBQVE0SSxRQUFRbkYsS0FDdEUsU0FBS2lGLEdBQTJCLElBQWRBLEtBRWxCdEQsRUFBZ0J5RCxXQUFhSCxFQUM3QnRELEVBQWdCcEYsUUFBVUEsR0FDbkIsRUFDVCxDQUNBLGFBQUE4SSxDQUFjMUQsR0FDWi9HLEtBQUs2SCxPQUFRLEVBQ2IsTUFBTUwsRUFBa0J4SCxLQUFLd0gsZ0JBQ3pCVCxFQUFnQjJELFdBQ2xCMUssS0FBSzJLLG1CQUNINUQsRUFDQVMsRUFBZ0JDLFlBQ2hCRCxFQUFnQm9ELFdBQ2hCN0QsRUFBZ0JrRCxnQkFDaEJsRCxFQUFnQnlELFlBR2xCeEssS0FBSzZLLGVBQ0g5RCxFQUNBUyxFQUFnQkMsWUFDaEJELEVBQWdCb0QsV0FDaEI3RCxFQUFnQmtELGdCQUNoQmxELEVBQWdCeUQsV0FHdEIsQ0FNQSxNQUFNL0QsR0FDSixNQUFNcUUsRUFBVzlLLEtBQUtzSixVQUN0QixJQUFLd0IsRUFBUzlLLEtBQUs2SixjQUNqQixPQUNGLElBQUl6SSxFQUFRNEgsSUFDUnZFLEVBQWVyRCxFQUFNSSxTQUN6QmlELEVBQWFnRSxRQUNiLE1BQU1zQyxFQUFlRCxFQUFTOUssS0FBSzZKLGNBQ25DLElBQUl4SSxHQUFZLEVBQUEySixFQUFBLEdBQTBCRCxFQUFhMUosVUFBVzBKLEVBQWFwSixRQUFRNEksU0FDbkYxSSxFQUFXa0osRUFBYWxKLFNBQ0gsRUFBckI3QixLQUFLMEgsY0FBb0IxSCxLQUFLd0gsZ0JBQWdCMUYsTUFDaEQ5QixLQUFLaUwsdUJBQTRDLEVBQXJCakwsS0FBSzBILGVBRS9CMUgsS0FBS3NILFVBQVl0SCxLQUFLb0gsWUFBWThELFFBQ3BDbEwsS0FBS21MLG1CQUFtQm5MLEtBQUtzSCxXQUUvQixNQUFNOEQsRUFBTXBMLEtBQUt3SCxnQkFBZ0JDLFlBQzNCNEQsRUFBTXJMLEtBQUt3SCxnQkFBZ0JvRCxXQUMzQnhELEVBQWNwSCxLQUFLb0gsWUFDekIsSUFBSXRGLEVBQU85QixLQUFLK0osZ0JBQ1pySixFQUFRVixLQUFLOEosaUJBQ2IvQixFQUFTLGFBQ2IsTUFBTXJDLEVBQWMxRixLQUFLMEYsWUFDekIsSUFBSyxJQUFJakUsRUFBSXpCLEtBQUs2SixhQUFjcEksRUFBSXpCLEtBQUs0SixjQUFlbkksRUFBRyxDQUN6RCxNQUFNNkosRUFBVVIsRUFBU3JKLEdBQ3pCcUosRUFBU3JKLEdBQUssS0FDZCxNQUNNbUUsRUFEVTBGLEVBQVEzSixRQUNENEksUUFDakJnQixHQUFvQixFQUFBUCxFQUFBLEdBQTBCTSxFQUFRakssVUFBV3VFLEdBQ2pFNEYsRUFBZ0JuSyxJQUFja0ssR0FBcUIxSixJQUFheUosRUFBUXpKLFNBQzFFK0QsRUFBTzZGLGFBQWV2QyxHQUFlc0MsR0FrQ3pDNUYsRUFBTzZGLFdBQWF2QyxHQUNoQnpFLEVBQWEvQyxPQUFTZ0UsR0FBZThGLEtBQ3ZDeEwsS0FBSzBMLGFBQ0h0SyxFQUNBVixFQUNBb0IsRUFBT3BCLEVBQ1ArRCxFQUNBcEQsRUFDQVEsRUFDQTRFLEVBQ0FzQixHQUVGQSxFQUFTLGNBQ1RySCxFQUFRb0IsRUFDUlQsRUFBWWtLLEVBQ1oxSixFQUFXeUosRUFBUXpKLFNBQ25CVCxFQUFRNEgsSUFDUnZFLEVBQWVyRCxFQUFNSSxTQUNyQmlELEVBQWFnRSxVQUNYUyxHQUVKb0MsRUFBUWQsV0FBYTVFLEVBQU8rRixxQkFBdUJsSCxFQUFhL0MsTUFDaEUrQyxFQUFhK0QsSUFBSTVDLEVBQU9SLEtBQU9YLEVBQWEvQyxNQUM1QytDLEVBQWFqRCxTQUFTaUQsRUFBYS9DLFNBQVdrRSxFQUM5QzBGLEVBQVFoQixPQUFTbEosRUFDakJVLEdBQVF3SixFQUFRaEUsVUFDWmdFLEVBQVFaLFlBQ1YxSyxLQUFLMkssbUJBQ0hXLEVBQ0FGLEVBQ0FDLEVBQ0FDLEVBQVFyQixnQkFDUnFCLEVBQVFkLFlBRVZ4SyxLQUFLNEwsY0FDSHhFLEVBQ0FrRSxFQUFRdEIsWUFDUnNCLEVBQVFyQixnQkFBa0JqSyxLQUFLbUssY0FHakNuSyxLQUFLNkssZUFDSFMsRUFDQUYsRUFDQUMsRUFDQUMsRUFBUXJCLGdCQUNScUIsRUFBUWQsWUFFVnhLLEtBQUs2TCxVQUNIUCxFQUNBbEUsRUFDQWtFLEVBQVF0QixZQUNSc0IsRUFBUXJCLGdCQUFrQmpLLEtBQUttSyxlQXBGakNtQixFQUFRZCxXQUFhNUUsRUFBTytGLHFCQUM1QjdKLEdBQVF3SixFQUFRaEUsVUFDWmdFLEVBQVFaLFlBQ1YxSyxLQUFLMkssbUJBQ0hXLEVBQ0FGLEVBQ0FDLEVBQ0FDLEVBQVFyQixnQkFDUnFCLEVBQVFkLFlBRVZ4SyxLQUFLNEwsY0FDSHhFLEVBQ0FrRSxFQUFRdEIsWUFDUnNCLEVBQVFyQixnQkFBa0JqSyxLQUFLbUssY0FHakNuSyxLQUFLNkssZUFDSFMsRUFDQUYsRUFDQUMsRUFDQUMsRUFBUXJCLGdCQUNScUIsRUFBUWQsWUFFVnhLLEtBQUs2TCxVQUNIUCxFQUNBbEUsRUFDQWtFLEVBQVF0QixZQUNSc0IsRUFBUXJCLGdCQUFrQmpLLEtBQUttSyxhQUduQ21CLEVBQVFoQixPQUFTbEosRUF5RHJCLENBQ0lxRCxFQUFhL0MsTUFBUSxJQUN2QjFCLEtBQUswTCxhQUNIdEssRUFDQVYsRUFDQW9CLEVBQU9wQixFQUNQK0QsRUFDQXBELEVBQ0FRLEVBQ0E0RSxFQUNBc0IsR0FFRnJILEVBQVFvQixJQUNOb0gsR0FFSmxKLEtBQUs2SixhQUFlN0osS0FBSzRKLFlBQ3pCNUosS0FBSzhKLGlCQUFtQnBKLEVBQ3hCVixLQUFLK0osZ0JBQWtCakksQ0FDekIsQ0FDQSxZQUFBNEosQ0FBYXRLLEVBQU8wSyxFQUFZeEUsRUFBVzdDLEVBQWNwRCxFQUFXUSxFQUFVNEUsRUFBZ0JzQixHQUM1RjNHLEVBQU1zRCxhQUFlLEtBQ3JCdEQsRUFBTWtELFVBQVksS0FDbEJsRCxFQUFNMkcsT0FBU0EsRUFDZjNHLEVBQU13RyxRQUFVNUgsS0FDaEJvQixFQUFNSSxTQUFXaUQsRUFDakJyRCxFQUFNQyxVQUFZQSxFQUNsQkQsRUFBTVMsU0FBV0EsRUFDakJULEVBQU1WLE1BQVFvTCxFQUNkMUssRUFBTVUsS0FBT3dGLElBQ1g0QixFQUNGbEosS0FBS21ILFFBQVFuSCxLQUFLcUosY0FBZ0JqSSxFQUNsQ3FGLEVBQWVoRyxJQUFJVyxFQUNyQixDQUNBLE1BQUEySyxDQUFPdEYsR0FDTHpHLEtBQUtpSCxNQUFNUixFQUNiLENBS0EscUJBQUF1RixDQUFzQmxLLEdBQ1QsRUFBUEEsR0FBWTlCLEtBQUt3SCxnQkFBZ0IxRixNQUVyQzlCLEtBQUtpTCx1QkFBOEIsRUFBUG5KLEVBQzlCLENBS0EsaUJBQUFtSyxDQUFrQm5LLEdBQ1pBLEdBQVE5QixLQUFLb0gsWUFBWThELFFBRTdCbEwsS0FBS21MLG1CQUFtQnJKLEVBQzFCLENBQ0Esc0JBQUFtSixDQUF1Qm5KLEdBQ3JCLE1BQU1vSyxFQUFVN0csS0FBSzhHLElBQUlySyxFQUFrQyxFQUE1QjlCLEtBQUt3SCxnQkFBZ0IxRixNQUM5Q3NLLEVBQWlCLElBQUkxQyxFQUFBLEVBQWV3QyxJQUMxQyxFQUFBRyxFQUFBLEdBQVNyTSxLQUFLd0gsZ0JBQWdCOEUsY0FBZUYsRUFBZUUsZUFDNUR0TSxLQUFLd0gsZ0JBQWtCNEUsQ0FDekIsQ0FDQSxrQkFBQWpCLENBQW1CckosR0FDakIsTUFBTXNGLEVBQWNwSCxLQUFLb0gsWUFDekIsSUFBSThFLEVBQVU3RyxLQUFLOEcsSUFBSXJLLEVBQTJCLElBQXJCc0YsRUFBWThELFFBQ3pDZ0IsR0FBV0EsRUFBVSxFQUNyQixNQUFNSyxFQUFpQkwsRUFBVSxNQUFRLElBQUlNLFlBQVlOLEdBQVcsSUFBSXZDLFlBQVl1QyxHQUNwRixHQUFJSyxFQUFlRSxvQkFBc0JyRixFQUFZcUYsa0JBQ25ELElBQUssSUFBSWhMLEVBQUksRUFBR0EsRUFBSTJGLEVBQVk4RCxPQUFRekosSUFDdEM4SyxFQUFlOUssR0FBSzJGLEVBQVkzRixRQUdsQyxFQUFBNEssRUFBQSxHQUFTakYsRUFBWXNGLE9BQVFILEVBQWVHLFFBRTlDMU0sS0FBS29ILFlBQWNtRixDQUNyQixDQUNBLGFBQUFYLENBQWN4RSxFQUFhdUYsRUFBT0MsR0FDaEN4RixFQUFZdUYsR0FBU0MsRUFBZ0IsRUFDckN4RixFQUFZdUYsRUFBUSxHQUFLQyxFQUFnQixFQUN6Q3hGLEVBQVl1RixFQUFRLEdBQUtDLEVBQWdCLEVBQ3pDeEYsRUFBWXVGLEVBQVEsR0FBS0MsRUFBZ0IsRUFDekN4RixFQUFZdUYsRUFBUSxHQUFLQyxFQUFnQixFQUN6Q3hGLEVBQVl1RixFQUFRLEdBQUtDLEVBQWdCLENBQzNDLENBQ0EsU0FBQWYsQ0FBVVAsRUFBU2xFLEVBQWF1RixFQUFPQyxHQUNyQyxNQUFNQyxFQUFVdkIsRUFBUXVCLFFBQ2xCL0ssRUFBT3dKLEVBQVFoRSxVQUNmd0YsRUFBY3hCLEVBQVF3QixZQUN0QkMsRUFBa0J6QixFQUFReUIsZ0JBQ2hDLElBQUssSUFBSXRMLEVBQUksRUFBR0EsRUFBSUssRUFBTUwsSUFDeEIyRixFQUFZdUYsS0FBV0MsRUFBZ0JDLEVBQVFwTCxFQUFJcUwsR0FBZUMsQ0FFdEUsQ0FDQSxPQUFBL0UsR0FDRSxJQUFLLElBQUl2RyxFQUFJLEVBQUdBLEVBQUl6QixLQUFLbUgsUUFBUStELE9BQVF6SixJQUN2Q3dILEVBQWtCakosS0FBS21ILFFBQVExRixJQUVqQ3pCLEtBQUttSCxRQUFVLEtBQ2YsSUFBSyxJQUFJMUYsRUFBSSxFQUFHQSxFQUFJekIsS0FBS3NKLFVBQVU0QixPQUFRekosSUFDekN6QixLQUFLc0osVUFBVTdILEdBQUc2SSxPQUFTLEtBRTdCdEssS0FBS3NKLFVBQVksS0FDakJ0SixLQUFLb0gsWUFBYyxLQUNuQnBILEtBQUt3SCxnQkFBZ0JRLFVBQ3JCaEksS0FBS3dILGdCQUFrQixJQUN6QixHQUVGMkIsRUFBU0ksZUFBaUIsQ0FDeEI3RCxZQUFhLEtBQ2I4RCxzQkFBdUIsRUFDdkJDLG1CQUFvQixHQUV0QixJQUFJbkIsRUFBVWEsRSxrQ0MvVWQsTUFBTTZELEVBQXdCLElBQUlDLGFBQWEsR0FDekNDLEVBQXVCLElBQUlWLFlBQVksR0FDN0MsTUFBTVcsVUFBc0JDLEVBQUEsRUFDMUIsV0FBQXJOLEdBQ0UsTUFDTXlILEVBQWtCLElBQUk2RixFQUFBLEVBQU8sQ0FDakNDLEtBQU1OLEVBQ05PLE1BQU8seUJBQ1BDLE1BQU8sSUFBWUMsT0FBUyxJQUFZQyxTQUN4Q0MsYUFBYSxJQVVmQyxNQUFNLENBQ0pDLFdBQVksQ0FDVkMsVUFBVyxDQUNUcEIsT0FBUWxGLEVBQ1J1RyxPQUFRLFlBQ1JDLE9BTlM3RCxHQU9UOEQsT0FBUSxHQUVWQyxJQUFLLENBQ0h4QixPQUFRbEYsRUFDUnVHLE9BQVEsWUFDUkMsT0FaUzdELEdBYVQ4RCxPQUFRLEdBRVZFLE9BQVEsQ0FDTnpCLE9BQVFsRixFQUNSdUcsT0FBUSxXQUNSQyxPQWxCUzdELEdBbUJUOEQsT0FBUSxJQUVWRyxtQkFBb0IsQ0FDbEIxQixPQUFRbEYsRUFDUnVHLE9BQVEsV0FDUkMsT0F4QlM3RCxHQXlCVDhELE9BQVEsS0FHWjdHLFlBbkNrQixJQUFJaUcsRUFBQSxFQUFPLENBQzdCQyxLQUFNSixFQUNOSyxNQUFPLHFCQUNQQyxNQUFPLElBQVlhLE1BQVEsSUFBWVgsU0FFdkNDLGFBQWEsS0FnQ2pCLEUsK0RDN0NGLE1BQU1XLFVBQXNCQyxFQUFBLEVBQzFCLFdBQUF4TyxDQUFZMkYsR0FpQlZrSSxNQUFNLENBQ0oxTSxXQWpCZ0IsT0FBMkIsQ0FDM0NnQixLQUFNLFFBQ05zTSxLQUFNLENBQ0pDLEVBQUEsR0FDQSxFQUFBQyxFQUFBLEdBQTBCaEosR0FDMUJpSixFQUFBLEtBYUY1SyxZQVZpQixPQUE0QixDQUM3QzdCLEtBQU0sUUFDTnNNLEtBQU0sQ0FDSkMsRUFBQSxHQUNBLEVBQUFDLEVBQUEsR0FBd0JoSixHQUN4QmlKLEVBQUEsS0FNRkMsVUFBVyxDQUNUQyxlQUFlLEVBQUFDLEVBQUEsR0FBNkJwSixLQUdsRCxFQzNCRixJQUFJcUosRUFBZ0IsS0FDcEIsTUFBTUMsRUFBa0IsTUFBTUEsVUFBd0IxRyxFQUNwRCxXQUFBdkksR0FDRTZOLFNBQVNxQixXQUNUalAsS0FBS1ksU0FBVyxJQUFJdU0sRUFDcEJuTixLQUFLYSxPQUFTa08sSUFBa0JBLEVBQWdCLElBQUlULEVBQWN0TyxLQUFLMEYsY0FDdkUxRixLQUFLa0MsS0FBTzhNLEVBQWdCak4sVUFBVUcsS0FFdENsQyxLQUFLbUssV0FBYSxDQUNwQixDQVNBLGNBQUFVLENBQWVTLEVBQVM3RCxFQUFhbUQsRUFBWStCLEVBQU90QyxHQUN0RCxNQUFNNkUsRUFBb0I3RSxHQUFhLEdBQTJCLE1BQXRCaUIsRUFBUTZELFlBQzlDQyxFQUFLOUQsRUFBUStELFVBQ2JDLEVBQUlGLEVBQUdFLEVBQ1BDLEVBQUlILEVBQUdHLEVBQ1BDLEVBQUlKLEVBQUdJLEVBQ1BDLEVBQUlMLEVBQUdLLEVBQ1BDLEVBQUtOLEVBQUdNLEdBQ1JDLEVBQUtQLEVBQUdPLElBQ1IsVUFBRUMsRUFBUyxJQUFFQyxHQUFRdkUsRUFDckJ3RSxFQUFPeEUsRUFBUXlFLE1BQ2Y5QixFQUFTM0MsRUFBUXlCLGdCQUNqQmlELEVBQU0vQixFQUFTM0MsRUFBUTVELGNBQzdCLElBQUssSUFBSWpHLEVBQUl3TSxFQUFReE0sRUFBSXVPLEVBQUt2TyxJQUFLLENBQ2pDLE1BQU13TyxFQUFTLEVBQUp4TyxFQUNMeU8sRUFBSU4sRUFBVUssR0FDZEUsRUFBSVAsRUFBVUssRUFBSyxHQUN6QnhJLEVBQVlrRixLQUFXMkMsRUFBSVksRUFBSVYsRUFBSVcsRUFBSVQsRUFDdkNqSSxFQUFZa0YsS0FBVzhDLEVBQUlVLEVBQUlaLEVBQUlXLEVBQUlQLEVBQ3ZDbEksRUFBWWtGLEtBQVdrRCxFQUFJSSxHQUMzQnhJLEVBQVlrRixLQUFXa0QsRUFBSUksRUFBSyxHQUNoQ3JGLEVBQVcrQixLQUFXbUQsRUFDdEJsRixFQUFXK0IsS0FBV3VDLENBQ3hCLENBQ0YsQ0FTQSxrQkFBQXZFLENBQW1CVyxFQUFTN0QsRUFBYW1ELEVBQVkrQixFQUFPdEMsR0FDMUQsTUFBTTFJLEVBQVUySixFQUFRM0osUUFDbEJ5TixFQUFLOUQsRUFBUStELFVBQ2JDLEVBQUlGLEVBQUdFLEVBQ1BDLEVBQUlILEVBQUdHLEVBQ1BDLEVBQUlKLEVBQUdJLEVBQ1BDLEVBQUlMLEVBQUdLLEVBQ1BDLEVBQUtOLEVBQUdNLEdBQ1JDLEVBQUtQLEVBQUdPLEdBQ1JTLEVBQVM5RSxFQUFROEUsT0FDakJDLEVBQUtELEVBQU9FLEtBQ1pDLEVBQUtILEVBQU9JLEtBQ1pDLEVBQUtMLEVBQU9NLEtBQ1pDLEVBQUtQLEVBQU9RLEtBQ1pmLEVBQU1sTyxFQUFRa08sSUFDZEMsRUFBT3hFLEVBQVF5RSxNQUNmYixFQUFvQjdFLEdBQWEsR0FBMkIsTUFBdEJpQixFQUFRNkQsWUFDcEQxSCxFQUFZa0YsRUFBUSxHQUFLMkMsRUFBSWlCLEVBQUtmLEVBQUltQixFQUFLakIsRUFDM0NqSSxFQUFZa0YsRUFBUSxHQUFLOEMsRUFBSWtCLEVBQUtwQixFQUFJZ0IsRUFBS1osRUFDM0NsSSxFQUFZa0YsRUFBUSxHQUFLa0QsRUFBSWdCLEdBQzdCcEosRUFBWWtGLEVBQVEsR0FBS2tELEVBQUlpQixHQUM3QmxHLEVBQVcrQixFQUFRLEdBQUttRCxFQUN4QmxGLEVBQVcrQixFQUFRLEdBQUt1QyxFQUN4QnpILEVBQVlrRixFQUFRLEdBQUsyQyxFQUFJZSxFQUFLYixFQUFJbUIsRUFBS2pCLEVBQzNDakksRUFBWWtGLEVBQVEsR0FBSzhDLEVBQUlrQixFQUFLcEIsRUFBSWMsRUFBS1YsRUFDM0NsSSxFQUFZa0YsRUFBUSxHQUFLa0QsRUFBSWtCLEdBQzdCdEosRUFBWWtGLEVBQVEsR0FBS2tELEVBQUltQixHQUM3QnBHLEVBQVcrQixFQUFRLElBQU1tRCxFQUN6QmxGLEVBQVcrQixFQUFRLElBQU11QyxFQUN6QnpILEVBQVlrRixFQUFRLElBQU0yQyxFQUFJZSxFQUFLYixFQUFJaUIsRUFBS2YsRUFDNUNqSSxFQUFZa0YsRUFBUSxJQUFNOEMsRUFBSWdCLEVBQUtsQixFQUFJYyxFQUFLVixFQUM1Q2xJLEVBQVlrRixFQUFRLElBQU1rRCxFQUFJb0IsR0FDOUJ4SixFQUFZa0YsRUFBUSxJQUFNa0QsRUFBSXFCLEdBQzlCdEcsRUFBVytCLEVBQVEsSUFBTW1ELEVBQ3pCbEYsRUFBVytCLEVBQVEsSUFBTXVDLEVBQ3pCekgsRUFBWWtGLEVBQVEsSUFBTTJDLEVBQUlpQixFQUFLZixFQUFJaUIsRUFBS2YsRUFDNUNqSSxFQUFZa0YsRUFBUSxJQUFNOEMsRUFBSWdCLEVBQUtsQixFQUFJZ0IsRUFBS1osRUFDNUNsSSxFQUFZa0YsRUFBUSxJQUFNa0QsRUFBSXNCLEdBQzlCMUosRUFBWWtGLEVBQVEsSUFBTWtELEVBQUl1QixHQUM5QnhHLEVBQVcrQixFQUFRLElBQU1tRCxFQUN6QmxGLEVBQVcrQixFQUFRLElBQU11QyxDQUMzQixHQUdGRixFQUFnQmpOLFVBQVksQ0FDMUJDLEtBQU0sQ0FDSixLQUFjc0csU0FFaEJwRyxLQUFNLFdBRVIsSUFBSW1QLEVBQWlCckMsQywyRUN4R3JCLFNBQVNzQyxFQUFRQyxFQUFVQyxFQUFPdFAsR0FDaEMsR0FBSXFQLEVBQ0YsSUFBSyxNQUFNOVAsS0FBSzhQLEVBQVUsQ0FDeEIsTUFDTUUsRUFBT0QsRUFERi9QLEVBQUVpUSxxQkFFYixHQUFJRCxFQUFNLENBQ1IsSUFBSUUsRUFBZ0JKLEVBQVM5UCxHQUNuQixXQUFOQSxJQUNGa1EsRUFBZ0JBLEVBQWN6TyxRQUFRLG1CQUFvQixJQUFJQSxRQUFRLG9CQUFxQixLQUV6RmhCLEdBQ0Z1UCxFQUFLRyxLQUFLLFNBQVMxUCxXQUVyQnVQLEVBQUtHLEtBQUtELEVBQ1osTUFDRSxFQUFBRSxFQUFBLEdBQUssR0FBR3BRLDRDQUVaLENBRUosQ0NyQkEsTUFBTXFRLEVBQWMsaUJBQ3BCLFNBQVNDLEVBQWFDLEdBQ3BCLE1BQU1SLEVBQVEsQ0FBQyxFQUtmLE9BSm9CUSxFQUFXQyxNQUFNSCxJQUFjSSxLQUFLQyxHQUFTQSxFQUFLalAsUUFBUSxVQUFXLE9BQVEsSUFDckZrUCxTQUFTRCxJQUNuQlgsRUFBTVcsR0FBUSxFQUFFLElBRVhYLENBQ1QsQ0NSQSxTQUFTYSxFQUFjQyxFQUFnQkMsR0FDckMsSUFBSU4sRUFDSixNQUFNTyxFQUFRLGtCQUNkLEtBQWdELFFBQXhDUCxFQUFRTyxFQUFNQyxLQUFLSCxLQUN6QkMsRUFBSVgsS0FBS0ssRUFBTSxHQUVuQixDQUNBLFNBQVNTLEVBQWNDLEVBQVdDLEVBQVVDLEdBQU8sR0FDakQsTUFBTUMsRUFBVSxHQUNoQlQsRUFBY08sRUFBVUUsR0FDeEJILEVBQVVQLFNBQVNXLElBQ2JBLEVBQVNDLFFBQ1hYLEVBQWNVLEVBQVNDLE9BQVFGLEVBQ2pDLElBRUYsTUFBTUcsRUFBWUgsRUFDZEQsR0FDRkksRUFBVUosT0FFWixNQUFNSyxFQUFjRCxFQUFVZixLQUFJLENBQUNpQixFQUFTMVIsSUFBTSxvQkFBb0JBLE1BQU0wUixPQUFZL1EsS0FBSyxNQUM3RixJQUFJZ1IsRUFBZ0JSLEVBQVMxUCxRQUFRLG1CQUFvQixJQUl6RCxPQUhBa1EsRUFBZ0JBLEVBQWNsUSxRQUFRLFNBQVUsS0FDaERnUSxPQUVPRSxDQUNULENDekJBLFNBQVNDLEVBQWVmLEVBQWdCQyxHQUN0QyxJQUFJTixFQUNKLE1BQU1PLEVBQVEsbUJBQ2QsS0FBZ0QsUUFBeENQLEVBQVFPLEVBQU1DLEtBQUtILEtBQ3pCQyxFQUFJWCxLQUFLSyxFQUFNLEdBRW5CLENDTkEsU0FBU3FCLEVBQVdDLEVBQWFDLEdBQy9CLElBQUlqQixFQUFNZ0IsRUFDVixJQUFLLE1BQU05UixLQUFLK1IsRUFBZSxDQUM3QixNQUFNaEMsRUFBUWdDLEVBQWMvUixHQUcxQjhRLEVBRmVmLEVBQU1wUCxLQUFLLE1BQ2Y4SSxPQUNMcUgsRUFBSXJQLFFBQVEsS0FBS3pCLE1BQU8sVUFBVUEsbUJBQzVDK1AsRUFBTXBQLEtBQUssZ0JBQ0xYLGtCQUVJOFEsRUFBSXJQLFFBQVEsS0FBS3pCLE1BQU8sR0FFbEMsQ0FDQSxPQUFPOFEsQ0FDVCxDQ1JBLE1BQU1rQixFQUEyQnZOLE9BQU9DLE9BQU8sTUFDekN1TixFQUE4QixJQUFJQyxJQUN4QyxJQUFJQyxFQUFZLEVBQ2hCLFNBQVNDLEdBQWtCLFNBQ3pCakIsRUFBUSxLQUNScEUsSUFFQSxNQUFNc0YsRUFBVUMsRUFBZ0JuQixFQUFVcEUsR0FDMUMsR0FBSWlGLEVBQVNLLEdBQ1gsT0FBT0wsRUFBU0ssR0FDbEIsTUFBTSxPQUFFRSxFQUFNLFNBQUVqQixHQWNsQixTQUFpQ0gsRUFBVXBFLEdBQ3pDLE1BQU15RixFQUFrQnpGLEVBQUswRCxLQUFLZ0MsR0FBY0EsRUFBVUYsU0FBUUcsUUFBUUMsS0FBUUEsSUFDNUVDLEVBQW9CN0YsRUFBSzBELEtBQUtnQyxHQUFjQSxFQUFVbkIsV0FBVW9CLFFBQVFDLEtBQVFBLElBQ3RGLElBQUlFLEVBQWlCNUIsRUFBY3VCLEVBQWlCckIsRUFBU29CLFFBQVEsR0FDckVNLEVGbEJGLFNBQXdCM0IsRUFBV0MsR0FDakMsTUFBTUUsRUFBVSxHQUNoQk8sRUFBZVQsRUFBVUUsR0FDekJILEVBQVVQLFNBQVNXLElBQ2JBLEVBQVNDLFFBQ1hLLEVBQWVOLEVBQVNDLE9BQVFGLEVBQ2xDLElBRUYsSUFBSW5HLEVBQVEsRUFDWixNQUFNNEgsRUFBYXpCLEVBQVFELE9BQU9YLEtBQUtpQixHQUNqQ0EsRUFBUXFCLFFBQVEsWUFBYyxFQUN6QnJCLEVBRUYsYUFBYXhHLFFBQVl3RyxNQUMvQi9RLEtBQUssT0FDRnFTLEVBQVkzQixFQUFRRCxPQUFPWCxLQUFLaUIsSUFBWSxvQkFuQjdCdUIsRUFtQnlEdkIsRUFqQnZFdUIsRUFBTXhSLFFBREMsV0FDYyxPQUY5QixJQUF1QndSLENBbUJvRSxJQUFFdFMsS0FBSyxNQUMxRnVTLEVBQVUsaUNBQ0o3QixFQUFRRCxPQUFPWCxLQUFLaUIsR0FBWSxJQTFCOUMsU0FBNkJ1QixHQUMzQixNQUNNekMsRUFEUSxlQUNNUSxLQUFLaUMsR0FDekIsT0FBT3pDLEVBQVFBLEVBQU0sR0FBSyxFQUM1QixDQXNCa0QyQyxDQUFvQnpCLE9BQVkvUSxLQUFLLFdBQ3JGLElBQUl5UyxFQUFlakMsRUFBUzFQLFFBQVEsb0JBQXFCLElBVXpELE9BVEEyUixFQUFlQSxFQUFhM1IsUUFBUSxhQUFjLEtBQ2xEcVIsT0FFQU0sRUFBZUEsRUFBYTNSLFFBQVEsWUFBYSxLQUNqRHVSLE9BRUFJLEVBQWVBLEVBQWEzUixRQUFRLGFBQWMsS0FDbER5UixPQUVPRSxDQUNULENFWG1CQyxDQUFlYixFQUFpQkssR0FDakQsTUFBTVMsRUFBbUJyQyxFQUFjMkIsRUFBbUJ6QixFQUFTRyxVQUFVLEdBQzdFLE1BQU8sQ0FDTGlCLE9BQVFNLEVBQ1J2QixTQUFVZ0MsRUFFZCxDQXhCK0JDLENBQXdCcEMsRUFBVXBFLEdBRS9ELE9BREFpRixFQUFTSyxHQUFXbUIsRUFBWWpCLEVBQVFqQixFQUFVdkUsR0FDM0NpRixFQUFTSyxFQUNsQixDQUNBLFNBQVNvQixHQUFvQixTQUMzQnRDLEVBQVEsS0FDUnBFLElBRUEsTUFBTXNGLEVBQVVDLEVBQWdCbkIsRUFBVXBFLEdBQzFDLE9BQUlpRixFQUFTSyxLQUViTCxFQUFTSyxHQUFXbUIsRUFBWXJDLEVBQVNvQixPQUFRcEIsRUFBU0csU0FBVXZFLElBRDNEaUYsRUFBU0ssRUFHcEIsQ0FZQSxTQUFTQyxFQUFnQm5CLEVBQVVwRSxHQUNqQyxPQUFPQSxFQUFLMEQsS0FBS2lELElBQ1Z6QixFQUFZMEIsSUFBSUQsSUFDbkJ6QixFQUFZblMsSUFBSTRULEVBQWN2QixLQUV6QkYsRUFBWTJCLElBQUlGLE1BQ3RCdEMsTUFBSyxDQUFDdkQsRUFBR0MsSUFBTUQsRUFBSUMsSUFBR25OLEtBQUssS0FBT3dRLEVBQVNvQixPQUFTcEIsRUFBU0csUUFDbEUsQ0FDQSxTQUFTa0MsRUFBWWpCLEVBQVFqQixFQUFVdkUsR0FDckMsTUFBTThHLEVBQWN2RCxFQUFhaUMsR0FDM0JSLEVBQWdCekIsRUFBYWdCLEdBS25DLE9BSkF2RSxFQUFLNEQsU0FBUzhCLElBQ1o1QyxFQUFRNEMsRUFBVUYsT0FBUXNCLEVBQWFwQixFQUFVaFMsTUFDakRvUCxFQUFRNEMsRUFBVW5CLFNBQVVTLEVBQWVVLEVBQVVoUyxLQUFLLElBRXJELENBQ0w4UixPQUFRVixFQUFXVSxFQUFRc0IsR0FDM0J2QyxTQUFVTyxFQUFXUCxFQUFVUyxHQUVuQyxDQzVEQSxNQUFNK0IsRUFFSixtL0JBOENJQyxFQUVKLDJYQXlCSUMsRUFFSix5d0JBc0NJQyxFQUVKLDhSQ3JISUMsRUFBb0IsQ0FDeEJ6VCxLQUFNLHNCQUNOOFIsT0FBUSxDQUNOaEIsT0FFRSxxVEE2QkE0QyxFQUFzQixDQUMxQjFULEtBQU0sc0JBQ044UixPQUFRLENBQ05oQixPQUVFLHdMQ2pDTixTQUFTNkMsR0FBNEIsS0FBRXJILEVBQUksS0FBRXRNLElBQzNDLE1BQU0wRCxFQUFTaU8sRUFBa0IsQ0FDL0JqQixTQUFVLENBQ1JHLFNBQVV5QyxFQUNWeEIsT0FBUXVCLEdBRVYvRyxLQUFNLENBQ0ptSCxLQUNHbkgsS0FHUCxPQUFPc0gsRUFBQSxFQUFXQyxLQUFLLENBQ3JCN1QsT0FDQThSLE9BQVEsQ0FDTnBPLE9BQVFBLEVBQU9vTyxPQUNmZ0MsV0FBWSxRQUVkakQsU0FBVSxDQUNSbk4sT0FBUUEsRUFBT21OLFNBQ2ZpRCxXQUFZLFNBR2xCLENBQ0EsU0FBU0MsR0FBMkIsS0FBRXpILEVBQUksS0FBRXRNLElBQzFDLE9BQU8sSUFBSWdVLEVBQUEsRUFBVSxDQUNuQmhVLFVBQ0dnVCxFQUFvQixDQUNyQnRDLFNBQVUsQ0FDUm9CLE9BQVF5QixFQUNSMUMsU0FBVTJDLEdBRVpsSCxLQUFNLENBQ0pvSCxLQUNHcEgsTUFJWCxDLDBDQzNDQSxNQUFNQyxFQUFXLENBQ2Z2TSxLQUFNLFlBQ044UixPQUFRLENBQ05oQixPQUVFLGlEQUlGbUQsS0FFRSxrRkFNQUMsRUFBYSxDQUNqQmxVLEtBQU0sWUFDTjhSLE9BQVEsQ0FDTmhCLE9BRUUsMENBSUZtRCxLQUVFLDRFLDBDQzVCTixNQUFNRSxFQUEwQixDQUFDLEVBQ2pDLFNBQVNDLEVBQW1CNVEsR0FDMUIsTUFBTW5ELEVBQU0sR0FDWixHQUFvQixJQUFoQm1ELEVBQ0ZuRCxFQUFJcVAsS0FBSyw4REFDVHJQLEVBQUlxUCxLQUFLLDJEQUNKLENBQ0wsSUFBSTJFLEVBQWUsRUFDbkIsSUFBSyxJQUFJOVUsRUFBSSxFQUFHQSxFQUFJaUUsRUFBYWpFLElBQy9CYyxFQUFJcVAsS0FBSyxzQkFBc0IyRSx5QkFBb0M5VSxFQUFJLHVCQUN2RWMsRUFBSXFQLEtBQUssc0JBQXNCMkUsMEJBQXFDOVUsRUFBSSxjQUU1RSxDQUNBLE9BQU9jLEVBQUlILEtBQUssS0FDbEIsQ0FDQSxTQUFTb1UsRUFBa0I5USxHQUN6QixNQUFNbkQsRUFBTSxHQUNaLEdBQW9CLElBQWhCbUQsRUFDRm5ELEVBQUlxUCxLQUFLLHVGQUNKLENBQ0xyUCxFQUFJcVAsS0FBSyx1QkFDVCxJQUFLLElBQUluUSxFQUFJLEVBQUdBLEVBQUlpRSxFQUFhakUsSUFDM0JBLElBQU1pRSxFQUFjLEVBQ3RCbkQsRUFBSXFQLEtBQUssZUFFVHJQLEVBQUlxUCxLQUFLLFVBQVVuUSxPQUVyQmMsRUFBSXFQLEtBQUssbURBQW1EblEsRUFBSSxvQkFBb0JBLEVBQUksd0JBQ3hGYyxFQUFJcVAsS0FBSyxpQkFFWHJQLEVBQUlxUCxLQUFLLElBQ1gsQ0FDQSxPQUFPclAsRUFBSUgsS0FBSyxLQUNsQixDQUNBLFNBQVNzTSxFQUF3QmhKLEdBa0MvQixPQWpDSzJRLEVBQXdCM1EsS0FDM0IyUSxFQUF3QjNRLEdBQWUsQ0FDckN4RCxLQUFNLG9CQUNOOFIsT0FBUSxDQUNOaEIsT0FBUSxnSUFJUm1ELEtBQU0scUVBR05uRyxJQUFLLHdOQU9QK0MsU0FBVSxDQUNSQyxPQUFRLGdGQUdFc0QsRUFBbUI1USxtQkFFN0J5USxLQUFNLHFHQUlJSyxFQUFrQjlRLHNCQUszQjJRLEVBQXdCM1EsRUFDakMsQ0FDQSxNQUFNK1EsRUFBeUIsQ0FBQyxFQUNoQyxTQUFTQyxFQUFvQmhSLEdBQzNCLE1BQU1uRCxFQUFNLEdBQ1osSUFBSyxJQUFJZCxFQUFJLEVBQUdBLEVBQUlpRSxFQUFhakUsSUFDM0JBLEVBQUksR0FDTmMsRUFBSXFQLEtBQUssUUFFUG5RLEVBQUlpRSxFQUFjLEdBQ3BCbkQsRUFBSXFQLEtBQUssbUJBQW1CblEsUUFFOUJjLEVBQUlxUCxLQUFLLEtBQ1RyUCxFQUFJcVAsS0FBSyxrQ0FBaUNuUSxhQUMxQ2MsRUFBSXFQLEtBQUssS0FFWCxPQUFPclAsRUFBSUgsS0FBSyxLQUNsQixDQUNBLFNBQVN1VSxFQUEwQmpSLEdBa0NqQyxPQWpDSytRLEVBQXVCL1EsS0FDMUIrUSxFQUF1Qi9RLEdBQWUsQ0FDcEN4RCxLQUFNLG9CQUNOOFIsT0FBUSxDQUNOaEIsT0FBUSx1R0FLUm1ELEtBQU0scUVBR05uRyxJQUFLLHdMQU9QK0MsU0FBVSxDQUNSQyxPQUFRLHlGQUc4QnROLHNCQUd0Q3lRLEtBQU0sdUJBRUlPLEVBQW9CaFIsc0JBSzdCK1EsRUFBdUIvUSxFQUNoQyxDLG9EQ3pIQSxNQUFNa1IsRUFBa0IsQ0FDdEIxVSxLQUFNLG9CQUNOOFIsT0FBUSxDQUNOaEIsT0FFRSxrUUFXRm1ELEtBRUUsc0hBS0ZuRyxJQUVFLGdNQVNBNkcsRUFBd0IsSUFDekJELEVBQ0g1QyxPQUFRLElBQ0g0QyxFQUFnQjVDLE9BRW5CaEIsT0FBUTRELEVBQWdCNUMsT0FBT2hCLE9BQU85UCxRQUFRLFdBQVksY0FHeEQ0VCxFQUFvQixDQUN4QjVVLEtBQU0sb0JBQ044UixPQUFRLENBQ05oQixPQUVFLGdJQU9GbUQsS0FFRSx5RkFLRm5HLElBRUUsc0osMENDL0ROLE1BQU1yQixFQUFpQixDQUNyQnpNLEtBQU0sbUJBQ044UixPQUFRLENBQ05oQixPQUVFLDBPQVNBK0QsRUFBbUIsQ0FDdkI3VSxLQUFNLG1CQUNOOFIsT0FBUSxDQUNOaEIsT0FFRSwyTiwwQ0NuQk4sTUFBTWdFLEVBQWEsQ0FDakI5VSxLQUFNLGNBQ044UixPQUFRLENBQ05oQixPQUVFLHNMQVNGbUQsS0FFRSxxRkFLSnBELFNBQVUsQ0FDUkMsT0FFRSxzSkFPRm1ELEtBRUUsK0VBTUFjLEVBQWUsQ0FDbkIvVSxLQUFNLGNBQ044UixPQUFRLENBQ05oQixPQUVFLHVEQUlGbUQsS0FFRSxxRUFLSnBELFNBQVUsQ0FDUkMsT0FFRSwrREFNRm1ELEtBRUUsOEQsMkdDdkROLEtBQVcxVixJQUFJLElBQVcsSUFBVyxJQUFhLElBQWEsSUFBYSxJQUFjLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvYmF0Y2hlci9nbC9HbEJhdGNoQWRhcHRvci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvZ2wvdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcy5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvZ3B1L0dwdUJhdGNoQWRhcHRvci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvZ3B1L2dldFRleHR1cmVCYXRjaEJpbmRHcm91cC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvc2hhcmVkL0JhdGNoZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvYmF0Y2hlci9zaGFyZWQvQmF0Y2hUZXh0dXJlQXJyYXkubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9iYXRjaGVyL3NoYXJlZC9CYXRjaGVyLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvYmF0Y2hlci9zaGFyZWQvQmF0Y2hHZW9tZXRyeS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvc2hhcmVkL0RlZmF1bHRTaGFkZXIubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9iYXRjaGVyL3NoYXJlZC9EZWZhdWx0QmF0Y2hlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVyL3V0aWxzL2FkZEJpdHMubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci91dGlscy9jb21waWxlSG9va3MubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci91dGlscy9jb21waWxlSW5wdXRzLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvdXRpbHMvY29tcGlsZU91dHB1dHMubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci91dGlscy9pbmplY3RCaXRzLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvY29tcGlsZUhpZ2hTaGFkZXIubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9kZWZhdWx0UHJvZ3JhbVRlbXBsYXRlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvZ2xvYmFsVW5pZm9ybXNCaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlSGlnaFNoYWRlclRvUHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2NvbG9yQml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9sb2NhbFVuaWZvcm1CaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL3RleHR1cmVCaXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9pbml0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHbEJhdGNoQWRhcHRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2RpZFVwbG9hZCA9IGZhbHNlO1xuICAgIHRoaXMuX3RlbXBTdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gIH1cbiAgaW5pdChiYXRjaGVyUGlwZSkge1xuICAgIGJhdGNoZXJQaXBlLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQodGhpcyk7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICB0aGlzLl9kaWRVcGxvYWQgPSBmYWxzZTtcbiAgfVxuICBzdGFydChiYXRjaFBpcGUsIGdlb21ldHJ5LCBzaGFkZXIpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IGJhdGNoUGlwZS5yZW5kZXJlcjtcbiAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIsIHRoaXMuX2RpZFVwbG9hZCk7XG4gICAgcmVuZGVyZXIuc2hhZGVyLnVwZGF0ZVVuaWZvcm1Hcm91cChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtR3JvdXApO1xuICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIHNoYWRlci5nbFByb2dyYW0pO1xuICB9XG4gIGV4ZWN1dGUoYmF0Y2hQaXBlLCBiYXRjaCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gYmF0Y2hQaXBlLnJlbmRlcmVyO1xuICAgIHRoaXMuX2RpZFVwbG9hZCA9IHRydWU7XG4gICAgdGhpcy5fdGVtcFN0YXRlLmJsZW5kTW9kZSA9IGJhdGNoLmJsZW5kTW9kZTtcbiAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5fdGVtcFN0YXRlKTtcbiAgICBjb25zdCB0ZXh0dXJlcyA9IGJhdGNoLnRleHR1cmVzLnRleHR1cmVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2gudGV4dHVyZXMuY291bnQ7IGkrKykge1xuICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmVzW2ldLCBpKTtcbiAgICB9XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhiYXRjaC50b3BvbG9neSwgYmF0Y2guc2l6ZSwgYmF0Y2guc3RhcnQpO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuR2xCYXRjaEFkYXB0b3IuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzQWRhcHRvclxuICBdLFxuICBuYW1lOiBcImJhdGNoXCJcbn07XG5cbmV4cG9ydCB7IEdsQmF0Y2hBZGFwdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbEJhdGNoQWRhcHRvci5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZyYWdUZW1wbGF0ZSA9IFtcbiAgXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcbiAgXCJ2b2lkIG1haW4odm9pZCl7XCIsXG4gIFwiZmxvYXQgdGVzdCA9IDAuMTtcIixcbiAgXCIlZm9ybG9vcCVcIixcbiAgXCJnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7XCIsXG4gIFwifVwiXG5dLmpvaW4oXCJcXG5cIik7XG5mdW5jdGlvbiBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpIHtcbiAgbGV0IHNyYyA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpIHtcbiAgICBpZiAoaSA+IDApIHtcbiAgICAgIHNyYyArPSBcIlxcbmVsc2UgXCI7XG4gICAgfVxuICAgIGlmIChpIDwgbWF4SWZzIC0gMSkge1xuICAgICAgc3JjICs9IGBpZih0ZXN0ID09ICR7aX0uMCl7fWA7XG4gICAgfVxuICB9XG4gIHJldHVybiBzcmM7XG59XG5mdW5jdGlvbiBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKG1heElmcywgZ2wpIHtcbiAgaWYgKG1heElmcyA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmBcIik7XG4gIH1cbiAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gIHRyeSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG4gICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICBtYXhJZnMgPSBtYXhJZnMgLyAyIHwgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcbiAgfVxuICByZXR1cm4gbWF4SWZzO1xufVxuXG5leHBvcnQgeyBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IGdldFRlc3RDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyZXJzL2dsL3NoYWRlci9wcm9ncmFtL2dldFRlc3RDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIH0gZnJvbSAnLi9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IG1heFRleHR1cmVzUGVyQmF0Y2hDYWNoZSA9IG51bGw7XG5mdW5jdGlvbiBnZXRNYXhUZXh0dXJlc1BlckJhdGNoKCkge1xuICBpZiAobWF4VGV4dHVyZXNQZXJCYXRjaENhY2hlKVxuICAgIHJldHVybiBtYXhUZXh0dXJlc1BlckJhdGNoQ2FjaGU7XG4gIGNvbnN0IGdsID0gZ2V0VGVzdENvbnRleHQoKTtcbiAgbWF4VGV4dHVyZXNQZXJCYXRjaENhY2hlID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcbiAgbWF4VGV4dHVyZXNQZXJCYXRjaENhY2hlID0gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihcbiAgICBtYXhUZXh0dXJlc1BlckJhdGNoQ2FjaGUsXG4gICAgZ2xcbiAgKTtcbiAgZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpPy5sb3NlQ29udGV4dCgpO1xuICByZXR1cm4gbWF4VGV4dHVyZXNQZXJCYXRjaENhY2hlO1xufVxuXG5leHBvcnQgeyBnZXRNYXhUZXh0dXJlc1BlckJhdGNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXhSZWNvbW1lbmRlZFRleHR1cmVzLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgZ2V0VGV4dHVyZUJhdGNoQmluZEdyb3VwIH0gZnJvbSAnLi9nZXRUZXh0dXJlQmF0Y2hCaW5kR3JvdXAubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wU3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuY2xhc3MgR3B1QmF0Y2hBZGFwdG9yIHtcbiAgc3RhcnQoYmF0Y2hQaXBlLCBnZW9tZXRyeSwgc2hhZGVyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBiYXRjaFBpcGUucmVuZGVyZXI7XG4gICAgY29uc3QgZW5jb2RlciA9IHJlbmRlcmVyLmVuY29kZXI7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5ncHVQcm9ncmFtO1xuICAgIHRoaXMuX3NoYWRlciA9IHNoYWRlcjtcbiAgICB0aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgIGVuY29kZXIuc2V0R2VvbWV0cnkoZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgIHRlbXBTdGF0ZS5ibGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHJlbmRlcmVyLnBpcGVsaW5lLmdldFBpcGVsaW5lKFxuICAgICAgZ2VvbWV0cnksXG4gICAgICBwcm9ncmFtLFxuICAgICAgdGVtcFN0YXRlXG4gICAgKTtcbiAgICBjb25zdCBnbG9iYWxVbmlmb3Jtc0JpbmRHcm91cCA9IHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLmJpbmRHcm91cDtcbiAgICBlbmNvZGVyLnJlc2V0QmluZEdyb3VwKDEpO1xuICAgIGVuY29kZXIuc2V0QmluZEdyb3VwKDAsIGdsb2JhbFVuaWZvcm1zQmluZEdyb3VwLCBwcm9ncmFtKTtcbiAgfVxuICBleGVjdXRlKGJhdGNoUGlwZSwgYmF0Y2gpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5fc2hhZGVyLmdwdVByb2dyYW07XG4gICAgY29uc3QgcmVuZGVyZXIgPSBiYXRjaFBpcGUucmVuZGVyZXI7XG4gICAgY29uc3QgZW5jb2RlciA9IHJlbmRlcmVyLmVuY29kZXI7XG4gICAgaWYgKCFiYXRjaC5iaW5kR3JvdXApIHtcbiAgICAgIGNvbnN0IHRleHR1cmVCYXRjaCA9IGJhdGNoLnRleHR1cmVzO1xuICAgICAgYmF0Y2guYmluZEdyb3VwID0gZ2V0VGV4dHVyZUJhdGNoQmluZEdyb3VwKHRleHR1cmVCYXRjaC50ZXh0dXJlcywgdGV4dHVyZUJhdGNoLmNvdW50KTtcbiAgICB9XG4gICAgdGVtcFN0YXRlLmJsZW5kTW9kZSA9IGJhdGNoLmJsZW5kTW9kZTtcbiAgICBjb25zdCBncHVCaW5kR3JvdXAgPSByZW5kZXJlci5iaW5kR3JvdXAuZ2V0QmluZEdyb3VwKFxuICAgICAgYmF0Y2guYmluZEdyb3VwLFxuICAgICAgcHJvZ3JhbSxcbiAgICAgIDFcbiAgICApO1xuICAgIGNvbnN0IHBpcGVsaW5lID0gcmVuZGVyZXIucGlwZWxpbmUuZ2V0UGlwZWxpbmUoXG4gICAgICB0aGlzLl9nZW9tZXRyeSxcbiAgICAgIHByb2dyYW0sXG4gICAgICB0ZW1wU3RhdGUsXG4gICAgICBiYXRjaC50b3BvbG9neVxuICAgICk7XG4gICAgYmF0Y2guYmluZEdyb3VwLl90b3VjaChyZW5kZXJlci50ZXh0dXJlR0MuY291bnQpO1xuICAgIGVuY29kZXIuc2V0UGlwZWxpbmUocGlwZWxpbmUpO1xuICAgIGVuY29kZXIucmVuZGVyUGFzc0VuY29kZXIuc2V0QmluZEdyb3VwKDEsIGdwdUJpbmRHcm91cCk7XG4gICAgZW5jb2Rlci5yZW5kZXJQYXNzRW5jb2Rlci5kcmF3SW5kZXhlZChiYXRjaC5zaXplLCAxLCBiYXRjaC5zdGFydCk7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HcHVCYXRjaEFkYXB0b3IuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlc0FkYXB0b3JcbiAgXSxcbiAgbmFtZTogXCJiYXRjaFwiXG59O1xuXG5leHBvcnQgeyBHcHVCYXRjaEFkYXB0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdwdUJhdGNoQWRhcHRvci5tanMubWFwXG4iLCJpbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCB9IGZyb20gJy4uL2dsL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjYWNoZWRHcm91cHMgPSB7fTtcbmZ1bmN0aW9uIGdldFRleHR1cmVCYXRjaEJpbmRHcm91cCh0ZXh0dXJlcywgc2l6ZSkge1xuICBsZXQgdWlkID0gMjE2NjEzNjI2MTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICB1aWQgXj0gdGV4dHVyZXNbaV0udWlkO1xuICAgIHVpZCA9IE1hdGguaW11bCh1aWQsIDE2Nzc3NjE5KTtcbiAgICB1aWQgPj4+PSAwO1xuICB9XG4gIHJldHVybiBjYWNoZWRHcm91cHNbdWlkXSB8fCBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpbmRHcm91cCh0ZXh0dXJlcywgc2l6ZSwgdWlkKTtcbn1cbmxldCBtYXhUZXh0dXJlcyA9IDA7XG5mdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpbmRHcm91cCh0ZXh0dXJlcywgc2l6ZSwga2V5KSB7XG4gIGNvbnN0IGJpbmRHcm91cFJlc291cmNlcyA9IHt9O1xuICBsZXQgYmluZEluZGV4ID0gMDtcbiAgaWYgKCFtYXhUZXh0dXJlcylcbiAgICBtYXhUZXh0dXJlcyA9IGdldE1heFRleHR1cmVzUGVyQmF0Y2goKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IGkgPCBzaXplID8gdGV4dHVyZXNbaV0gOiBUZXh0dXJlLkVNUFRZLnNvdXJjZTtcbiAgICBiaW5kR3JvdXBSZXNvdXJjZXNbYmluZEluZGV4KytdID0gdGV4dHVyZS5zb3VyY2U7XG4gICAgYmluZEdyb3VwUmVzb3VyY2VzW2JpbmRJbmRleCsrXSA9IHRleHR1cmUuc3R5bGU7XG4gIH1cbiAgY29uc3QgYmluZEdyb3VwID0gbmV3IEJpbmRHcm91cChiaW5kR3JvdXBSZXNvdXJjZXMpO1xuICBjYWNoZWRHcm91cHNba2V5XSA9IGJpbmRHcm91cDtcbiAgcmV0dXJuIGJpbmRHcm91cDtcbn1cblxuZXhwb3J0IHsgZ2V0VGV4dHVyZUJhdGNoQmluZEdyb3VwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRUZXh0dXJlQmF0Y2hCaW5kR3JvdXAubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSwgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBEZWZhdWx0QmF0Y2hlciB9IGZyb20gJy4vRGVmYXVsdEJhdGNoZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQmF0Y2hlclBpcGUgPSBjbGFzcyBfQmF0Y2hlclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgYWRhcHRvcikge1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8qKiBBIHJlY29yZCBvZiBhbGwgYWN0aXZlIGJhdGNoZXJzLCBrZXllZCBieSB0aGVpciBuYW1lcyAqL1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fYWRhcHRvci5pbml0Py4odGhpcyk7XG4gIH1cbiAgc3RhdGljIGdldEJhdGNoZXIobmFtZSkge1xuICAgIHJldHVybiBuZXcgdGhpcy5fYXZhaWxhYmxlQmF0Y2hlcnNbbmFtZV0oKTtcbiAgfVxuICBidWlsZFN0YXJ0KGluc3RydWN0aW9uU2V0KSB7XG4gICAgbGV0IGJhdGNoZXJzID0gdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0W2luc3RydWN0aW9uU2V0LnVpZF07XG4gICAgaWYgKCFiYXRjaGVycykge1xuICAgICAgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgYmF0Y2hlcnMuZGVmYXVsdCB8fCAoYmF0Y2hlcnMuZGVmYXVsdCA9IG5ldyBEZWZhdWx0QmF0Y2hlcigpKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IGJhdGNoZXJzO1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoID0gdGhpcy5fYWN0aXZlQmF0Y2hlcy5kZWZhdWx0O1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9hY3RpdmVCYXRjaGVzKSB7XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaGVzW2ldLmJlZ2luKCk7XG4gICAgfVxuICB9XG4gIGFkZFRvQmF0Y2goYmF0Y2hhYmxlT2JqZWN0LCBpbnN0cnVjdGlvblNldCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmVCYXRjaC5uYW1lICE9PSBiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGxldCBiYXRjaCA9IHRoaXMuX2FjdGl2ZUJhdGNoZXNbYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lXTtcbiAgICAgIGlmICghYmF0Y2gpIHtcbiAgICAgICAgYmF0Y2ggPSB0aGlzLl9hY3RpdmVCYXRjaGVzW2JhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZV0gPSBfQmF0Y2hlclBpcGUuZ2V0QmF0Y2hlcihiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWUpO1xuICAgICAgICBiYXRjaC5iZWdpbigpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2ggPSBiYXRjaDtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2guYWRkKGJhdGNoYWJsZU9iamVjdCk7XG4gIH1cbiAgYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuX2FjdGl2ZUJhdGNoZXM7XG4gICAgZm9yIChjb25zdCBpIGluIGJhdGNoZXMpIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2guZ2VvbWV0cnk7XG4gICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5zZXREYXRhV2l0aFNpemUoYmF0Y2guaW5kZXhCdWZmZXIsIGJhdGNoLmluZGV4U2l6ZSwgdHJ1ZSk7XG4gICAgICBnZW9tZXRyeS5idWZmZXJzWzBdLnNldERhdGFXaXRoU2l6ZShiYXRjaC5hdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsIGJhdGNoLmF0dHJpYnV0ZVNpemUsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgdXBsb2FkKGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gYmF0Y2hlcnMpIHtcbiAgICAgIGNvbnN0IGJhdGNoZXIgPSBiYXRjaGVyc1tpXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2hlci5nZW9tZXRyeTtcbiAgICAgIGlmIChiYXRjaGVyLmRpcnR5KSB7XG4gICAgICAgIGJhdGNoZXIuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoYmF0Y2hlci5hdHRyaWJ1dGVTaXplICogNCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUoYmF0Y2gpIHtcbiAgICBpZiAoYmF0Y2guYWN0aW9uID09PSBcInN0YXJ0QmF0Y2hcIikge1xuICAgICAgY29uc3QgYmF0Y2hlciA9IGJhdGNoLmJhdGNoZXI7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGJhdGNoZXIuZ2VvbWV0cnk7XG4gICAgICBjb25zdCBzaGFkZXIgPSBiYXRjaGVyLnNoYWRlcjtcbiAgICAgIHRoaXMuX2FkYXB0b3Iuc3RhcnQodGhpcywgZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgfVxuICAgIHRoaXMuX2FkYXB0b3IuZXhlY3V0ZSh0aGlzLCBiYXRjaCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9hZGFwdG9yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fYWN0aXZlQmF0Y2hlcykge1xuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2hlc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSBudWxsO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9CYXRjaGVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmF0Y2hcIlxufTtcbl9CYXRjaGVyUGlwZS5fYXZhaWxhYmxlQmF0Y2hlcnMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmxldCBCYXRjaGVyUGlwZSA9IF9CYXRjaGVyUGlwZTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlNYXAoRXh0ZW5zaW9uVHlwZS5CYXRjaGVyLCBCYXRjaGVyUGlwZS5fYXZhaWxhYmxlQmF0Y2hlcnMpO1xuZXh0ZW5zaW9ucy5hZGQoRGVmYXVsdEJhdGNoZXIpO1xuXG5leHBvcnQgeyBCYXRjaGVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hlclBpcGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaFRleHR1cmVBcnJheSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBSZXNwZWN0aXZlIGxvY2F0aW9ucyBmb3IgdGV4dHVyZXMuICovXG4gICAgdGhpcy5pZHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnRleHR1cmVzID0gW107XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH1cbiAgLyoqIENsZWFyIHRoZSB0ZXh0dXJlcyBhbmQgdGhlaXIgbG9jYXRpb25zLiAqL1xuICBjbGVhcigpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgdCA9IHRoaXMudGV4dHVyZXNbaV07XG4gICAgICB0aGlzLnRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgIHRoaXMuaWRzW3QudWlkXSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY291bnQgPSAwO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoVGV4dHVyZUFycmF5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaFRleHR1cmVBcnJheS5tanMubWFwXG4iLCJpbXBvcnQgeyB1aWQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kYXRhL3VpZC5tanMnO1xuaW1wb3J0IHsgVmlld2FibGVCdWZmZXIgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kYXRhL1ZpZXdhYmxlQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBmYXN0Q29weSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL3V0aWxzL2Zhc3RDb3B5Lm1qcyc7XG5pbXBvcnQgeyBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBnZXRNYXhUZXh0dXJlc1BlckJhdGNoIH0gZnJvbSAnLi4vZ2wvdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcy5tanMnO1xuaW1wb3J0IHsgQmF0Y2hUZXh0dXJlQXJyYXkgfSBmcm9tICcuL0JhdGNoVGV4dHVyZUFycmF5Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlbmRlclBpcGVJZCA9IFwiYmF0Y2hcIjtcbiAgICB0aGlzLmFjdGlvbiA9IFwic3RhcnRCYXRjaFwiO1xuICAgIC8vIFRPRE8gLSBldmVudHVhbGx5IHRoaXMgY291bGQgYmUgdXNlZnVsIGZvciBmbGFnZ2luZyBiYXRjaGVzIGFzIGRpcnR5IGFuZCB0aGVuIG9ubHkgcmVidWlsZGluZyB0aG9zZSBvbmVzXG4gICAgLy8gcHVibGljIGVsZW1lbnRTdGFydCA9IDA7XG4gICAgLy8gcHVibGljIGVsZW1lbnRTaXplID0gMDtcbiAgICAvLyBmb3IgZHJhd2luZy4uXG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICB0aGlzLnRleHR1cmVzID0gbmV3IEJhdGNoVGV4dHVyZUFycmF5KCk7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMudG9wb2xvZ3kgPSBcInRyaWFuZ2xlLXN0cmlwXCI7XG4gICAgdGhpcy5jYW5CdW5kbGUgPSB0cnVlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgdGhpcy5ncHVCaW5kR3JvdXAgPSBudWxsO1xuICAgIHRoaXMuYmluZEdyb3VwID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoZXIgPSBudWxsO1xuICB9XG59XG5jb25zdCBiYXRjaFBvb2wgPSBbXTtcbmxldCBiYXRjaFBvb2xJbmRleCA9IDA7XG5mdW5jdGlvbiBnZXRCYXRjaEZyb21Qb29sKCkge1xuICByZXR1cm4gYmF0Y2hQb29sSW5kZXggPiAwID8gYmF0Y2hQb29sWy0tYmF0Y2hQb29sSW5kZXhdIDogbmV3IEJhdGNoKCk7XG59XG5mdW5jdGlvbiByZXR1cm5CYXRjaFRvUG9vbChiYXRjaCkge1xuICBiYXRjaFBvb2xbYmF0Y2hQb29sSW5kZXgrK10gPSBiYXRjaDtcbn1cbmxldCBCQVRDSF9USUNLID0gMDtcbmNvbnN0IF9CYXRjaGVyID0gY2xhc3MgX0JhdGNoZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAvKiogdW5pcXVlIGlkIGZvciB0aGlzIGJhdGNoZXIgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcImJhdGNoZXJcIik7XG4gICAgLyoqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBiYXRjaCBkYXRhIGhhcyBiZWVuIG1vZGlmaWVkIGFuZCBuZWVkcyB1cGRhdGluZy4gKi9cbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAvKiogVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGJhdGNoIGJlaW5nIHByb2Nlc3NlZC4gKi9cbiAgICB0aGlzLmJhdGNoSW5kZXggPSAwO1xuICAgIC8qKiBBbiBhcnJheSBvZiBhbGwgYmF0Y2hlcyBjcmVhdGVkIGR1cmluZyB0aGUgY3VycmVudCByZW5kZXJpbmcgcHJvY2Vzcy4gKi9cbiAgICB0aGlzLmJhdGNoZXMgPSBbXTtcbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgIF9CYXRjaGVyLmRlZmF1bHRPcHRpb25zLm1heFRleHR1cmVzID0gX0JhdGNoZXIuZGVmYXVsdE9wdGlvbnMubWF4VGV4dHVyZXMgPz8gZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCgpO1xuICAgIG9wdGlvbnMgPSB7IC4uLl9CYXRjaGVyLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgeyBtYXhUZXh0dXJlcywgYXR0cmlidXRlc0luaXRpYWxTaXplLCBpbmRpY2VzSW5pdGlhbFNpemUgfSA9IG9wdGlvbnM7XG4gICAgdGhpcy5hdHRyaWJ1dGVCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIoYXR0cmlidXRlc0luaXRpYWxTaXplICogNCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzSW5pdGlhbFNpemUpO1xuICAgIHRoaXMubWF4VGV4dHVyZXMgPSBtYXhUZXh0dXJlcztcbiAgfVxuICBiZWdpbigpIHtcbiAgICB0aGlzLmVsZW1lbnRTaXplID0gMDtcbiAgICB0aGlzLmVsZW1lbnRTdGFydCA9IDA7XG4gICAgdGhpcy5pbmRleFNpemUgPSAwO1xuICAgIHRoaXMuYXR0cmlidXRlU2l6ZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoSW5kZXg7IGkrKykge1xuICAgICAgcmV0dXJuQmF0Y2hUb1Bvb2wodGhpcy5iYXRjaGVzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5iYXRjaEluZGV4ID0gMDtcbiAgICB0aGlzLl9iYXRjaEluZGV4U3RhcnQgPSAwO1xuICAgIHRoaXMuX2JhdGNoSW5kZXhTaXplID0gMDtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBhZGQoYmF0Y2hhYmxlT2JqZWN0KSB7XG4gICAgdGhpcy5fZWxlbWVudHNbdGhpcy5lbGVtZW50U2l6ZSsrXSA9IGJhdGNoYWJsZU9iamVjdDtcbiAgICBiYXRjaGFibGVPYmplY3QuX2luZGV4U3RhcnQgPSB0aGlzLmluZGV4U2l6ZTtcbiAgICBiYXRjaGFibGVPYmplY3QuX2F0dHJpYnV0ZVN0YXJ0ID0gdGhpcy5hdHRyaWJ1dGVTaXplO1xuICAgIGJhdGNoYWJsZU9iamVjdC5fYmF0Y2hlciA9IHRoaXM7XG4gICAgdGhpcy5pbmRleFNpemUgKz0gYmF0Y2hhYmxlT2JqZWN0LmluZGV4U2l6ZTtcbiAgICB0aGlzLmF0dHJpYnV0ZVNpemUgKz0gYmF0Y2hhYmxlT2JqZWN0LmF0dHJpYnV0ZVNpemUgKiB0aGlzLnZlcnRleFNpemU7XG4gIH1cbiAgY2hlY2tBbmRVcGRhdGVUZXh0dXJlKGJhdGNoYWJsZU9iamVjdCwgdGV4dHVyZSkge1xuICAgIGNvbnN0IHRleHR1cmVJZCA9IGJhdGNoYWJsZU9iamVjdC5fYmF0Y2gudGV4dHVyZXMuaWRzW3RleHR1cmUuX3NvdXJjZS51aWRdO1xuICAgIGlmICghdGV4dHVyZUlkICYmIHRleHR1cmVJZCAhPT0gMClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBiYXRjaGFibGVPYmplY3QuX3RleHR1cmVJZCA9IHRleHR1cmVJZDtcbiAgICBiYXRjaGFibGVPYmplY3QudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdXBkYXRlRWxlbWVudChiYXRjaGFibGVPYmplY3QpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmF0dHJpYnV0ZUJ1ZmZlcjtcbiAgICBpZiAoYmF0Y2hhYmxlT2JqZWN0LnBhY2tBc1F1YWQpIHtcbiAgICAgIHRoaXMucGFja1F1YWRBdHRyaWJ1dGVzKFxuICAgICAgICBiYXRjaGFibGVPYmplY3QsXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldyxcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcsXG4gICAgICAgIGJhdGNoYWJsZU9iamVjdC5fYXR0cmlidXRlU3RhcnQsXG4gICAgICAgIGJhdGNoYWJsZU9iamVjdC5fdGV4dHVyZUlkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKFxuICAgICAgICBiYXRjaGFibGVPYmplY3QsXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldyxcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcsXG4gICAgICAgIGJhdGNoYWJsZU9iamVjdC5fYXR0cmlidXRlU3RhcnQsXG4gICAgICAgIGJhdGNoYWJsZU9iamVjdC5fdGV4dHVyZUlkXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogYnJlYWtzIHRoZSBiYXRjaGVyLiBUaGlzIGhhcHBlbnMgd2hlbiBhIGJhdGNoIGdldHMgdG9vIGJpZyxcbiAgICogb3Igd2UgbmVlZCB0byBzd2l0Y2ggdG8gYSBkaWZmZXJlbnQgdHlwZSBvZiByZW5kZXJpbmcgKGEgZmlsdGVyIGZvciBleGFtcGxlKVxuICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25TZXRcbiAgICovXG4gIGJyZWFrKGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLl9lbGVtZW50cztcbiAgICBpZiAoIWVsZW1lbnRzW3RoaXMuZWxlbWVudFN0YXJ0XSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgYmF0Y2ggPSBnZXRCYXRjaEZyb21Qb29sKCk7XG4gICAgbGV0IHRleHR1cmVCYXRjaCA9IGJhdGNoLnRleHR1cmVzO1xuICAgIHRleHR1cmVCYXRjaC5jbGVhcigpO1xuICAgIGNvbnN0IGZpcnN0RWxlbWVudCA9IGVsZW1lbnRzW3RoaXMuZWxlbWVudFN0YXJ0XTtcbiAgICBsZXQgYmxlbmRNb2RlID0gZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZChmaXJzdEVsZW1lbnQuYmxlbmRNb2RlLCBmaXJzdEVsZW1lbnQudGV4dHVyZS5fc291cmNlKTtcbiAgICBsZXQgdG9wb2xvZ3kgPSBmaXJzdEVsZW1lbnQudG9wb2xvZ3k7XG4gICAgaWYgKHRoaXMuYXR0cmlidXRlU2l6ZSAqIDQgPiB0aGlzLmF0dHJpYnV0ZUJ1ZmZlci5zaXplKSB7XG4gICAgICB0aGlzLl9yZXNpemVBdHRyaWJ1dGVCdWZmZXIodGhpcy5hdHRyaWJ1dGVTaXplICogNCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmluZGV4U2l6ZSA+IHRoaXMuaW5kZXhCdWZmZXIubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9yZXNpemVJbmRleEJ1ZmZlcih0aGlzLmluZGV4U2l6ZSk7XG4gICAgfVxuICAgIGNvbnN0IGYzMiA9IHRoaXMuYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgIGNvbnN0IHUzMiA9IHRoaXMuYXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXc7XG4gICAgY29uc3QgaW5kZXhCdWZmZXIgPSB0aGlzLmluZGV4QnVmZmVyO1xuICAgIGxldCBzaXplID0gdGhpcy5fYmF0Y2hJbmRleFNpemU7XG4gICAgbGV0IHN0YXJ0ID0gdGhpcy5fYmF0Y2hJbmRleFN0YXJ0O1xuICAgIGxldCBhY3Rpb24gPSBcInN0YXJ0QmF0Y2hcIjtcbiAgICBjb25zdCBtYXhUZXh0dXJlcyA9IHRoaXMubWF4VGV4dHVyZXM7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZWxlbWVudFN0YXJ0OyBpIDwgdGhpcy5lbGVtZW50U2l6ZTsgKytpKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICBjb25zdCB0ZXh0dXJlID0gZWxlbWVudC50ZXh0dXJlO1xuICAgICAgY29uc3Qgc291cmNlID0gdGV4dHVyZS5fc291cmNlO1xuICAgICAgY29uc3QgYWRqdXN0ZWRCbGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKGVsZW1lbnQuYmxlbmRNb2RlLCBzb3VyY2UpO1xuICAgICAgY29uc3QgYnJlYWtSZXF1aXJlZCA9IGJsZW5kTW9kZSAhPT0gYWRqdXN0ZWRCbGVuZE1vZGUgfHwgdG9wb2xvZ3kgIT09IGVsZW1lbnQudG9wb2xvZ3k7XG4gICAgICBpZiAoc291cmNlLl9iYXRjaFRpY2sgPT09IEJBVENIX1RJQ0sgJiYgIWJyZWFrUmVxdWlyZWQpIHtcbiAgICAgICAgZWxlbWVudC5fdGV4dHVyZUlkID0gc291cmNlLl90ZXh0dXJlQmluZExvY2F0aW9uO1xuICAgICAgICBzaXplICs9IGVsZW1lbnQuaW5kZXhTaXplO1xuICAgICAgICBpZiAoZWxlbWVudC5wYWNrQXNRdWFkKSB7XG4gICAgICAgICAgdGhpcy5wYWNrUXVhZEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgZjMyLFxuICAgICAgICAgICAgdTMyLFxuICAgICAgICAgICAgZWxlbWVudC5fYXR0cmlidXRlU3RhcnQsXG4gICAgICAgICAgICBlbGVtZW50Ll90ZXh0dXJlSWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucGFja1F1YWRJbmRleChcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLFxuICAgICAgICAgICAgZWxlbWVudC5faW5kZXhTdGFydCxcbiAgICAgICAgICAgIGVsZW1lbnQuX2F0dHJpYnV0ZVN0YXJ0IC8gdGhpcy52ZXJ0ZXhTaXplXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIGYzMixcbiAgICAgICAgICAgIHUzMixcbiAgICAgICAgICAgIGVsZW1lbnQuX2F0dHJpYnV0ZVN0YXJ0LFxuICAgICAgICAgICAgZWxlbWVudC5fdGV4dHVyZUlkXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnBhY2tJbmRleChcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICBpbmRleEJ1ZmZlcixcbiAgICAgICAgICAgIGVsZW1lbnQuX2luZGV4U3RhcnQsXG4gICAgICAgICAgICBlbGVtZW50Ll9hdHRyaWJ1dGVTdGFydCAvIHRoaXMudmVydGV4U2l6ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5fYmF0Y2ggPSBiYXRjaDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzb3VyY2UuX2JhdGNoVGljayA9IEJBVENIX1RJQ0s7XG4gICAgICBpZiAodGV4dHVyZUJhdGNoLmNvdW50ID49IG1heFRleHR1cmVzIHx8IGJyZWFrUmVxdWlyZWQpIHtcbiAgICAgICAgdGhpcy5fZmluaXNoQmF0Y2goXG4gICAgICAgICAgYmF0Y2gsXG4gICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgc2l6ZSAtIHN0YXJ0LFxuICAgICAgICAgIHRleHR1cmVCYXRjaCxcbiAgICAgICAgICBibGVuZE1vZGUsXG4gICAgICAgICAgdG9wb2xvZ3ksXG4gICAgICAgICAgaW5zdHJ1Y3Rpb25TZXQsXG4gICAgICAgICAgYWN0aW9uXG4gICAgICAgICk7XG4gICAgICAgIGFjdGlvbiA9IFwicmVuZGVyQmF0Y2hcIjtcbiAgICAgICAgc3RhcnQgPSBzaXplO1xuICAgICAgICBibGVuZE1vZGUgPSBhZGp1c3RlZEJsZW5kTW9kZTtcbiAgICAgICAgdG9wb2xvZ3kgPSBlbGVtZW50LnRvcG9sb2d5O1xuICAgICAgICBiYXRjaCA9IGdldEJhdGNoRnJvbVBvb2woKTtcbiAgICAgICAgdGV4dHVyZUJhdGNoID0gYmF0Y2gudGV4dHVyZXM7XG4gICAgICAgIHRleHR1cmVCYXRjaC5jbGVhcigpO1xuICAgICAgICArK0JBVENIX1RJQ0s7XG4gICAgICB9XG4gICAgICBlbGVtZW50Ll90ZXh0dXJlSWQgPSBzb3VyY2UuX3RleHR1cmVCaW5kTG9jYXRpb24gPSB0ZXh0dXJlQmF0Y2guY291bnQ7XG4gICAgICB0ZXh0dXJlQmF0Y2guaWRzW3NvdXJjZS51aWRdID0gdGV4dHVyZUJhdGNoLmNvdW50O1xuICAgICAgdGV4dHVyZUJhdGNoLnRleHR1cmVzW3RleHR1cmVCYXRjaC5jb3VudCsrXSA9IHNvdXJjZTtcbiAgICAgIGVsZW1lbnQuX2JhdGNoID0gYmF0Y2g7XG4gICAgICBzaXplICs9IGVsZW1lbnQuaW5kZXhTaXplO1xuICAgICAgaWYgKGVsZW1lbnQucGFja0FzUXVhZCkge1xuICAgICAgICB0aGlzLnBhY2tRdWFkQXR0cmlidXRlcyhcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIGYzMixcbiAgICAgICAgICB1MzIsXG4gICAgICAgICAgZWxlbWVudC5fYXR0cmlidXRlU3RhcnQsXG4gICAgICAgICAgZWxlbWVudC5fdGV4dHVyZUlkXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucGFja1F1YWRJbmRleChcbiAgICAgICAgICBpbmRleEJ1ZmZlcixcbiAgICAgICAgICBlbGVtZW50Ll9pbmRleFN0YXJ0LFxuICAgICAgICAgIGVsZW1lbnQuX2F0dHJpYnV0ZVN0YXJ0IC8gdGhpcy52ZXJ0ZXhTaXplXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgZjMyLFxuICAgICAgICAgIHUzMixcbiAgICAgICAgICBlbGVtZW50Ll9hdHRyaWJ1dGVTdGFydCxcbiAgICAgICAgICBlbGVtZW50Ll90ZXh0dXJlSWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wYWNrSW5kZXgoXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICBpbmRleEJ1ZmZlcixcbiAgICAgICAgICBlbGVtZW50Ll9pbmRleFN0YXJ0LFxuICAgICAgICAgIGVsZW1lbnQuX2F0dHJpYnV0ZVN0YXJ0IC8gdGhpcy52ZXJ0ZXhTaXplXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ZXh0dXJlQmF0Y2guY291bnQgPiAwKSB7XG4gICAgICB0aGlzLl9maW5pc2hCYXRjaChcbiAgICAgICAgYmF0Y2gsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBzaXplIC0gc3RhcnQsXG4gICAgICAgIHRleHR1cmVCYXRjaCxcbiAgICAgICAgYmxlbmRNb2RlLFxuICAgICAgICB0b3BvbG9neSxcbiAgICAgICAgaW5zdHJ1Y3Rpb25TZXQsXG4gICAgICAgIGFjdGlvblxuICAgICAgKTtcbiAgICAgIHN0YXJ0ID0gc2l6ZTtcbiAgICAgICsrQkFUQ0hfVElDSztcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50U3RhcnQgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIHRoaXMuX2JhdGNoSW5kZXhTdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuX2JhdGNoSW5kZXhTaXplID0gc2l6ZTtcbiAgfVxuICBfZmluaXNoQmF0Y2goYmF0Y2gsIGluZGV4U3RhcnQsIGluZGV4U2l6ZSwgdGV4dHVyZUJhdGNoLCBibGVuZE1vZGUsIHRvcG9sb2d5LCBpbnN0cnVjdGlvblNldCwgYWN0aW9uKSB7XG4gICAgYmF0Y2guZ3B1QmluZEdyb3VwID0gbnVsbDtcbiAgICBiYXRjaC5iaW5kR3JvdXAgPSBudWxsO1xuICAgIGJhdGNoLmFjdGlvbiA9IGFjdGlvbjtcbiAgICBiYXRjaC5iYXRjaGVyID0gdGhpcztcbiAgICBiYXRjaC50ZXh0dXJlcyA9IHRleHR1cmVCYXRjaDtcbiAgICBiYXRjaC5ibGVuZE1vZGUgPSBibGVuZE1vZGU7XG4gICAgYmF0Y2gudG9wb2xvZ3kgPSB0b3BvbG9neTtcbiAgICBiYXRjaC5zdGFydCA9IGluZGV4U3RhcnQ7XG4gICAgYmF0Y2guc2l6ZSA9IGluZGV4U2l6ZTtcbiAgICArK0JBVENIX1RJQ0s7XG4gICAgdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hJbmRleCsrXSA9IGJhdGNoO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChiYXRjaCk7XG4gIH1cbiAgZmluaXNoKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIGF0dHJpYnV0ZSBidWZmZXIgdG8gdGhlIGdpdmVuIHNpemUgKDEgPSAxIGZsb2F0MzIpXG4gICAqIEBwYXJhbSBzaXplIC0gdGhlIHNpemUgaW4gdmVydGljZXMgdG8gZW5zdXJlIChub3QgYnl0ZXMhKVxuICAgKi9cbiAgZW5zdXJlQXR0cmlidXRlQnVmZmVyKHNpemUpIHtcbiAgICBpZiAoc2l6ZSAqIDQgPD0gdGhpcy5hdHRyaWJ1dGVCdWZmZXIuc2l6ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl9yZXNpemVBdHRyaWJ1dGVCdWZmZXIoc2l6ZSAqIDQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBpbmRleCBidWZmZXIgdG8gdGhlIGdpdmVuIHNpemUgKDEgPSAxIGZsb2F0MzIpXG4gICAqIEBwYXJhbSBzaXplIC0gdGhlIHNpemUgaW4gdmVydGljZXMgdG8gZW5zdXJlIChub3QgYnl0ZXMhKVxuICAgKi9cbiAgZW5zdXJlSW5kZXhCdWZmZXIoc2l6ZSkge1xuICAgIGlmIChzaXplIDw9IHRoaXMuaW5kZXhCdWZmZXIubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX3Jlc2l6ZUluZGV4QnVmZmVyKHNpemUpO1xuICB9XG4gIF9yZXNpemVBdHRyaWJ1dGVCdWZmZXIoc2l6ZSkge1xuICAgIGNvbnN0IG5ld1NpemUgPSBNYXRoLm1heChzaXplLCB0aGlzLmF0dHJpYnV0ZUJ1ZmZlci5zaXplICogMik7XG4gICAgY29uc3QgbmV3QXJyYXlCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIobmV3U2l6ZSk7XG4gICAgZmFzdENvcHkodGhpcy5hdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSwgbmV3QXJyYXlCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgdGhpcy5hdHRyaWJ1dGVCdWZmZXIgPSBuZXdBcnJheUJ1ZmZlcjtcbiAgfVxuICBfcmVzaXplSW5kZXhCdWZmZXIoc2l6ZSkge1xuICAgIGNvbnN0IGluZGV4QnVmZmVyID0gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICBsZXQgbmV3U2l6ZSA9IE1hdGgubWF4KHNpemUsIGluZGV4QnVmZmVyLmxlbmd0aCAqIDEuNSk7XG4gICAgbmV3U2l6ZSArPSBuZXdTaXplICUgMjtcbiAgICBjb25zdCBuZXdJbmRleEJ1ZmZlciA9IG5ld1NpemUgPiA2NTUzNSA/IG5ldyBVaW50MzJBcnJheShuZXdTaXplKSA6IG5ldyBVaW50MTZBcnJheShuZXdTaXplKTtcbiAgICBpZiAobmV3SW5kZXhCdWZmZXIuQllURVNfUEVSX0VMRU1FTlQgIT09IGluZGV4QnVmZmVyLkJZVEVTX1BFUl9FTEVNRU5UKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4QnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld0luZGV4QnVmZmVyW2ldID0gaW5kZXhCdWZmZXJbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZhc3RDb3B5KGluZGV4QnVmZmVyLmJ1ZmZlciwgbmV3SW5kZXhCdWZmZXIuYnVmZmVyKTtcbiAgICB9XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ld0luZGV4QnVmZmVyO1xuICB9XG4gIHBhY2tRdWFkSW5kZXgoaW5kZXhCdWZmZXIsIGluZGV4LCBpbmRpY2VzT2Zmc2V0KSB7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXhdID0gaW5kaWNlc09mZnNldCArIDA7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXggKyAxXSA9IGluZGljZXNPZmZzZXQgKyAxO1xuICAgIGluZGV4QnVmZmVyW2luZGV4ICsgMl0gPSBpbmRpY2VzT2Zmc2V0ICsgMjtcbiAgICBpbmRleEJ1ZmZlcltpbmRleCArIDNdID0gaW5kaWNlc09mZnNldCArIDA7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXggKyA0XSA9IGluZGljZXNPZmZzZXQgKyAyO1xuICAgIGluZGV4QnVmZmVyW2luZGV4ICsgNV0gPSBpbmRpY2VzT2Zmc2V0ICsgMztcbiAgfVxuICBwYWNrSW5kZXgoZWxlbWVudCwgaW5kZXhCdWZmZXIsIGluZGV4LCBpbmRpY2VzT2Zmc2V0KSB7XG4gICAgY29uc3QgaW5kaWNlcyA9IGVsZW1lbnQuaW5kaWNlcztcbiAgICBjb25zdCBzaXplID0gZWxlbWVudC5pbmRleFNpemU7XG4gICAgY29uc3QgaW5kZXhPZmZzZXQgPSBlbGVtZW50LmluZGV4T2Zmc2V0O1xuICAgIGNvbnN0IGF0dHJpYnV0ZU9mZnNldCA9IGVsZW1lbnQuYXR0cmlidXRlT2Zmc2V0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBpbmRleEJ1ZmZlcltpbmRleCsrXSA9IGluZGljZXNPZmZzZXQgKyBpbmRpY2VzW2kgKyBpbmRleE9mZnNldF0gLSBhdHRyaWJ1dGVPZmZzZXQ7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldHVybkJhdGNoVG9Qb29sKHRoaXMuYmF0Y2hlc1tpXSk7XG4gICAgfVxuICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fZWxlbWVudHNbaV0uX2JhdGNoID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fZWxlbWVudHMgPSBudWxsO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmF0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gIH1cbn07XG5fQmF0Y2hlci5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgbWF4VGV4dHVyZXM6IG51bGwsXG4gIGF0dHJpYnV0ZXNJbml0aWFsU2l6ZTogNCxcbiAgaW5kaWNlc0luaXRpYWxTaXplOiA2XG59O1xubGV0IEJhdGNoZXIgPSBfQmF0Y2hlcjtcblxuZXhwb3J0IHsgQmF0Y2gsIEJhdGNoZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC9idWZmZXIvQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXJVc2FnZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBwbGFjZUhvbGRlckJ1ZmZlckRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuY29uc3QgcGxhY2VIb2xkZXJJbmRleERhdGEgPSBuZXcgVWludDMyQXJyYXkoMSk7XG5jbGFzcyBCYXRjaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCB2ZXJ0ZXhTaXplID0gNjtcbiAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IHBsYWNlSG9sZGVyQnVmZmVyRGF0YSxcbiAgICAgIGxhYmVsOiBcImF0dHJpYnV0ZS1iYXRjaC1idWZmZXJcIixcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5WRVJURVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVCxcbiAgICAgIHNocmlua1RvRml0OiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBwbGFjZUhvbGRlckluZGV4RGF0YSxcbiAgICAgIGxhYmVsOiBcImluZGV4LWJhdGNoLWJ1ZmZlclwiLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLklOREVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgICAvLyB8IEJ1ZmZlclVzYWdlLlNUQVRJQyxcbiAgICAgIHNocmlua1RvRml0OiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IHN0cmlkZSA9IHZlcnRleFNpemUgKiA0O1xuICAgIHN1cGVyKHtcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgYVBvc2l0aW9uOiB7XG4gICAgICAgICAgYnVmZmVyOiBhdHRyaWJ1dGVCdWZmZXIsXG4gICAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4MlwiLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBvZmZzZXQ6IDBcbiAgICAgICAgfSxcbiAgICAgICAgYVVWOiB7XG4gICAgICAgICAgYnVmZmVyOiBhdHRyaWJ1dGVCdWZmZXIsXG4gICAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4MlwiLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBvZmZzZXQ6IDIgKiA0XG4gICAgICAgIH0sXG4gICAgICAgIGFDb2xvcjoge1xuICAgICAgICAgIGJ1ZmZlcjogYXR0cmlidXRlQnVmZmVyLFxuICAgICAgICAgIGZvcm1hdDogXCJ1bm9ybTh4NFwiLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBvZmZzZXQ6IDQgKiA0XG4gICAgICAgIH0sXG4gICAgICAgIGFUZXh0dXJlSWRBbmRSb3VuZDoge1xuICAgICAgICAgIGJ1ZmZlcjogYXR0cmlidXRlQnVmZmVyLFxuICAgICAgICAgIGZvcm1hdDogXCJ1aW50MTZ4MlwiLFxuICAgICAgICAgIHN0cmlkZSxcbiAgICAgICAgICBvZmZzZXQ6IDUgKiA0XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmRleEJ1ZmZlclxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoR2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0sIGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uL2hpZ2gtc2hhZGVyL2NvbXBpbGVIaWdoU2hhZGVyVG9Qcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBjb2xvckJpdEdsLCBjb2xvckJpdCB9IGZyb20gJy4uLy4uL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2NvbG9yQml0Lm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsLCBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdCB9IGZyb20gJy4uLy4uL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2dlbmVyYXRlVGV4dHVyZUJhdGNoQml0Lm1qcyc7XG5pbXBvcnQgeyByb3VuZFBpeGVsc0JpdEdsLCByb3VuZFBpeGVsc0JpdCB9IGZyb20gJy4uLy4uL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL3JvdW5kUGl4ZWxzQml0Lm1qcyc7XG5pbXBvcnQgeyBnZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL2dsL3NoYWRlci9nZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9TaGFkZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBEZWZhdWx0U2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IobWF4VGV4dHVyZXMpIHtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcImJhdGNoXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGNvbG9yQml0R2wsXG4gICAgICAgIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wobWF4VGV4dHVyZXMpLFxuICAgICAgICByb3VuZFBpeGVsc0JpdEdsXG4gICAgICBdXG4gICAgfSk7XG4gICAgY29uc3QgZ3B1UHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcImJhdGNoXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGNvbG9yQml0LFxuICAgICAgICBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdChtYXhUZXh0dXJlcyksXG4gICAgICAgIHJvdW5kUGl4ZWxzQml0XG4gICAgICBdXG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICBiYXRjaFNhbXBsZXJzOiBnZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwKG1heFRleHR1cmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IERlZmF1bHRTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRTaGFkZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmF0Y2hlciB9IGZyb20gJy4vQmF0Y2hlci5tanMnO1xuaW1wb3J0IHsgQmF0Y2hHZW9tZXRyeSB9IGZyb20gJy4vQmF0Y2hHZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgRGVmYXVsdFNoYWRlciB9IGZyb20gJy4vRGVmYXVsdFNoYWRlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBkZWZhdWx0U2hhZGVyID0gbnVsbDtcbmNvbnN0IF9EZWZhdWx0QmF0Y2hlciA9IGNsYXNzIF9EZWZhdWx0QmF0Y2hlciBleHRlbmRzIEJhdGNoZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgQmF0Y2hHZW9tZXRyeSgpO1xuICAgIHRoaXMuc2hhZGVyID0gZGVmYXVsdFNoYWRlciB8fCAoZGVmYXVsdFNoYWRlciA9IG5ldyBEZWZhdWx0U2hhZGVyKHRoaXMubWF4VGV4dHVyZXMpKTtcbiAgICB0aGlzLm5hbWUgPSBfRGVmYXVsdEJhdGNoZXIuZXh0ZW5zaW9uLm5hbWU7XG4gICAgLyoqIFRoZSBzaXplIG9mIG9uZSBhdHRyaWJ1dGUuIDEgPSAzMiBiaXQuIHgsIHksIHUsIHYsIGNvbG9yLCB0ZXh0dXJlSWRBbmRSb3VuZCAtPiB0b3RhbCA9IDYgKi9cbiAgICB0aGlzLnZlcnRleFNpemUgPSA2O1xuICB9XG4gIC8qKlxuICAgKiBQYWNrcyB0aGUgYXR0cmlidXRlcyBvZiBhIERlZmF1bHRCYXRjaGFibGVNZXNoRWxlbWVudCBpbnRvIHRoZSBwcm92aWRlZCB2aWV3cy5cbiAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgRGVmYXVsdEJhdGNoYWJsZU1lc2hFbGVtZW50IHRvIHBhY2suXG4gICAqIEBwYXJhbSBmbG9hdDMyVmlldyAtIFRoZSBGbG9hdDMyQXJyYXkgdmlldyB0byBwYWNrIGludG8uXG4gICAqIEBwYXJhbSB1aW50MzJWaWV3IC0gVGhlIFVpbnQzMkFycmF5IHZpZXcgdG8gcGFjayBpbnRvLlxuICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgc3RhcnRpbmcgaW5kZXggaW4gdGhlIHZpZXdzLlxuICAgKiBAcGFyYW0gdGV4dHVyZUlkIC0gVGhlIHRleHR1cmUgSUQgdG8gdXNlLlxuICAgKi9cbiAgcGFja0F0dHJpYnV0ZXMoZWxlbWVudCwgZmxvYXQzMlZpZXcsIHVpbnQzMlZpZXcsIGluZGV4LCB0ZXh0dXJlSWQpIHtcbiAgICBjb25zdCB0ZXh0dXJlSWRBbmRSb3VuZCA9IHRleHR1cmVJZCA8PCAxNiB8IGVsZW1lbnQucm91bmRQaXhlbHMgJiA2NTUzNTtcbiAgICBjb25zdCB3dCA9IGVsZW1lbnQudHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCB7IHBvc2l0aW9ucywgdXZzIH0gPSBlbGVtZW50O1xuICAgIGNvbnN0IGFyZ2IgPSBlbGVtZW50LmNvbG9yO1xuICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnQuYXR0cmlidXRlT2Zmc2V0O1xuICAgIGNvbnN0IGVuZCA9IG9mZnNldCArIGVsZW1lbnQuYXR0cmlidXRlU2l6ZTtcbiAgICBmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIGNvbnN0IGkyID0gaSAqIDI7XG4gICAgICBjb25zdCB4ID0gcG9zaXRpb25zW2kyXTtcbiAgICAgIGNvbnN0IHkgPSBwb3NpdGlvbnNbaTIgKyAxXTtcbiAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gYSAqIHggKyBjICogeSArIHR4O1xuICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSBkICogeSArIGIgKiB4ICsgdHk7XG4gICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHV2c1tpMl07XG4gICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHV2c1tpMiArIDFdO1xuICAgICAgdWludDMyVmlld1tpbmRleCsrXSA9IGFyZ2I7XG4gICAgICB1aW50MzJWaWV3W2luZGV4KytdID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYWNrcyB0aGUgYXR0cmlidXRlcyBvZiBhIERlZmF1bHRCYXRjaGFibGVRdWFkRWxlbWVudCBpbnRvIHRoZSBwcm92aWRlZCB2aWV3cy5cbiAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgRGVmYXVsdEJhdGNoYWJsZVF1YWRFbGVtZW50IHRvIHBhY2suXG4gICAqIEBwYXJhbSBmbG9hdDMyVmlldyAtIFRoZSBGbG9hdDMyQXJyYXkgdmlldyB0byBwYWNrIGludG8uXG4gICAqIEBwYXJhbSB1aW50MzJWaWV3IC0gVGhlIFVpbnQzMkFycmF5IHZpZXcgdG8gcGFjayBpbnRvLlxuICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgc3RhcnRpbmcgaW5kZXggaW4gdGhlIHZpZXdzLlxuICAgKiBAcGFyYW0gdGV4dHVyZUlkIC0gVGhlIHRleHR1cmUgSUQgdG8gdXNlLlxuICAgKi9cbiAgcGFja1F1YWRBdHRyaWJ1dGVzKGVsZW1lbnQsIGZsb2F0MzJWaWV3LCB1aW50MzJWaWV3LCBpbmRleCwgdGV4dHVyZUlkKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IGVsZW1lbnQudGV4dHVyZTtcbiAgICBjb25zdCB3dCA9IGVsZW1lbnQudHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCBib3VuZHMgPSBlbGVtZW50LmJvdW5kcztcbiAgICBjb25zdCB3MCA9IGJvdW5kcy5tYXhYO1xuICAgIGNvbnN0IHcxID0gYm91bmRzLm1pblg7XG4gICAgY29uc3QgaDAgPSBib3VuZHMubWF4WTtcbiAgICBjb25zdCBoMSA9IGJvdW5kcy5taW5ZO1xuICAgIGNvbnN0IHV2cyA9IHRleHR1cmUudXZzO1xuICAgIGNvbnN0IGFyZ2IgPSBlbGVtZW50LmNvbG9yO1xuICAgIGNvbnN0IHRleHR1cmVJZEFuZFJvdW5kID0gdGV4dHVyZUlkIDw8IDE2IHwgZWxlbWVudC5yb3VuZFBpeGVscyAmIDY1NTM1O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDFdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAyXSA9IHV2cy54MDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDNdID0gdXZzLnkwO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyA0XSA9IGFyZ2I7XG4gICAgdWludDMyVmlld1tpbmRleCArIDVdID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9IGEgKiB3MCArIGMgKiBoMSArIHR4O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgN10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDhdID0gdXZzLngxO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgOV0gPSB1dnMueTE7XG4gICAgdWludDMyVmlld1tpbmRleCArIDEwXSA9IGFyZ2I7XG4gICAgdWludDMyVmlld1tpbmRleCArIDExXSA9IHRleHR1cmVJZEFuZFJvdW5kO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTJdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxM10gPSBkICogaDAgKyBiICogdzAgKyB0eTtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE0XSA9IHV2cy54MjtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHV2cy55MjtcbiAgICB1aW50MzJWaWV3W2luZGV4ICsgMTZdID0gYXJnYjtcbiAgICB1aW50MzJWaWV3W2luZGV4ICsgMTddID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxOF0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE5XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMjBdID0gdXZzLngzO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMjFdID0gdXZzLnkzO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyMl0gPSBhcmdiO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyM10gPSB0ZXh0dXJlSWRBbmRSb3VuZDtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fRGVmYXVsdEJhdGNoZXIuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5CYXRjaGVyXG4gIF0sXG4gIG5hbWU6IFwiZGVmYXVsdFwiXG59O1xubGV0IERlZmF1bHRCYXRjaGVyID0gX0RlZmF1bHRCYXRjaGVyO1xuXG5leHBvcnQgeyBEZWZhdWx0QmF0Y2hlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdEJhdGNoZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGFkZEJpdHMoc3JjUGFydHMsIHBhcnRzLCBuYW1lKSB7XG4gIGlmIChzcmNQYXJ0cykge1xuICAgIGZvciAoY29uc3QgaSBpbiBzcmNQYXJ0cykge1xuICAgICAgY29uc3QgaWQgPSBpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaWRdO1xuICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgbGV0IHNhbml0aXNlZFBhcnQgPSBzcmNQYXJ0c1tpXTtcbiAgICAgICAgaWYgKGkgPT09IFwiaGVhZGVyXCIpIHtcbiAgICAgICAgICBzYW5pdGlzZWRQYXJ0ID0gc2FuaXRpc2VkUGFydC5yZXBsYWNlKC9AaW5cXHMrW147XSs7XFxzKi9nLCBcIlwiKS5yZXBsYWNlKC9Ab3V0XFxzK1teO10rO1xccyovZywgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICBwYXJ0LnB1c2goYC8vLS0tLSR7bmFtZX0tLS0tLy9gKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0LnB1c2goc2FuaXRpc2VkUGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuKGAke2l9IHBsYWNlbWVudCBob29rIGRvZXMgbm90IGV4aXN0IGluIHNoYWRlcmApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBhZGRCaXRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGRCaXRzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZmluZEhvb2tzUnggPSAvXFx7XFx7KC4qPylcXH1cXH0vZztcbmZ1bmN0aW9uIGNvbXBpbGVIb29rcyhwcm9ncmFtU3JjKSB7XG4gIGNvbnN0IHBhcnRzID0ge307XG4gIGNvbnN0IHBhcnRNYXRjaGVzID0gcHJvZ3JhbVNyYy5tYXRjaChmaW5kSG9va3NSeCk/Lm1hcCgoaG9vaykgPT4gaG9vay5yZXBsYWNlKC9beygpfV0vZywgXCJcIikpID8/IFtdO1xuICBwYXJ0TWF0Y2hlcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgcGFydHNbaG9va10gPSBbXTtcbiAgfSk7XG4gIHJldHVybiBwYXJ0cztcbn1cblxuZXhwb3J0IHsgY29tcGlsZUhvb2tzLCBmaW5kSG9va3NSeCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZUhvb2tzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZXh0cmFjdElucHV0cyhmcmFnbWVudFNvdXJjZSwgb3V0KSB7XG4gIGxldCBtYXRjaDtcbiAgY29uc3QgcmVnZXggPSAvQGluXFxzKyhbXjtdKyk7L2c7XG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGZyYWdtZW50U291cmNlKSkgIT09IG51bGwpIHtcbiAgICBvdXQucHVzaChtYXRjaFsxXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbXBpbGVJbnB1dHMoZnJhZ21lbnRzLCB0ZW1wbGF0ZSwgc29ydCA9IGZhbHNlKSB7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgZXh0cmFjdElucHV0cyh0ZW1wbGF0ZSwgcmVzdWx0cyk7XG4gIGZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgIGlmIChmcmFnbWVudC5oZWFkZXIpIHtcbiAgICAgIGV4dHJhY3RJbnB1dHMoZnJhZ21lbnQuaGVhZGVyLCByZXN1bHRzKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBtYWluSW5wdXQgPSByZXN1bHRzO1xuICBpZiAoc29ydCkge1xuICAgIG1haW5JbnB1dC5zb3J0KCk7XG4gIH1cbiAgY29uc3QgZmluYWxTdHJpbmcgPSBtYWluSW5wdXQubWFwKChpblZhbHVlLCBpKSA9PiBgICAgICAgIEBsb2NhdGlvbigke2l9KSAke2luVmFsdWV9LGApLmpvaW4oXCJcXG5cIik7XG4gIGxldCBjbGVhbmVkU3RyaW5nID0gdGVtcGxhdGUucmVwbGFjZSgvQGluXFxzK1teO10rO1xccyovZywgXCJcIik7XG4gIGNsZWFuZWRTdHJpbmcgPSBjbGVhbmVkU3RyaW5nLnJlcGxhY2UoXCJ7e2lufX1cIiwgYFxuJHtmaW5hbFN0cmluZ31cbmApO1xuICByZXR1cm4gY2xlYW5lZFN0cmluZztcbn1cblxuZXhwb3J0IHsgY29tcGlsZUlucHV0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZUlucHV0cy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4dHJhY3RPdXRwdXRzKGZyYWdtZW50U291cmNlLCBvdXQpIHtcbiAgbGV0IG1hdGNoO1xuICBjb25zdCByZWdleCA9IC9Ab3V0XFxzKyhbXjtdKyk7L2c7XG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGZyYWdtZW50U291cmNlKSkgIT09IG51bGwpIHtcbiAgICBvdXQucHVzaChtYXRjaFsxXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4dHJhY3RWYXJpYWJsZU5hbWUodmFsdWUpIHtcbiAgY29uc3QgcmVnZXggPSAvXFxiKFxcdyspXFxzKjovZztcbiAgY29uc3QgbWF0Y2ggPSByZWdleC5leGVjKHZhbHVlKTtcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBcIlwiO1xufVxuZnVuY3Rpb24gc3RyaXBWYXJpYWJsZSh2YWx1ZSkge1xuICBjb25zdCByZWdleCA9IC9ALio/XFxzKy9nO1xuICByZXR1cm4gdmFsdWUucmVwbGFjZShyZWdleCwgXCJcIik7XG59XG5mdW5jdGlvbiBjb21waWxlT3V0cHV0cyhmcmFnbWVudHMsIHRlbXBsYXRlKSB7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgZXh0cmFjdE91dHB1dHModGVtcGxhdGUsIHJlc3VsdHMpO1xuICBmcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICBpZiAoZnJhZ21lbnQuaGVhZGVyKSB7XG4gICAgICBleHRyYWN0T3V0cHV0cyhmcmFnbWVudC5oZWFkZXIsIHJlc3VsdHMpO1xuICAgIH1cbiAgfSk7XG4gIGxldCBpbmRleCA9IDA7XG4gIGNvbnN0IG1haW5TdHJ1Y3QgPSByZXN1bHRzLnNvcnQoKS5tYXAoKGluVmFsdWUpID0+IHtcbiAgICBpZiAoaW5WYWx1ZS5pbmRleE9mKFwiYnVpbHRpblwiKSA+IC0xKSB7XG4gICAgICByZXR1cm4gaW5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGBAbG9jYXRpb24oJHtpbmRleCsrfSkgJHtpblZhbHVlfWA7XG4gIH0pLmpvaW4oXCIsXFxuXCIpO1xuICBjb25zdCBtYWluU3RhcnQgPSByZXN1bHRzLnNvcnQoKS5tYXAoKGluVmFsdWUpID0+IGAgICAgICAgdmFyICR7c3RyaXBWYXJpYWJsZShpblZhbHVlKX07YCkuam9pbihcIlxcblwiKTtcbiAgY29uc3QgbWFpbkVuZCA9IGByZXR1cm4gVlNPdXRwdXQoXG4gICAgICAgICAgICAke3Jlc3VsdHMuc29ydCgpLm1hcCgoaW5WYWx1ZSkgPT4gYCAke2V4dHJhY3RWYXJpYWJsZU5hbWUoaW5WYWx1ZSl9YCkuam9pbihcIixcXG5cIil9KTtgO1xuICBsZXQgY29tcGlsZWRDb2RlID0gdGVtcGxhdGUucmVwbGFjZSgvQG91dFxccytbXjtdKztcXHMqL2csIFwiXCIpO1xuICBjb21waWxlZENvZGUgPSBjb21waWxlZENvZGUucmVwbGFjZShcInt7c3RydWN0fX1cIiwgYFxuJHttYWluU3RydWN0fVxuYCk7XG4gIGNvbXBpbGVkQ29kZSA9IGNvbXBpbGVkQ29kZS5yZXBsYWNlKFwie3tzdGFydH19XCIsIGBcbiR7bWFpblN0YXJ0fVxuYCk7XG4gIGNvbXBpbGVkQ29kZSA9IGNvbXBpbGVkQ29kZS5yZXBsYWNlKFwie3tyZXR1cm59fVwiLCBgXG4ke21haW5FbmR9XG5gKTtcbiAgcmV0dXJuIGNvbXBpbGVkQ29kZTtcbn1cblxuZXhwb3J0IHsgY29tcGlsZU91dHB1dHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVPdXRwdXRzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gaW5qZWN0Qml0cyh0ZW1wbGF0ZVNyYywgZnJhZ21lbnRQYXJ0cykge1xuICBsZXQgb3V0ID0gdGVtcGxhdGVTcmM7XG4gIGZvciAoY29uc3QgaSBpbiBmcmFnbWVudFBhcnRzKSB7XG4gICAgY29uc3QgcGFydHMgPSBmcmFnbWVudFBhcnRzW2ldO1xuICAgIGNvbnN0IHRvSW5qZWN0ID0gcGFydHMuam9pbihcIlxcblwiKTtcbiAgICBpZiAodG9JbmplY3QubGVuZ3RoKSB7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShge3ske2l9fX1gLCBgLy8tLS0tLSR7aX0gU1RBUlQtLS0tLS8vXG4ke3BhcnRzLmpvaW4oXCJcXG5cIil9XG4vLy0tLS0ke2l9IEZJTklTSC0tLS0vL2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShge3ske2l9fX1gLCBcIlwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IHsgaW5qZWN0Qml0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5qZWN0Qml0cy5tanMubWFwXG4iLCJpbXBvcnQgeyBhZGRCaXRzIH0gZnJvbSAnLi91dGlscy9hZGRCaXRzLm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSG9va3MgfSBmcm9tICcuL3V0aWxzL2NvbXBpbGVIb29rcy5tanMnO1xuaW1wb3J0IHsgY29tcGlsZUlucHV0cyB9IGZyb20gJy4vdXRpbHMvY29tcGlsZUlucHV0cy5tanMnO1xuaW1wb3J0IHsgY29tcGlsZU91dHB1dHMgfSBmcm9tICcuL3V0aWxzL2NvbXBpbGVPdXRwdXRzLm1qcyc7XG5pbXBvcnQgeyBpbmplY3RCaXRzIH0gZnJvbSAnLi91dGlscy9pbmplY3RCaXRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgY2FjaGVNYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGJpdENhY2hlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmxldCBDQUNIRV9VSUQgPSAwO1xuZnVuY3Rpb24gY29tcGlsZUhpZ2hTaGFkZXIoe1xuICB0ZW1wbGF0ZSxcbiAgYml0c1xufSkge1xuICBjb25zdCBjYWNoZUlkID0gZ2VuZXJhdGVDYWNoZUlkKHRlbXBsYXRlLCBiaXRzKTtcbiAgaWYgKGNhY2hlTWFwW2NhY2hlSWRdKVxuICAgIHJldHVybiBjYWNoZU1hcFtjYWNoZUlkXTtcbiAgY29uc3QgeyB2ZXJ0ZXgsIGZyYWdtZW50IH0gPSBjb21waWxlSW5wdXRzQW5kT3V0cHV0cyh0ZW1wbGF0ZSwgYml0cyk7XG4gIGNhY2hlTWFwW2NhY2hlSWRdID0gY29tcGlsZUJpdHModmVydGV4LCBmcmFnbWVudCwgYml0cyk7XG4gIHJldHVybiBjYWNoZU1hcFtjYWNoZUlkXTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVIaWdoU2hhZGVyR2woe1xuICB0ZW1wbGF0ZSxcbiAgYml0c1xufSkge1xuICBjb25zdCBjYWNoZUlkID0gZ2VuZXJhdGVDYWNoZUlkKHRlbXBsYXRlLCBiaXRzKTtcbiAgaWYgKGNhY2hlTWFwW2NhY2hlSWRdKVxuICAgIHJldHVybiBjYWNoZU1hcFtjYWNoZUlkXTtcbiAgY2FjaGVNYXBbY2FjaGVJZF0gPSBjb21waWxlQml0cyh0ZW1wbGF0ZS52ZXJ0ZXgsIHRlbXBsYXRlLmZyYWdtZW50LCBiaXRzKTtcbiAgcmV0dXJuIGNhY2hlTWFwW2NhY2hlSWRdO1xufVxuZnVuY3Rpb24gY29tcGlsZUlucHV0c0FuZE91dHB1dHModGVtcGxhdGUsIGJpdHMpIHtcbiAgY29uc3QgdmVydGV4RnJhZ21lbnRzID0gYml0cy5tYXAoKHNoYWRlckJpdCkgPT4gc2hhZGVyQml0LnZlcnRleCkuZmlsdGVyKCh2KSA9PiAhIXYpO1xuICBjb25zdCBmcmFnbWVudEZyYWdtZW50cyA9IGJpdHMubWFwKChzaGFkZXJCaXQpID0+IHNoYWRlckJpdC5mcmFnbWVudCkuZmlsdGVyKCh2KSA9PiAhIXYpO1xuICBsZXQgY29tcGlsZWRWZXJ0ZXggPSBjb21waWxlSW5wdXRzKHZlcnRleEZyYWdtZW50cywgdGVtcGxhdGUudmVydGV4LCB0cnVlKTtcbiAgY29tcGlsZWRWZXJ0ZXggPSBjb21waWxlT3V0cHV0cyh2ZXJ0ZXhGcmFnbWVudHMsIGNvbXBpbGVkVmVydGV4KTtcbiAgY29uc3QgY29tcGlsZWRGcmFnbWVudCA9IGNvbXBpbGVJbnB1dHMoZnJhZ21lbnRGcmFnbWVudHMsIHRlbXBsYXRlLmZyYWdtZW50LCB0cnVlKTtcbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXg6IGNvbXBpbGVkVmVydGV4LFxuICAgIGZyYWdtZW50OiBjb21waWxlZEZyYWdtZW50XG4gIH07XG59XG5mdW5jdGlvbiBnZW5lcmF0ZUNhY2hlSWQodGVtcGxhdGUsIGJpdHMpIHtcbiAgcmV0dXJuIGJpdHMubWFwKChoaWdoRnJhZ21lbnQpID0+IHtcbiAgICBpZiAoIWJpdENhY2hlTWFwLmhhcyhoaWdoRnJhZ21lbnQpKSB7XG4gICAgICBiaXRDYWNoZU1hcC5zZXQoaGlnaEZyYWdtZW50LCBDQUNIRV9VSUQrKyk7XG4gICAgfVxuICAgIHJldHVybiBiaXRDYWNoZU1hcC5nZXQoaGlnaEZyYWdtZW50KTtcbiAgfSkuc29ydCgoYSwgYikgPT4gYSAtIGIpLmpvaW4oXCItXCIpICsgdGVtcGxhdGUudmVydGV4ICsgdGVtcGxhdGUuZnJhZ21lbnQ7XG59XG5mdW5jdGlvbiBjb21waWxlQml0cyh2ZXJ0ZXgsIGZyYWdtZW50LCBiaXRzKSB7XG4gIGNvbnN0IHZlcnRleFBhcnRzID0gY29tcGlsZUhvb2tzKHZlcnRleCk7XG4gIGNvbnN0IGZyYWdtZW50UGFydHMgPSBjb21waWxlSG9va3MoZnJhZ21lbnQpO1xuICBiaXRzLmZvckVhY2goKHNoYWRlckJpdCkgPT4ge1xuICAgIGFkZEJpdHMoc2hhZGVyQml0LnZlcnRleCwgdmVydGV4UGFydHMsIHNoYWRlckJpdC5uYW1lKTtcbiAgICBhZGRCaXRzKHNoYWRlckJpdC5mcmFnbWVudCwgZnJhZ21lbnRQYXJ0cywgc2hhZGVyQml0Lm5hbWUpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXg6IGluamVjdEJpdHModmVydGV4LCB2ZXJ0ZXhQYXJ0cyksXG4gICAgZnJhZ21lbnQ6IGluamVjdEJpdHMoZnJhZ21lbnQsIGZyYWdtZW50UGFydHMpXG4gIH07XG59XG5cbmV4cG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyLCBjb21waWxlSGlnaFNoYWRlckdsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21waWxlSGlnaFNoYWRlci5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHZlcnRleEdQVVRlbXBsYXRlID0gKFxuICAvKiB3Z3NsICovXG4gIGBcbiAgICBAaW4gYVBvc2l0aW9uOiB2ZWMyPGYzMj47XG4gICAgQGluIGFVVjogdmVjMjxmMzI+O1xuXG4gICAgQG91dCBAYnVpbHRpbihwb3NpdGlvbikgdlBvc2l0aW9uOiB2ZWM0PGYzMj47XG4gICAgQG91dCB2VVYgOiB2ZWMyPGYzMj47XG4gICAgQG91dCB2Q29sb3IgOiB2ZWM0PGYzMj47XG5cbiAgICB7e2hlYWRlcn19XG5cbiAgICBzdHJ1Y3QgVlNPdXRwdXQge1xuICAgICAgICB7e3N0cnVjdH19XG4gICAgfTtcblxuICAgIEB2ZXJ0ZXhcbiAgICBmbiBtYWluKCB7e2lufX0gKSAtPiBWU091dHB1dCB7XG5cbiAgICAgICAgdmFyIHdvcmxkVHJhbnNmb3JtTWF0cml4ID0gZ2xvYmFsVW5pZm9ybXMudVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICB2YXIgbW9kZWxNYXRyaXggPSBtYXQzeDM8ZjMyPihcbiAgICAgICAgICAgIDEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEuMFxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbjtcbiAgICAgICAgdmFyIHV2ID0gYVVWO1xuXG4gICAgICAgIHt7c3RhcnR9fVxuICAgICAgICBcbiAgICAgICAgdkNvbG9yID0gdmVjNDxmMzI+KDEuLCAxLiwgMS4sIDEuKTtcblxuICAgICAgICB7e21haW59fVxuXG4gICAgICAgIHZVViA9IHV2O1xuXG4gICAgICAgIHZhciBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4ID0gZ2xvYmFsVW5pZm9ybXMudVByb2plY3Rpb25NYXRyaXggKiB3b3JsZFRyYW5zZm9ybU1hdHJpeCAqIG1vZGVsTWF0cml4O1xuXG4gICAgICAgIHZQb3NpdGlvbiA9ICB2ZWM0PGYzMj4oKG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggKiAgdmVjMzxmMzI+KHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgICAgIFxuICAgICAgICB2Q29sb3IgKj0gZ2xvYmFsVW5pZm9ybXMudVdvcmxkQ29sb3JBbHBoYTtcblxuICAgICAgICB7e2VuZH19XG5cbiAgICAgICAge3tyZXR1cm59fVxuICAgIH07XG5gXG4pO1xuY29uc3QgZnJhZ21lbnRHUFVUZW1wbGF0ZSA9IChcbiAgLyogd2dzbCAqL1xuICBgXG4gICAgQGluIHZVViA6IHZlYzI8ZjMyPjtcbiAgICBAaW4gdkNvbG9yIDogdmVjNDxmMzI+O1xuICAgXG4gICAge3toZWFkZXJ9fVxuXG4gICAgQGZyYWdtZW50XG4gICAgZm4gbWFpbihcbiAgICAgICAge3tpbn19XG4gICAgICApIC0+IEBsb2NhdGlvbigwKSB2ZWM0PGYzMj4ge1xuICAgICAgICBcbiAgICAgICAge3tzdGFydH19XG5cbiAgICAgICAgdmFyIG91dENvbG9yOnZlYzQ8ZjMyPjtcbiAgICAgIFxuICAgICAgICB7e21haW59fVxuICAgICAgICBcbiAgICAgICAgdmFyIGZpbmFsQ29sb3I6dmVjNDxmMzI+ID0gb3V0Q29sb3IgKiB2Q29sb3I7XG5cbiAgICAgICAge3tlbmR9fVxuXG4gICAgICAgIHJldHVybiBmaW5hbENvbG9yO1xuICAgICAgfTtcbmBcbik7XG5jb25zdCB2ZXJ0ZXhHbFRlbXBsYXRlID0gKFxuICAvKiBnbHNsICovXG4gIGBcbiAgICBpbiB2ZWMyIGFQb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFVVjtcblxuICAgIG91dCB2ZWM0IHZDb2xvcjtcbiAgICBvdXQgdmVjMiB2VVY7XG5cbiAgICB7e2hlYWRlcn19XG5cbiAgICB2b2lkIG1haW4odm9pZCl7XG5cbiAgICAgICAgbWF0MyB3b3JsZFRyYW5zZm9ybU1hdHJpeCA9IHVXb3JsZFRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgbWF0MyBtb2RlbE1hdHJpeCA9IG1hdDMoXG4gICAgICAgICAgICAxLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxLjBcbiAgICAgICAgICApO1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVBvc2l0aW9uO1xuICAgICAgICB2ZWMyIHV2ID0gYVVWO1xuICAgICAgICBcbiAgICAgICAge3tzdGFydH19XG4gICAgICAgIFxuICAgICAgICB2Q29sb3IgPSB2ZWM0KDEuKTtcbiAgICAgICAgXG4gICAgICAgIHt7bWFpbn19XG4gICAgICAgIFxuICAgICAgICB2VVYgPSB1djtcbiAgICAgICAgXG4gICAgICAgIG1hdDMgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCA9IHVQcm9qZWN0aW9uTWF0cml4ICogd29ybGRUcmFuc2Zvcm1NYXRyaXggKiBtb2RlbE1hdHJpeDtcblxuICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuXG4gICAgICAgIHZDb2xvciAqPSB1V29ybGRDb2xvckFscGhhO1xuXG4gICAgICAgIHt7ZW5kfX1cbiAgICB9XG5gXG4pO1xuY29uc3QgZnJhZ21lbnRHbFRlbXBsYXRlID0gKFxuICAvKiBnbHNsICovXG4gIGBcbiAgIFxuICAgIGluIHZlYzQgdkNvbG9yO1xuICAgIGluIHZlYzIgdlVWO1xuXG4gICAgb3V0IHZlYzQgZmluYWxDb2xvcjtcblxuICAgIHt7aGVhZGVyfX1cblxuICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICAgIFxuICAgICAgICB7e3N0YXJ0fX1cblxuICAgICAgICB2ZWM0IG91dENvbG9yO1xuICAgICAgXG4gICAgICAgIHt7bWFpbn19XG4gICAgICAgIFxuICAgICAgICBmaW5hbENvbG9yID0gb3V0Q29sb3IgKiB2Q29sb3I7XG4gICAgICAgIFxuICAgICAgICB7e2VuZH19XG4gICAgfVxuYFxuKTtcblxuZXhwb3J0IHsgZnJhZ21lbnRHUFVUZW1wbGF0ZSwgZnJhZ21lbnRHbFRlbXBsYXRlLCB2ZXJ0ZXhHUFVUZW1wbGF0ZSwgdmVydGV4R2xUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdFByb2dyYW1UZW1wbGF0ZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGdsb2JhbFVuaWZvcm1zQml0ID0ge1xuICBuYW1lOiBcImdsb2JhbC11bmlmb3Jtcy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgIHN0cnVjdCBHbG9iYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICB1UHJvamVjdGlvbk1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgIHVXb3JsZFRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgIHVXb3JsZENvbG9yQWxwaGE6IHZlYzQ8ZjMyPixcbiAgICAgICAgICAgIHVSZXNvbHV0aW9uOiB2ZWMyPGYzMj4sXG4gICAgICAgIH1cblxuICAgICAgICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdsb2JhbFVuaWZvcm1zIDogR2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBnbG9iYWxVbmlmb3Jtc1VCT0JpdEdsID0ge1xuICBuYW1lOiBcImdsb2JhbC11bmlmb3Jtcy11Ym8tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgIHVuaWZvcm0gZ2xvYmFsVW5pZm9ybXMge1xuICAgICAgICAgICAgbWF0MyB1UHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgICAgIG1hdDMgdVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdmVjNCB1V29ybGRDb2xvckFscGhhO1xuICAgICAgICAgICAgdmVjMiB1UmVzb2x1dGlvbjtcbiAgICAgICAgICB9O1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgZ2xvYmFsVW5pZm9ybXNCaXRHbCA9IHtcbiAgbmFtZTogXCJnbG9iYWwtdW5pZm9ybXMtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgIHVuaWZvcm0gbWF0MyB1UHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgICB1bmlmb3JtIG1hdDMgdVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgIHVuaWZvcm0gdmVjNCB1V29ybGRDb2xvckFscGhhO1xuICAgICAgICAgIHVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgZ2xvYmFsVW5pZm9ybXNCaXQsIGdsb2JhbFVuaWZvcm1zQml0R2wsIGdsb2JhbFVuaWZvcm1zVUJPQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbFVuaWZvcm1zQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXIsIGNvbXBpbGVIaWdoU2hhZGVyR2wgfSBmcm9tICcuL2NvbXBpbGVyL2NvbXBpbGVIaWdoU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBmcmFnbWVudEdQVVRlbXBsYXRlLCB2ZXJ0ZXhHUFVUZW1wbGF0ZSwgdmVydGV4R2xUZW1wbGF0ZSwgZnJhZ21lbnRHbFRlbXBsYXRlIH0gZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbVRlbXBsYXRlLm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxVbmlmb3Jtc0JpdCwgZ2xvYmFsVW5pZm9ybXNCaXRHbCB9IGZyb20gJy4vc2hhZGVyLWJpdHMvZ2xvYmFsVW5pZm9ybXNCaXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0oeyBiaXRzLCBuYW1lIH0pIHtcbiAgY29uc3Qgc291cmNlID0gY29tcGlsZUhpZ2hTaGFkZXIoe1xuICAgIHRlbXBsYXRlOiB7XG4gICAgICBmcmFnbWVudDogZnJhZ21lbnRHUFVUZW1wbGF0ZSxcbiAgICAgIHZlcnRleDogdmVydGV4R1BVVGVtcGxhdGVcbiAgICB9LFxuICAgIGJpdHM6IFtcbiAgICAgIGdsb2JhbFVuaWZvcm1zQml0LFxuICAgICAgLi4uYml0c1xuICAgIF1cbiAgfSk7XG4gIHJldHVybiBHcHVQcm9ncmFtLmZyb20oe1xuICAgIG5hbWUsXG4gICAgdmVydGV4OiB7XG4gICAgICBzb3VyY2U6IHNvdXJjZS52ZXJ0ZXgsXG4gICAgICBlbnRyeVBvaW50OiBcIm1haW5cIlxuICAgIH0sXG4gICAgZnJhZ21lbnQ6IHtcbiAgICAgIHNvdXJjZTogc291cmNlLmZyYWdtZW50LFxuICAgICAgZW50cnlQb2ludDogXCJtYWluXCJcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0oeyBiaXRzLCBuYW1lIH0pIHtcbiAgcmV0dXJuIG5ldyBHbFByb2dyYW0oe1xuICAgIG5hbWUsXG4gICAgLi4uY29tcGlsZUhpZ2hTaGFkZXJHbCh7XG4gICAgICB0ZW1wbGF0ZToge1xuICAgICAgICB2ZXJ0ZXg6IHZlcnRleEdsVGVtcGxhdGUsXG4gICAgICAgIGZyYWdtZW50OiBmcmFnbWVudEdsVGVtcGxhdGVcbiAgICAgIH0sXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGdsb2JhbFVuaWZvcm1zQml0R2wsXG4gICAgICAgIC4uLmJpdHNcbiAgICAgIF1cbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0sIGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjb2xvckJpdCA9IHtcbiAgbmFtZTogXCJjb2xvci1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBAaW4gYUNvbG9yOiB2ZWM0PGYzMj47XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSB2ZWM0PGYzMj4oYUNvbG9yLnJnYiAqIGFDb2xvci5hLCBhQ29sb3IuYSk7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBjb2xvckJpdEdsID0ge1xuICBuYW1lOiBcImNvbG9yLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGluIHZlYzQgYUNvbG9yO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgY29sb3JCaXQsIGNvbG9yQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdGV4dHVyZUJhdGNoQml0R3B1Q2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGdlbmVyYXRlQmluZGluZ1NyYyhtYXhUZXh0dXJlcykge1xuICBjb25zdCBzcmMgPSBbXTtcbiAgaWYgKG1heFRleHR1cmVzID09PSAxKSB7XG4gICAgc3JjLnB1c2goXCJAZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyIHRleHR1cmVTb3VyY2UxOiB0ZXh0dXJlXzJkPGYzMj47XCIpO1xuICAgIHNyYy5wdXNoKFwiQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB0ZXh0dXJlU2FtcGxlcjE6IHNhbXBsZXI7XCIpO1xuICB9IGVsc2Uge1xuICAgIGxldCBiaW5kaW5nSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgc3JjLnB1c2goYEBncm91cCgxKSBAYmluZGluZygke2JpbmRpbmdJbmRleCsrfSkgdmFyIHRleHR1cmVTb3VyY2Uke2kgKyAxfTogdGV4dHVyZV8yZDxmMzI+O2ApO1xuICAgICAgc3JjLnB1c2goYEBncm91cCgxKSBAYmluZGluZygke2JpbmRpbmdJbmRleCsrfSkgdmFyIHRleHR1cmVTYW1wbGVyJHtpICsgMX06IHNhbXBsZXI7YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzcmMuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSB7XG4gIGNvbnN0IHNyYyA9IFtdO1xuICBpZiAobWF4VGV4dHVyZXMgPT09IDEpIHtcbiAgICBzcmMucHVzaChcIm91dENvbG9yID0gdGV4dHVyZVNhbXBsZUdyYWQodGV4dHVyZVNvdXJjZTEsIHRleHR1cmVTYW1wbGVyMSwgdlVWLCB1dkR4LCB1dkR5KTtcIik7XG4gIH0gZWxzZSB7XG4gICAgc3JjLnB1c2goXCJzd2l0Y2ggdlRleHR1cmVJZCB7XCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgaWYgKGkgPT09IG1heFRleHR1cmVzIC0gMSkge1xuICAgICAgICBzcmMucHVzaChgICBkZWZhdWx0OntgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNyYy5wdXNoKGAgIGNhc2UgJHtpfTp7YCk7XG4gICAgICB9XG4gICAgICBzcmMucHVzaChgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlU2FtcGxlR3JhZCh0ZXh0dXJlU291cmNlJHtpICsgMX0sIHRleHR1cmVTYW1wbGVyJHtpICsgMX0sIHZVViwgdXZEeCwgdXZEeSk7YCk7XG4gICAgICBzcmMucHVzaChgICAgICAgYnJlYWs7fWApO1xuICAgIH1cbiAgICBzcmMucHVzaChgfWApO1xuICB9XG4gIHJldHVybiBzcmMuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0KG1heFRleHR1cmVzKSB7XG4gIGlmICghdGV4dHVyZUJhdGNoQml0R3B1Q2FjaGVbbWF4VGV4dHVyZXNdKSB7XG4gICAgdGV4dHVyZUJhdGNoQml0R3B1Q2FjaGVbbWF4VGV4dHVyZXNdID0ge1xuICAgICAgbmFtZTogXCJ0ZXh0dXJlLWJhdGNoLWJpdFwiLFxuICAgICAgdmVydGV4OiB7XG4gICAgICAgIGhlYWRlcjogYFxuICAgICAgICAgICAgICAgIEBpbiBhVGV4dHVyZUlkQW5kUm91bmQ6IHZlYzI8dTMyPjtcbiAgICAgICAgICAgICAgICBAb3V0IEBpbnRlcnBvbGF0ZShmbGF0KSB2VGV4dHVyZUlkIDogdTMyO1xuICAgICAgICAgICAgYCxcbiAgICAgICAgbWFpbjogYFxuICAgICAgICAgICAgICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkQW5kUm91bmQueTtcbiAgICAgICAgICAgIGAsXG4gICAgICAgIGVuZDogYFxuICAgICAgICAgICAgICAgIGlmKGFUZXh0dXJlSWRBbmRSb3VuZC54ID09IDEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0PGYzMj4ocm91bmRQaXhlbHModlBvc2l0aW9uLnh5LCBnbG9iYWxVbmlmb3Jtcy51UmVzb2x1dGlvbiksIHZQb3NpdGlvbi56dyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIGhlYWRlcjogYFxuICAgICAgICAgICAgICAgIEBpbiBAaW50ZXJwb2xhdGUoZmxhdCkgdlRleHR1cmVJZDogdTMyO1xuXG4gICAgICAgICAgICAgICAgJHtnZW5lcmF0ZUJpbmRpbmdTcmMobWF4VGV4dHVyZXMpfVxuICAgICAgICAgICAgYCxcbiAgICAgICAgbWFpbjogYFxuICAgICAgICAgICAgICAgIHZhciB1dkR4ID0gZHBkeCh2VVYpO1xuICAgICAgICAgICAgICAgIHZhciB1dkR5ID0gZHBkeSh2VVYpO1xuXG4gICAgICAgICAgICAgICAgJHtnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcyl9XG4gICAgICAgICAgICBgXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdGV4dHVyZUJhdGNoQml0R3B1Q2FjaGVbbWF4VGV4dHVyZXNdO1xufVxuY29uc3QgdGV4dHVyZUJhdGNoQml0R2xDYWNoZSA9IHt9O1xuZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVHbFNyYyhtYXhUZXh0dXJlcykge1xuICBjb25zdCBzcmMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgaWYgKGkgPiAwKSB7XG4gICAgICBzcmMucHVzaChcImVsc2VcIik7XG4gICAgfVxuICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICBzcmMucHVzaChgaWYodlRleHR1cmVJZCA8ICR7aX0uNSlgKTtcbiAgICB9XG4gICAgc3JjLnB1c2goXCJ7XCIpO1xuICAgIHNyYy5wdXNoKGBcdG91dENvbG9yID0gdGV4dHVyZSh1VGV4dHVyZXNbJHtpfV0sIHZVVik7YCk7XG4gICAgc3JjLnB1c2goXCJ9XCIpO1xuICB9XG4gIHJldHVybiBzcmMuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wobWF4VGV4dHVyZXMpIHtcbiAgaWYgKCF0ZXh0dXJlQmF0Y2hCaXRHbENhY2hlW21heFRleHR1cmVzXSkge1xuICAgIHRleHR1cmVCYXRjaEJpdEdsQ2FjaGVbbWF4VGV4dHVyZXNdID0ge1xuICAgICAgbmFtZTogXCJ0ZXh0dXJlLWJhdGNoLWJpdFwiLFxuICAgICAgdmVydGV4OiB7XG4gICAgICAgIGhlYWRlcjogYFxuICAgICAgICAgICAgICAgIGluIHZlYzIgYVRleHR1cmVJZEFuZFJvdW5kO1xuICAgICAgICAgICAgICAgIG91dCBmbG9hdCB2VGV4dHVyZUlkO1xuXG4gICAgICAgICAgICBgLFxuICAgICAgICBtYWluOiBgXG4gICAgICAgICAgICAgICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWRBbmRSb3VuZC55O1xuICAgICAgICAgICAgYCxcbiAgICAgICAgZW5kOiBgXG4gICAgICAgICAgICAgICAgaWYoYVRleHR1cmVJZEFuZFJvdW5kLnggPT0gMS4pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSA9IHJvdW5kUGl4ZWxzKGdsX1Bvc2l0aW9uLnh5LCB1UmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIGhlYWRlcjogYFxuICAgICAgICAgICAgICAgIGluIGZsb2F0IHZUZXh0dXJlSWQ7XG5cbiAgICAgICAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZXNbJHttYXhUZXh0dXJlc31dO1xuXG4gICAgICAgICAgICBgLFxuICAgICAgICBtYWluOiBgXG5cbiAgICAgICAgICAgICAgICAke2dlbmVyYXRlU2FtcGxlR2xTcmMobWF4VGV4dHVyZXMpfVxuICAgICAgICAgICAgYFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHRleHR1cmVCYXRjaEJpdEdsQ2FjaGVbbWF4VGV4dHVyZXNdO1xufVxuXG5leHBvcnQgeyBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdCwgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1CaXQgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVJvdW5kOmYzMixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IGxvY2FsVW5pZm9ybXMudUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKGxvY2FsVW5pZm9ybXMudVJvdW5kID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdyb3VwMiA9IHtcbiAgLi4ubG9jYWxVbmlmb3JtQml0LFxuICB2ZXJ0ZXg6IHtcbiAgICAuLi5sb2NhbFVuaWZvcm1CaXQudmVydGV4LFxuICAgIC8vIHJlcGxhY2UgdGhlIGdyb3VwIVxuICAgIGhlYWRlcjogbG9jYWxVbmlmb3JtQml0LnZlcnRleC5oZWFkZXIucmVwbGFjZShcImdyb3VwKDEpXCIsIFwiZ3JvdXAoMilcIilcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdsID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVSb3VuZDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ID0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsLCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybUJpdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHJvdW5kUGl4ZWxzQml0ID0ge1xuICBuYW1lOiBcInJvdW5kLXBpeGVscy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBmbiByb3VuZFBpeGVscyhwb3NpdGlvbjogdmVjMjxmMzI+LCB0YXJnZXRTaXplOiB2ZWMyPGYzMj4pIC0+IHZlYzI8ZjMyPiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGZsb29yKCgocG9zaXRpb24gKiAwLjUgKyAwLjUpICogdGFyZ2V0U2l6ZSkgKyAwLjUpIC8gdGFyZ2V0U2l6ZSkgKiAyLjAgLSAxLjA7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCByb3VuZFBpeGVsc0JpdEdsID0ge1xuICBuYW1lOiBcInJvdW5kLXBpeGVscy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgICAgXG4gICAgICAgICAgICB2ZWMyIHJvdW5kUGl4ZWxzKHZlYzIgcG9zaXRpb24sIHZlYzIgdGFyZ2V0U2l6ZSlcbiAgICAgICAgICAgIHsgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIChmbG9vcigoKHBvc2l0aW9uICogMC41ICsgMC41KSAqIHRhcmdldFNpemUpICsgMC41KSAvIHRhcmdldFNpemUpICogMi4wIC0gMS4wO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91bmRQaXhlbHNCaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZXh0dXJlQml0ID0ge1xuICBuYW1lOiBcInRleHR1cmUtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuXG4gICAgICAgIHN0cnVjdCBUZXh0dXJlVW5pZm9ybXMge1xuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgIH1cblxuICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyPHVuaWZvcm0+IHRleHR1cmVVbmlmb3JtcyA6IFRleHR1cmVVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodGV4dHVyZVVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ICogdmVjMyh1diwgMS4wKSkueHk7XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuXG4gICAgICAgICBcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdlVWKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IHRleHR1cmVCaXRHbCA9IHtcbiAgbmFtZTogXCJ0ZXh0dXJlLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKHV2LCAxLjApKS54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG5cbiAgICAgICAgIFxuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmUodVRleHR1cmUsIHZVVik7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IHRleHR1cmVCaXQsIHRleHR1cmVCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZUJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBBbHBoYU1hc2sgfSBmcm9tICcuL21hc2svYWxwaGEvQWxwaGFNYXNrLm1qcyc7XG5pbXBvcnQgeyBDb2xvck1hc2sgfSBmcm9tICcuL21hc2svY29sb3IvQ29sb3JNYXNrLm1qcyc7XG5pbXBvcnQgeyBTdGVuY2lsTWFzayB9IGZyb20gJy4vbWFzay9zdGVuY2lsL1N0ZW5jaWxNYXNrLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXJJbWFnZVNvdXJjZSB9IGZyb20gJy4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL3NvdXJjZXMvQnVmZmVySW1hZ2VTb3VyY2UubWpzJztcbmltcG9ydCB7IENhbnZhc1NvdXJjZSB9IGZyb20gJy4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL3NvdXJjZXMvQ2FudmFzU291cmNlLm1qcyc7XG5pbXBvcnQgeyBJbWFnZVNvdXJjZSB9IGZyb20gJy4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL3NvdXJjZXMvSW1hZ2VTb3VyY2UubWpzJztcbmltcG9ydCB7IFZpZGVvU291cmNlIH0gZnJvbSAnLi9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvc291cmNlcy9WaWRlb1NvdXJjZS5tanMnO1xuaW1wb3J0ICcuL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS91dGlscy90ZXh0dXJlRnJvbS5tanMnO1xuaW1wb3J0ICcuL21hc2svTWFza0VmZmVjdE1hbmFnZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChBbHBoYU1hc2ssIENvbG9yTWFzaywgU3RlbmNpbE1hc2ssIFZpZGVvU291cmNlLCBJbWFnZVNvdXJjZSwgQ2FudmFzU291cmNlLCBCdWZmZXJJbWFnZVNvdXJjZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJHbEJhdGNoQWRhcHRvciIsImNvbnN0cnVjdG9yIiwidGhpcyIsIl9kaWRVcGxvYWQiLCJfdGVtcFN0YXRlIiwiZm9yMmQiLCJpbml0IiwiYmF0Y2hlclBpcGUiLCJyZW5kZXJlciIsInJ1bm5lcnMiLCJjb250ZXh0Q2hhbmdlIiwiYWRkIiwic3RhcnQiLCJiYXRjaFBpcGUiLCJnZW9tZXRyeSIsInNoYWRlciIsImJpbmQiLCJ1cGRhdGVVbmlmb3JtR3JvdXAiLCJnbG9iYWxVbmlmb3JtcyIsInVuaWZvcm1Hcm91cCIsImdsUHJvZ3JhbSIsImV4ZWN1dGUiLCJiYXRjaCIsImJsZW5kTW9kZSIsInN0YXRlIiwic2V0IiwidGV4dHVyZXMiLCJpIiwiY291bnQiLCJ0ZXh0dXJlIiwiZHJhdyIsInRvcG9sb2d5Iiwic2l6ZSIsImV4dGVuc2lvbiIsInR5cGUiLCJXZWJHTFBpcGVzQWRhcHRvciIsIm5hbWUiLCJmcmFnVGVtcGxhdGUiLCJqb2luIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJtYXhJZnMiLCJzcmMiLCJtYXhUZXh0dXJlc1BlckJhdGNoQ2FjaGUiLCJnZXRNYXhUZXh0dXJlc1BlckJhdGNoIiwiZ2wiLCJnZXRUZXN0Q29udGV4dCIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiRXJyb3IiLCJjcmVhdGVTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJmcmFnbWVudFNyYyIsInJlcGxhY2UiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJkZWxldGVTaGFkZXIiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwiZ2V0RXh0ZW5zaW9uIiwibG9zZUNvbnRleHQiLCJ0ZW1wU3RhdGUiLCJHcHVCYXRjaEFkYXB0b3IiLCJlbmNvZGVyIiwicHJvZ3JhbSIsImdwdVByb2dyYW0iLCJfc2hhZGVyIiwiX2dlb21ldHJ5Iiwic2V0R2VvbWV0cnkiLCJwaXBlbGluZSIsImdldFBpcGVsaW5lIiwiZ2xvYmFsVW5pZm9ybXNCaW5kR3JvdXAiLCJiaW5kR3JvdXAiLCJyZXNldEJpbmRHcm91cCIsInNldEJpbmRHcm91cCIsInRleHR1cmVCYXRjaCIsImdwdUJpbmRHcm91cCIsImdldEJpbmRHcm91cCIsIl90b3VjaCIsInRleHR1cmVHQyIsInNldFBpcGVsaW5lIiwicmVuZGVyUGFzc0VuY29kZXIiLCJkcmF3SW5kZXhlZCIsIldlYkdQVVBpcGVzQWRhcHRvciIsImNhY2hlZEdyb3VwcyIsImdldFRleHR1cmVCYXRjaEJpbmRHcm91cCIsInVpZCIsIk1hdGgiLCJpbXVsIiwia2V5IiwiYmluZEdyb3VwUmVzb3VyY2VzIiwiYmluZEluZGV4IiwibWF4VGV4dHVyZXMiLCJFTVBUWSIsInNvdXJjZSIsInN0eWxlIiwiZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaW5kR3JvdXAiLCJfQmF0Y2hlclBpcGUiLCJhZGFwdG9yIiwiX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCIsIk9iamVjdCIsImNyZWF0ZSIsIl9hY3RpdmVCYXRjaGVzIiwiX2FkYXB0b3IiLCJnZXRCYXRjaGVyIiwiX2F2YWlsYWJsZUJhdGNoZXJzIiwiYnVpbGRTdGFydCIsImluc3RydWN0aW9uU2V0IiwiYmF0Y2hlcnMiLCJkZWZhdWx0IiwiX2FjdGl2ZUJhdGNoIiwiYmVnaW4iLCJhZGRUb0JhdGNoIiwiYmF0Y2hhYmxlT2JqZWN0IiwiYmF0Y2hlck5hbWUiLCJicmVhayIsImJ1aWxkRW5kIiwiYmF0Y2hlcyIsImluZGV4QnVmZmVyIiwic2V0RGF0YVdpdGhTaXplIiwiaW5kZXhTaXplIiwiYnVmZmVycyIsImF0dHJpYnV0ZUJ1ZmZlciIsImZsb2F0MzJWaWV3IiwiYXR0cmlidXRlU2l6ZSIsInVwbG9hZCIsImJhdGNoZXIiLCJkaXJ0eSIsInVwZGF0ZSIsImFjdGlvbiIsImRlc3Ryb3kiLCJXZWJHTFBpcGVzIiwiV2ViR1BVUGlwZXMiLCJDYW52YXNQaXBlcyIsIkJhdGNoZXJQaXBlIiwiaGFuZGxlQnlNYXAiLCJCYXRjaGVyIiwiQmF0Y2hUZXh0dXJlQXJyYXkiLCJpZHMiLCJjbGVhciIsInQiLCJCYXRjaCIsInJlbmRlclBpcGVJZCIsImNhbkJ1bmRsZSIsImJhdGNoUG9vbCIsImJhdGNoUG9vbEluZGV4IiwiZ2V0QmF0Y2hGcm9tUG9vbCIsInJldHVybkJhdGNoVG9Qb29sIiwiQkFUQ0hfVElDSyIsIl9CYXRjaGVyIiwib3B0aW9ucyIsImJhdGNoSW5kZXgiLCJfZWxlbWVudHMiLCJkZWZhdWx0T3B0aW9ucyIsImF0dHJpYnV0ZXNJbml0aWFsU2l6ZSIsImluZGljZXNJbml0aWFsU2l6ZSIsIlZpZXdhYmxlQnVmZmVyIiwiVWludDE2QXJyYXkiLCJlbGVtZW50U2l6ZSIsImVsZW1lbnRTdGFydCIsIl9iYXRjaEluZGV4U3RhcnQiLCJfYmF0Y2hJbmRleFNpemUiLCJfaW5kZXhTdGFydCIsIl9hdHRyaWJ1dGVTdGFydCIsIl9iYXRjaGVyIiwidmVydGV4U2l6ZSIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsInRleHR1cmVJZCIsIl9iYXRjaCIsIl9zb3VyY2UiLCJfdGV4dHVyZUlkIiwidXBkYXRlRWxlbWVudCIsInBhY2tBc1F1YWQiLCJwYWNrUXVhZEF0dHJpYnV0ZXMiLCJ1aW50MzJWaWV3IiwicGFja0F0dHJpYnV0ZXMiLCJlbGVtZW50cyIsImZpcnN0RWxlbWVudCIsImdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQiLCJfcmVzaXplQXR0cmlidXRlQnVmZmVyIiwibGVuZ3RoIiwiX3Jlc2l6ZUluZGV4QnVmZmVyIiwiZjMyIiwidTMyIiwiZWxlbWVudCIsImFkanVzdGVkQmxlbmRNb2RlIiwiYnJlYWtSZXF1aXJlZCIsIl9iYXRjaFRpY2siLCJfZmluaXNoQmF0Y2giLCJfdGV4dHVyZUJpbmRMb2NhdGlvbiIsInBhY2tRdWFkSW5kZXgiLCJwYWNrSW5kZXgiLCJpbmRleFN0YXJ0IiwiZmluaXNoIiwiZW5zdXJlQXR0cmlidXRlQnVmZmVyIiwiZW5zdXJlSW5kZXhCdWZmZXIiLCJuZXdTaXplIiwibWF4IiwibmV3QXJyYXlCdWZmZXIiLCJmYXN0Q29weSIsInJhd0JpbmFyeURhdGEiLCJuZXdJbmRleEJ1ZmZlciIsIlVpbnQzMkFycmF5IiwiQllURVNfUEVSX0VMRU1FTlQiLCJidWZmZXIiLCJpbmRleCIsImluZGljZXNPZmZzZXQiLCJpbmRpY2VzIiwiaW5kZXhPZmZzZXQiLCJhdHRyaWJ1dGVPZmZzZXQiLCJwbGFjZUhvbGRlckJ1ZmZlckRhdGEiLCJGbG9hdDMyQXJyYXkiLCJwbGFjZUhvbGRlckluZGV4RGF0YSIsIkJhdGNoR2VvbWV0cnkiLCJHZW9tZXRyeSIsIkJ1ZmZlciIsImRhdGEiLCJsYWJlbCIsInVzYWdlIiwiVkVSVEVYIiwiQ09QWV9EU1QiLCJzaHJpbmtUb0ZpdCIsInN1cGVyIiwiYXR0cmlidXRlcyIsImFQb3NpdGlvbiIsImZvcm1hdCIsInN0cmlkZSIsIm9mZnNldCIsImFVViIsImFDb2xvciIsImFUZXh0dXJlSWRBbmRSb3VuZCIsIklOREVYIiwiRGVmYXVsdFNoYWRlciIsIlNoYWRlciIsImJpdHMiLCJjb2xvckJpdCIsImdlbmVyYXRlVGV4dHVyZUJhdGNoQml0Iiwicm91bmRQaXhlbHNCaXQiLCJyZXNvdXJjZXMiLCJiYXRjaFNhbXBsZXJzIiwiZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cCIsImRlZmF1bHRTaGFkZXIiLCJfRGVmYXVsdEJhdGNoZXIiLCJhcmd1bWVudHMiLCJ0ZXh0dXJlSWRBbmRSb3VuZCIsInJvdW5kUGl4ZWxzIiwid3QiLCJ0cmFuc2Zvcm0iLCJhIiwiYiIsImMiLCJkIiwidHgiLCJ0eSIsInBvc2l0aW9ucyIsInV2cyIsImFyZ2IiLCJjb2xvciIsImVuZCIsImkyIiwieCIsInkiLCJib3VuZHMiLCJ3MCIsIm1heFgiLCJ3MSIsIm1pblgiLCJoMCIsIm1heFkiLCJoMSIsIm1pblkiLCJ4MCIsInkwIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4MyIsInkzIiwiRGVmYXVsdEJhdGNoZXIiLCJhZGRCaXRzIiwic3JjUGFydHMiLCJwYXJ0cyIsInBhcnQiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsInNhbml0aXNlZFBhcnQiLCJwdXNoIiwid2FybiIsImZpbmRIb29rc1J4IiwiY29tcGlsZUhvb2tzIiwicHJvZ3JhbVNyYyIsIm1hdGNoIiwibWFwIiwiaG9vayIsImZvckVhY2giLCJleHRyYWN0SW5wdXRzIiwiZnJhZ21lbnRTb3VyY2UiLCJvdXQiLCJyZWdleCIsImV4ZWMiLCJjb21waWxlSW5wdXRzIiwiZnJhZ21lbnRzIiwidGVtcGxhdGUiLCJzb3J0IiwicmVzdWx0cyIsImZyYWdtZW50IiwiaGVhZGVyIiwibWFpbklucHV0IiwiZmluYWxTdHJpbmciLCJpblZhbHVlIiwiY2xlYW5lZFN0cmluZyIsImV4dHJhY3RPdXRwdXRzIiwiaW5qZWN0Qml0cyIsInRlbXBsYXRlU3JjIiwiZnJhZ21lbnRQYXJ0cyIsImNhY2hlTWFwIiwiYml0Q2FjaGVNYXAiLCJNYXAiLCJDQUNIRV9VSUQiLCJjb21waWxlSGlnaFNoYWRlciIsImNhY2hlSWQiLCJnZW5lcmF0ZUNhY2hlSWQiLCJ2ZXJ0ZXgiLCJ2ZXJ0ZXhGcmFnbWVudHMiLCJzaGFkZXJCaXQiLCJmaWx0ZXIiLCJ2IiwiZnJhZ21lbnRGcmFnbWVudHMiLCJjb21waWxlZFZlcnRleCIsIm1haW5TdHJ1Y3QiLCJpbmRleE9mIiwibWFpblN0YXJ0IiwidmFsdWUiLCJtYWluRW5kIiwiZXh0cmFjdFZhcmlhYmxlTmFtZSIsImNvbXBpbGVkQ29kZSIsImNvbXBpbGVPdXRwdXRzIiwiY29tcGlsZWRGcmFnbWVudCIsImNvbXBpbGVJbnB1dHNBbmRPdXRwdXRzIiwiY29tcGlsZUJpdHMiLCJjb21waWxlSGlnaFNoYWRlckdsIiwiaGlnaEZyYWdtZW50IiwiaGFzIiwiZ2V0IiwidmVydGV4UGFydHMiLCJ2ZXJ0ZXhHUFVUZW1wbGF0ZSIsImZyYWdtZW50R1BVVGVtcGxhdGUiLCJ2ZXJ0ZXhHbFRlbXBsYXRlIiwiZnJhZ21lbnRHbFRlbXBsYXRlIiwiZ2xvYmFsVW5pZm9ybXNCaXQiLCJnbG9iYWxVbmlmb3Jtc0JpdEdsIiwiY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtIiwiR3B1UHJvZ3JhbSIsImZyb20iLCJlbnRyeVBvaW50IiwiY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0iLCJHbFByb2dyYW0iLCJtYWluIiwiY29sb3JCaXRHbCIsInRleHR1cmVCYXRjaEJpdEdwdUNhY2hlIiwiZ2VuZXJhdGVCaW5kaW5nU3JjIiwiYmluZGluZ0luZGV4IiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0ZXh0dXJlQmF0Y2hCaXRHbENhY2hlIiwiZ2VuZXJhdGVTYW1wbGVHbFNyYyIsImdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wiLCJsb2NhbFVuaWZvcm1CaXQiLCJsb2NhbFVuaWZvcm1CaXRHcm91cDIiLCJsb2NhbFVuaWZvcm1CaXRHbCIsInJvdW5kUGl4ZWxzQml0R2wiLCJ0ZXh0dXJlQml0IiwidGV4dHVyZUJpdEdsIl0sInNvdXJjZVJvb3QiOiIifQ==