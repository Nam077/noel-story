"use strict";(self.webpackChunkpixijs_game=self.webpackChunkpixijs_game||[]).push([[716],{6023:(t,e,n)=>{n.d(e,{E:()=>h});var i=n(7371),r=n(2597),s=n(2320);class a extends s.l{constructor(t,e){const{text:n,resolution:r,style:s,anchor:a,width:o,height:l,roundPixels:h,...d}=t;super({...d}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=e,this.text=n??"",this.style=s,this.resolution=r??null,this.allowChildren=!1,this._anchor=new i.o({_onUpdate:()=>{this.onViewUpdate()}}),a&&(this.anchor=a),this.roundPixels=h??!1,void 0!==o&&(this.width=o),void 0!==l&&(this.height=l)}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=null===t,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,e){"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,this.bounds.width),void 0!==e&&this._setHeight(e,this.bounds.height)}containsPoint(t){const e=this.bounds.width,n=this.bounds.height,i=-e*this.anchor.x;let r=0;return t.x>=i&&t.x<=i+e&&(r=-n*this.anchor.y,t.y>=r&&t.y<=r+n)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,("boolean"==typeof t?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}}var o=n(5315),l=n(9914);class h extends a{constructor(...t){const e=function(t,e){let n=t[0]??{};return("string"==typeof n||t[1])&&((0,r.t6)(r.lj,`use new ${e}({ text: "hi!", style }) instead`),n={text:n,style:t[1]}),n}(t,"Text");super(e,l.x),this.renderPipeId="text"}updateBounds(){const t=this._bounds,e=this._anchor,n=o.P.measureText(this._text,this._style),{width:i,height:r}=n;t.minX=-e._x*i,t.maxX=t.minX+i,t.minY=-e._y*r,t.maxY=t.minY+r}}},9914:(t,e,n)=>{n.d(e,{x:()=>c});var i=n(413),r=n(1598),s=n(2597),a=n(1639),o=n(8187),l=n(4023),h=n(8785),d=n(9088);const u=class t extends i.A{constructor(e={}){super(),function(t){const e=t;if("boolean"==typeof e.dropShadow&&e.dropShadow){const n=c.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??n.alpha,angle:e.dropShadowAngle??n.angle,blur:e.dropShadowBlur??n.blur,color:e.dropShadowColor??n.color,distance:e.dropShadowDistance??n.distance}}if(void 0!==e.strokeThickness){(0,s.t6)(s.lj,"strokeThickness is now a part of stroke");const n=e.stroke;let i={};if(r.Q.isColorLike(n))i.color=n;else if(n instanceof a._||n instanceof o.m)i.fill=n;else{if(!Object.hasOwnProperty.call(n,"color")&&!Object.hasOwnProperty.call(n,"fill"))throw new Error("Invalid stroke value.");i=n}t.stroke={...i,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){let n;(0,s.t6)(s.lj,"gradient fill is now a fill pattern: `new FillGradient(...)`"),null==t.fontSize?t.fontSize=c.defaultTextStyle.fontSize:n="string"==typeof t.fontSize?parseInt(t.fontSize,10):t.fontSize;const i=new a._(0,0,0,1.7*n),o=e.fillGradientStops.map((t=>r.Q.shared.setValue(t).toNumber()));o.forEach(((t,e)=>{const n=e/(o.length-1);i.addColorStop(n,t)})),t.fill={fill:i}}}(e);const n={...t.defaultTextStyle,...e};for(const t in n){this[t]=n[t]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow=null!==e&&"object"==typeof e?this._createProxy({...t.defaultDropShadow,...e}):e?this._createProxy({...t.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize="string"==typeof t?parseInt(t,10):t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...l.T.defaultFillStyle,...t},(()=>{this._fill=(0,h.w)({...this._originalFill},l.T.defaultFillStyle)}))),this._fill=(0,h.w)(0===t?"black":t,l.T.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...l.T.defaultStrokeStyle,...t},(()=>{this._stroke=(0,h.T)({...this._originalStroke},l.T.defaultStrokeStyle)}))),this._stroke=(0,h.T)(t,l.T.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=(0,d.V)(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=t.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new t({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){this.removeAllListeners();if("boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(e),this._originalFill?.texture&&this._originalFill.texture.destroy(e),this._stroke?.texture&&this._stroke.texture.destroy(e),this._originalStroke?.texture&&this._originalStroke.texture.destroy(e)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(t,n,i)=>(t[n]=i,e?.(n,i),this.update(),!0)})}_isFillStyle(t){return null!==(t??null)&&!(r.Q.isColorLike(t)||t instanceof a._||t instanceof o.m)}};u.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},u.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let c=u},5315:(t,e,n)=>{n.d(e,{P:()=>o});var i=n(4184),r=n(1425);const s={willReadFrequently:!0},a=class t{static get experimentalLetterSpacingSupported(){let e=t._experimentalLetterSpacingSupported;if(void 0!==e){const n=i.e.get().getCanvasRenderingContext2D().prototype;e=t._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(t,e,n,i,r,s,a,o,l){this.text=t,this.style=e,this.width=n,this.height=i,this.lines=r,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}static measureText(e=" ",n,i=t._canvas,s=n.wordWrap){const a=`${e}:${n.styleKey}`;if(t._measurementCache[a])return t._measurementCache[a];const o=(0,r.Z)(n),l=t.measureFont(o);0===l.fontSize&&(l.fontSize=n.fontSize,l.ascent=n.fontSize);const h=t.__context;h.font=o;const d=(s?t._wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),u=new Array(d.length);let c=0;for(let e=0;e<d.length;e++){const i=t._measureText(d[e],n.letterSpacing,h);u[e]=i,c=Math.max(c,i)}const p=n._stroke?.width||0;let f=c+p;n.dropShadow&&(f+=n.dropShadow.distance);const g=n.lineHeight||l.fontSize;let _=Math.max(g,l.fontSize+p)+(d.length-1)*(g+n.leading);n.dropShadow&&(_+=n.dropShadow.distance);return new t(e,n,f,_,d,u,g+n.leading,c,l)}static _measureText(e,n,i){let r=!1;t.experimentalLetterSpacingSupported&&(t.experimentalLetterSpacing?(i.letterSpacing=`${n}px`,i.textLetterSpacing=`${n}px`,r=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));const s=i.measureText(e);let a=s.width;const o=-s.actualBoundingBoxLeft;let l=s.actualBoundingBoxRight-o;if(a>0)if(r)a-=n,l-=n;else{const i=(t.graphemeSegmenter(e).length-1)*n;a+=i,l+=i}return Math.max(a,l)}static _wordWrap(e,n,i=t._canvas){const r=i.getContext("2d",s);let a=0,o="",l="";const h=Object.create(null),{letterSpacing:d,whiteSpace:u}=n,c=t._collapseSpaces(u),p=t._collapseNewlines(u);let f=!c;const g=n.wordWrapWidth+d,_=t._tokenize(e);for(let e=0;e<_.length;e++){let i=_[e];if(t._isNewline(i)){if(!p){l+=t._addLine(o),f=!c,o="",a=0;continue}i=" "}if(c){const e=t.isBreakingSpace(i),n=t.isBreakingSpace(o[o.length-1]);if(e&&n)continue}const s=t._getFromCache(i,d,h,r);if(s>g)if(""!==o&&(l+=t._addLine(o),o="",a=0),t.canBreakWords(i,n.breakWords)){const e=t.wordWrapSplit(i);for(let s=0;s<e.length;s++){let u=e[s],c=u,p=1;for(;e[s+p];){const r=e[s+p];if(t.canBreakChars(c,r,i,s,n.breakWords))break;u+=r,c=r,p++}s+=p-1;const _=t._getFromCache(u,d,h,r);_+a>g&&(l+=t._addLine(o),f=!1,o="",a=0),o+=u,a+=_}}else{o.length>0&&(l+=t._addLine(o),o="",a=0);const n=e===_.length-1;l+=t._addLine(i,!n),f=!1,o="",a=0}else s+a>g&&(f=!1,l+=t._addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(i)||f)&&(o+=i,a+=s)}return l+=t._addLine(o,!1),l}static _addLine(e,n=!0){return e=t._trimRight(e),e=n?`${e}\n`:e}static _getFromCache(e,n,i,r){let s=i[e];return"number"!=typeof s&&(s=t._measureText(e,n,r)+n,i[e]=s),s}static _collapseSpaces(t){return"normal"===t||"pre-line"===t}static _collapseNewlines(t){return"normal"===t}static _trimRight(e){if("string"!=typeof e)return"";for(let n=e.length-1;n>=0;n--){const i=e[n];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static _isNewline(e){return"string"==typeof e&&t._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return"string"==typeof e&&t._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const n=[];let i="";if("string"!=typeof e)return n;for(let r=0;r<e.length;r++){const s=e[r],a=e[r+1];t.isBreakingSpace(s,a)||t._isNewline(s)?(""!==i&&(n.push(i),i=""),n.push(s)):i+=s}return""!==i&&n.push(i),n}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,i,r){return!0}static wordWrapSplit(e){return t.graphemeSegmenter(e)}static measureFont(e){if(t._fonts[e])return t._fonts[e];const n=t._context;n.font=e;const i=n.measureText(t.METRICS_STRING+t.BASELINE_SYMBOL),r={ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,fontSize:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent};return t._fonts[e]=r,r}static clearMetrics(e=""){e?delete t._fonts[e]:t._fonts={}}static get _canvas(){if(!t.__canvas){let e;try{const n=new OffscreenCanvas(0,0),r=n.getContext("2d",s);if(r?.measureText)return t.__canvas=n,n;e=i.e.get().createCanvas()}catch(t){e=i.e.get().createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas}static get _context(){return t.__context||(t.__context=t._canvas.getContext("2d",s)),t.__context}};a.METRICS_STRING="|ÉqÅ",a.BASELINE_SYMBOL="M",a.BASELINE_MULTIPLIER=1.4,a.HEIGHT_MULTIPLIER=2,a.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map((t=>t.segment))}return t=>[...t]})(),a.experimentalLetterSpacing=!1,a._fonts={},a._newlines=[10,13],a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],a._measurementCache={};let o=a},1425:(t,e,n)=>{n.d(e,{Z:()=>r});const i=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function r(t){const e="number"==typeof t.fontSize?`${t.fontSize}px`:t.fontSize;let n=t.fontFamily;Array.isArray(t.fontFamily)||(n=t.fontFamily.split(","));for(let t=n.length-1;t>=0;t--){let e=n[t].trim();/([\"\'])[^\'\"]+\1/.test(e)||i.includes(e)||(e=`"${e}"`),n[t]=e}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${n.join(",")}`}},3605:(t,e,n)=>{n.d(e,{r:()=>h});var i=n(1598),r=n(1026),s=n(8554),a=n(8273),o=n(1639),l=n(8187);function h(t,e){if(t.texture===s.g.WHITE&&!t.fill)return i.Q.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(!t.fill){const n=e.createPattern(t.texture.source.resource,"repeat"),i=t.matrix.copyTo(r.u.shared);return i.scale(t.texture.frame.width,t.texture.frame.height),n.setTransform(i),n}if(t.fill instanceof l.m){const n=t.fill,i=e.createPattern(n.texture.source.resource,"repeat"),s=n.transform.copyTo(r.u.shared);return s.scale(n.texture.frame.width,n.texture.frame.height),i.setTransform(s),i}if(t.fill instanceof o._){const n=t.fill;if("linear"===n.type){const t=e.createLinearGradient(n.x0,n.y0,n.x1,n.y1);return n.gradientStops.forEach((e=>{t.addColorStop(e.offset,i.Q.shared.setValue(e.color).toHex())})),t}}return(0,a.R)("FillStyle not recognised",t),"red"}},6578:(t,e,n)=>{var i=n(9084),r=n(4579),s=n(8143),a=n(5235);class o{constructor(t){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=t,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const t in this._gpuText){const e=this._gpuText[t];if(!e)continue;const n=e.batchableSprite.renderable;n._autoResolution&&(n._resolution=this._renderer.resolution,n.onViewUpdate())}}validateRenderable(t){const e=this._getGpuText(t),n=t._getKey();return e.currentKey!==n}addRenderable(t,e){const n=this._getGpuText(t).batchableSprite;t._didTextUpdate&&this._updateText(t),this._renderer.renderPipes.batch.addToBatch(n,e)}updateRenderable(t){const e=this._getGpuText(t).batchableSprite;t._didTextUpdate&&this._updateText(t),e._batcher.updateElement(e)}destroyRenderable(t){t.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(t.uid)}_destroyRenderableById(t){const e=this._gpuText[t];this._renderer.canvasText.decreaseReferenceCount(e.currentKey),s.Z.return(e.batchableSprite),this._gpuText[t]=null}_updateText(t){const e=t._getKey(),n=this._getGpuText(t),i=n.batchableSprite;n.currentKey!==e&&this._updateGpuText(t),t._didTextUpdate=!1;const s=t._style.padding;(0,r.y)(i.bounds,t._anchor,i.texture,s)}_updateGpuText(t){const e=this._getGpuText(t),n=e.batchableSprite;e.texture&&this._renderer.canvasText.decreaseReferenceCount(e.currentKey),e.texture=n.texture=this._renderer.canvasText.getManagedTexture(t),e.currentKey=t._getKey(),n.texture=e.texture}_getGpuText(t){return this._gpuText[t.uid]||this.initGpuText(t)}initGpuText(t){const e={texture:null,currentKey:"--",batchableSprite:s.Z.get(a.K)};return e.batchableSprite.renderable=t,e.batchableSprite.transform=t.groupTransform,e.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},e.batchableSprite.roundPixels=this._renderer._roundPixels|t._roundPixels,this._gpuText[t.uid]=e,t._resolution=t._autoResolution?this._renderer.resolution:t.resolution,this._updateText(t),t.on("destroyed",this._destroyRenderableBound),e}destroy(){for(const t in this._gpuText)this._destroyRenderableById(t);this._gpuText=null,this._renderer=null}}o.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"text"};var l=n(1598),h=n(3932),d=n(1875),u=n(1448),c=n(6805),p=n(2597),f=n(9914),g=n(5331),_=n(5315),m=n(1425),x=n(3605);class S{constructor(t){this._activeTextures={},this._renderer=t}getTextureSize(t,e,n){const i=_.P.measureText(t||" ",n);let r=Math.ceil(Math.ceil(Math.max(1,i.width)+2*n.padding)*e),s=Math.ceil(Math.ceil(Math.max(1,i.height)+2*n.padding)*e);return r=Math.ceil(r-1e-6),s=Math.ceil(s-1e-6),r=(0,h.U5)(r),s=(0,h.U5)(s),{width:r,height:s}}getTexture(t,e,n,i){"string"==typeof t&&((0,p.t6)("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),t={text:t,style:n,resolution:e}),t.style instanceof f.x||(t.style=new f.x(t.style));const{texture:r,canvasAndContext:s}=this.createTextureAndCanvas(t);return this._renderer.texture.initSource(r._source),d.N.returnCanvasAndContext(s),r}createTextureAndCanvas(t){const{text:e,style:n}=t,i=t.resolution??this._renderer.resolution,r=_.P.measureText(e||" ",n),s=Math.ceil(Math.ceil(Math.max(1,r.width)+2*n.padding)*i),a=Math.ceil(Math.ceil(Math.max(1,r.height)+2*n.padding)*i),o=d.N.getOptimalCanvasAndContext(s,a),{canvas:l}=o;this.renderTextToCanvas(e,n,i,o);const h=(0,g.M)(l,s,a,i);if(n.trim){const t=(0,c.m)(l,i);h.frame.copyFrom(t),h.updateUvs()}return{texture:h,canvasAndContext:o}}getManagedTexture(t){t._resolution=t._autoResolution?this._renderer.resolution:t.resolution;const e=t._getKey();if(this._activeTextures[e])return this._increaseReferenceCount(e),this._activeTextures[e].texture;const{texture:n,canvasAndContext:i}=this.createTextureAndCanvas(t);return this._activeTextures[e]={canvasAndContext:i,texture:n,usageCount:1},n}_increaseReferenceCount(t){this._activeTextures[t].usageCount++}decreaseReferenceCount(t){const e=this._activeTextures[t];if(e.usageCount--,0===e.usageCount){d.N.returnCanvasAndContext(e.canvasAndContext),u.W.returnTexture(e.texture);const n=e.texture.source;n.resource=null,n.uploadMethodId="unknown",n.alphaMode="no-premultiply-alpha",this._activeTextures[t]=null}}getReferenceCount(t){return this._activeTextures[t].usageCount}renderTextToCanvas(t,e,n,i){const{canvas:r,context:s}=i,a=(0,m.Z)(e),o=_.P.measureText(t||" ",e),h=o.lines,d=o.lineHeight,u=o.lineWidths,c=o.maxLineWidth,p=o.fontProperties,f=r.height;if(s.resetTransform(),s.scale(n,n),s.textBaseline=e.textBaseline,e._stroke?.width){const t=e._stroke;s.lineWidth=t.width,s.miterLimit=t.miterLimit,s.lineJoin=t.join,s.lineCap=t.cap}let g,S;s.font=a;const y=e.dropShadow?2:1;for(let t=0;t<y;++t){const r=e.dropShadow&&0===t,a=r?Math.ceil(Math.max(1,f)+2*e.padding):0,o=a*n;if(r){s.fillStyle="black",s.strokeStyle="black";const t=e.dropShadow,i=t.color,r=t.alpha;s.shadowColor=l.Q.shared.setValue(i).setAlpha(r).toRgbaString();const a=t.blur*n,h=t.distance*n;s.shadowBlur=a,s.shadowOffsetX=Math.cos(t.angle)*h,s.shadowOffsetY=Math.sin(t.angle)*h+o}else s.fillStyle=e._fill?(0,x.r)(e._fill,s):null,e._stroke?.width&&(s.strokeStyle=(0,x.r)(e._stroke,s)),s.shadowColor="black";let _=(d-p.fontSize)/2;d-p.fontSize<0&&(_=0);const m=e._stroke?.width??0;for(let t=0;t<h.length;t++)g=m/2,S=m/2+t*d+p.ascent+_,"right"===e.align?g+=c-u[t]:"center"===e.align&&(g+=(c-u[t])/2),e._stroke?.width&&this._drawLetterSpacing(h[t],e,i,g+e.padding,S+e.padding-a,!0),void 0!==e._fill&&this._drawLetterSpacing(h[t],e,i,g+e.padding,S+e.padding-a)}}_drawLetterSpacing(t,e,n,i,r,s=!1){const{context:a}=n,o=e.letterSpacing;let l=!1;if(_.P.experimentalLetterSpacingSupported&&(_.P.experimentalLetterSpacing?(a.letterSpacing=`${o}px`,a.textLetterSpacing=`${o}px`,l=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),0===o||l)return void(s?a.strokeText(t,i,r):a.fillText(t,i,r));let h=i;const d=_.P.graphemeSegmenter(t);let u=a.measureText(t).width,c=0;for(let t=0;t<d.length;++t){const e=d[t];s?a.strokeText(e,h,r):a.fillText(e,h,r);let n="";for(let e=t+1;e<d.length;++e)n+=d[e];c=a.measureText(n).width,h+=u-c+o,u=c}}destroy(){this._activeTextures=null}}S.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem,i.Ag.CanvasSystem],name:"canvasText"},i.XO.add(S),i.XO.add(o)},3521:(t,e,n)=>{n.d(e,{$:()=>x});var i=n(1026),r=n(3490),s=n(684),a=n(9278),o=n(7955),l=n(2152),h=n(2137),d=n(5106),u=n(6524);const c={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:" \n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        "}},p={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:" \n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        "}},f={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n                \n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n            \n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n             \n            }\n        "}},g={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n                \n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n               \n                // SDF\n                median = min(median, msdfColor.a);\n            \n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n           \n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);  \n              \n                return coverage;\n            }\n        "}};let _,m;class x extends d.M{constructor(){const t=new u.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),e=(0,r.a)();_??(_=(0,s.v)({name:"sdf-shader",bits:[a.F,(0,o._)(e),c,f,l.b]})),m??(m=(0,s.I)({name:"sdf-shader",bits:[a.a,(0,o.P)(e),p,g,l.m]})),super({glProgram:m,gpuProgram:_,resources:{localUniforms:t,batchSamplers:(0,h.n)(e)}})}}},9088:(t,e,n)=>{n.d(e,{V:()=>s});var i=n(1598);const r=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function s(t){const e=[];let n=0;for(let i=0;i<r.length;i++){const s=`_${r[i]}`;e[n++]=t[s]}return n=a(t._fill,e,n),n=function(t,e,n){return t?(n=a(t,e,n),e[n++]=t.width,e[n++]=t.alignment,e[n++]=t.cap,e[n++]=t.join,e[n++]=t.miterLimit,n):n}(t._stroke,e,n),n=function(t,e,n){return t?(e[n++]=t.alpha,e[n++]=t.angle,e[n++]=t.blur,e[n++]=t.distance,e[n++]=i.Q.shared.setValue(t.color).toNumber(),n):n}(t.dropShadow,e,n),e.join("-")}function a(t,e,n){return t?(e[n++]=t.color,e[n++]=t.alpha,e[n++]=t.fill?.styleKey,n):n}},5331:(t,e,n)=>{n.d(e,{M:()=>s});var i=n(1448);const r=new(n(3475).c);function s(t,e,n,s){const a=r;a.minX=0,a.minY=0,a.maxX=t.width/s|0,a.maxY=t.height/s|0;const o=i.W.getOptimalTexture(a.width,a.height,s,!1);return o.source.uploadMethodId="image",o.source.resource=t,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=e/s,o.frame.height=n/s,o.source.emit("update",o.source),o.updateUvs(),o}},2320:(t,e,n)=>{n.d(e,{l:()=>s});var i=n(3475),r=n(9032);class s extends r.mc{constructor(){super(...arguments),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=0,this._lastInstructionTick=-1,this._bounds=new i.c(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:n,y:i}=t;return n>=e.minX&&n<=e.maxX&&i>=e.minY&&i<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLi5wbnBtLTVmMTdiYjdjLjE0ZTZiZjAzZDA2Nzk1NzQ1MzUzLmpzIiwibWFwcGluZ3MiOiI0SkFLQSxNQUFNQSxVQUFxQkMsRUFBQSxFQUN6QixXQUFBQyxDQUFZQyxFQUFTQyxHQUNuQixNQUFNLEtBQUVDLEVBQUksV0FBRUMsRUFBVSxNQUFFQyxFQUFLLE9BQUVDLEVBQU0sTUFBRUMsRUFBSyxPQUFFQyxFQUFNLFlBQUVDLEtBQWdCQyxHQUFTVCxFQUNqRlUsTUFBTSxJQUNERCxJQUVMRSxLQUFLQyxTQUFVLEVBQ2ZELEtBQUtFLFlBQWMsS0FDbkJGLEtBQUtHLGlCQUFrQixFQUN2QkgsS0FBS0ksZ0JBQWlCLEVBQ3RCSixLQUFLSyxZQUFjZixFQUNuQlUsS0FBS1QsS0FBT0EsR0FBUSxHQUNwQlMsS0FBS1AsTUFBUUEsRUFDYk8sS0FBS1IsV0FBYUEsR0FBYyxLQUNoQ1EsS0FBS00sZUFBZ0IsRUFDckJOLEtBQUtPLFFBQVUsSUFBSUMsRUFBQSxFQUNqQixDQUNFQyxVQUFXLEtBQ1RULEtBQUtVLGNBQWMsSUFJckJoQixJQUNGTSxLQUFLTixPQUFTQSxHQUNoQk0sS0FBS0gsWUFBY0EsSUFBZSxPQUNwQixJQUFWRixJQUNGSyxLQUFLTCxNQUFRQSxRQUNBLElBQVhDLElBQ0ZJLEtBQUtKLE9BQVNBLEVBQ2xCLENBZ0JBLFVBQUlGLEdBQ0YsT0FBT00sS0FBS08sT0FDZCxDQUNBLFVBQUliLENBQU9pQixHQUNRLGlCQUFWQSxFQUFxQlgsS0FBS08sUUFBUUssSUFBSUQsR0FBU1gsS0FBS08sUUFBUU0sU0FBU0YsRUFDOUUsQ0FFQSxRQUFJcEIsQ0FBS29CLEdBQ1BBLEVBQVFBLEVBQU1HLFdBQ1ZkLEtBQUtlLFFBQVVKLElBRW5CWCxLQUFLZSxNQUFRSixFQUNiWCxLQUFLVSxlQUNQLENBQ0EsUUFBSW5CLEdBQ0YsT0FBT1MsS0FBS2UsS0FDZCxDQUtBLGNBQUl2QixDQUFXbUIsR0FDYlgsS0FBS0csZ0JBQTRCLE9BQVZRLEVBQ3ZCWCxLQUFLRSxZ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QUVsQyxDQUNBLE9BQUFxQyxDQUFRaEQsR0FDTlUsTUFBTXNDLFFBQVFoRCxHQUNkVyxLQUFLdUMsUUFBVSxJQUNqQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9BYnN0cmFjdFRleHQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvVGV4dC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9UZXh0U3R5bGUubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvY2FudmFzL0NhbnZhc1RleHRNZXRyaWNzLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy91dGlscy9mb250U3RyaW5nRnJvbVRleHRTdHlsZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvdXRpbHMvZ2V0Q2FudmFzRmlsbFN0eWxlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0UGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvQ2FudmFzVGV4dFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9tU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9TZGZTaGFkZXIubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvdXRpbHMvZ2VuZXJhdGVUZXh0U3R5bGVLZXkubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvdXRpbHMvZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3ZpZXcvVmlld0NvbnRhaW5lci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50IH0gZnJvbSAnLi4vLi4vbWF0aHMvcG9pbnQvT2JzZXJ2YWJsZVBvaW50Lm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgVmlld0NvbnRhaW5lciB9IGZyb20gJy4uL3ZpZXcvVmlld0NvbnRhaW5lci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEFic3RyYWN0VGV4dCBleHRlbmRzIFZpZXdDb250YWluZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBzdHlsZUNsYXNzKSB7XG4gICAgY29uc3QgeyB0ZXh0LCByZXNvbHV0aW9uLCBzdHlsZSwgYW5jaG9yLCB3aWR0aCwgaGVpZ2h0LCByb3VuZFBpeGVscywgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBzdXBlcih7XG4gICAgICAuLi5yZXN0XG4gICAgfSk7XG4gICAgdGhpcy5iYXRjaGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9yZXNvbHV0aW9uID0gbnVsbDtcbiAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgdGhpcy5fZGlkVGV4dFVwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy5fc3R5bGVDbGFzcyA9IHN0eWxlQ2xhc3M7XG4gICAgdGhpcy50ZXh0ID0gdGV4dCA/PyBcIlwiO1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uID8/IG51bGw7XG4gICAgdGhpcy5hbGxvd0NoaWxkcmVuID0gZmFsc2U7XG4gICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChcbiAgICAgIHtcbiAgICAgICAgX29uVXBkYXRlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vblZpZXdVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKGFuY2hvcilcbiAgICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSByb3VuZFBpeGVscyA/PyBmYWxzZTtcbiAgICBpZiAod2lkdGggIT09IHZvaWQgMClcbiAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICBpZiAoaGVpZ2h0ICE9PSB2b2lkIDApXG4gICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuICAvKipcbiAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgKlxuICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAqXG4gICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICpcbiAgICogSWYgeW91IHBhc3Mgb25seSBzaW5nbGUgcGFyYW1ldGVyLCBpdCB3aWxsIHNldCBib3RoIHggYW5kIHkgdG8gdGhlIHNhbWUgdmFsdWUgYXMgc2hvd24gaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gICAqIEBleGFtcGxlXG4gICAqIGltcG9ydCB7IFRleHQgfSBmcm9tICdwaXhpLmpzJztcbiAgICpcbiAgICogY29uc3QgdGV4dCA9IG5ldyBUZXh0KCdoZWxsbyB3b3JsZCcpO1xuICAgKiB0ZXh0LmFuY2hvci5zZXQoMC41KTsgLy8gVGhpcyB3aWxsIHNldCB0aGUgb3JpZ2luIHRvIGNlbnRlci4gKDAuNSkgaXMgc2FtZSBhcyAoMC41LCAwLjUpLlxuICAgKi9cbiAgZ2V0IGFuY2hvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICB9XG4gIHNldCBhbmNob3IodmFsdWUpIHtcbiAgICB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgPyB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKSA6IHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gIH1cbiAgLyoqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuICovXG4gIHNldCB0ZXh0KHZhbHVlKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLl90ZXh0ID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl90ZXh0ID0gdmFsdWU7XG4gICAgdGhpcy5vblZpZXdVcGRhdGUoKTtcbiAgfVxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgfVxuICAvKipcbiAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgc2V0IHJlc29sdXRpb24odmFsdWUpIHtcbiAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHZhbHVlID09PSBudWxsO1xuICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICB0aGlzLm9uVmlld1VwZGF0ZSgpO1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICB9XG4gIGdldCBzdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuXG4gICAqXG4gICAqIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICpcbiAgICogSWYgc2V0dGluZyB0aGUgYHN0eWxlYCBjYW4gYWxzbyBiZSBwYXJ0aWFsIHtAbGluayBBbnlUZXh0U3R5bGVPcHRpb25zfS5cbiAgICogQHR5cGUge1xuICAgKiB0ZXh0LlRleHRTdHlsZSB8XG4gICAqIFBhcnRpYWw8dGV4dC5UZXh0U3R5bGU+IHxcbiAgICogdGV4dC5UZXh0U3R5bGVPcHRpb25zIHxcbiAgICogdGV4dC5IVE1MVGV4dFN0eWxlIHxcbiAgICogUGFydGlhbDx0ZXh0LkhUTUxUZXh0U3R5bGU+IHxcbiAgICogdGV4dC5IVE1MVGV4dFN0eWxlT3B0aW9uc1xuICAgKiB9XG4gICAqL1xuICBzZXQgc3R5bGUoc3R5bGUpIHtcbiAgICBzdHlsZSB8fCAoc3R5bGUgPSB7fSk7XG4gICAgdGhpcy5fc3R5bGU/Lm9mZihcInVwZGF0ZVwiLCB0aGlzLm9uVmlld1VwZGF0ZSwgdGhpcyk7XG4gICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgdGhpcy5fc3R5bGVDbGFzcykge1xuICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgdGhpcy5fc3R5bGVDbGFzcyhzdHlsZSk7XG4gICAgfVxuICAgIHRoaXMuX3N0eWxlLm9uKFwidXBkYXRlXCIsIHRoaXMub25WaWV3VXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLm9uVmlld1VwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuYm91bmRzLndpZHRoO1xuICB9XG4gIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgIHRoaXMuX3NldFdpZHRoKHZhbHVlLCB0aGlzLmJvdW5kcy53aWR0aCk7XG4gIH1cbiAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLmJvdW5kcy5oZWlnaHQ7XG4gIH1cbiAgc2V0IGhlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMuX3NldEhlaWdodCh2YWx1ZSwgdGhpcy5ib3VuZHMuaGVpZ2h0KTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBzaXplIG9mIHRoZSBUZXh0IGFzIGEgW1NpemVde0BsaW5rIFNpemV9IG9iamVjdC5cbiAgICogVGhpcyBpcyBmYXN0ZXIgdGhhbiBnZXQgdGhlIHdpZHRoIGFuZCBoZWlnaHQgc2VwYXJhdGVseS5cbiAgICogQHBhcmFtIG91dCAtIE9wdGlvbmFsIG9iamVjdCB0byBzdG9yZSB0aGUgc2l6ZSBpbi5cbiAgICogQHJldHVybnMgLSBUaGUgc2l6ZSBvZiB0aGUgVGV4dC5cbiAgICovXG4gIGdldFNpemUob3V0KSB7XG4gICAgb3V0IHx8IChvdXQgPSB7fSk7XG4gICAgb3V0LndpZHRoID0gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuYm91bmRzLndpZHRoO1xuICAgIG91dC5oZWlnaHQgPSBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5ib3VuZHMuaGVpZ2h0O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNpemUgb2YgdGhlIFRleHQgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgKiBUaGlzIGlzIGZhc3RlciB0aGFuIHNldHRpbmcgdGhlIHdpZHRoIGFuZCBoZWlnaHQgc2VwYXJhdGVseS5cbiAgICogQHBhcmFtIHZhbHVlIC0gVGhpcyBjYW4gYmUgZWl0aGVyIGEgbnVtYmVyIG9yIGEgW1NpemVde0BsaW5rIFNpemV9IG9iamVjdC5cbiAgICogQHBhcmFtIGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gc2V0LiBEZWZhdWx0cyB0byB0aGUgdmFsdWUgb2YgYHdpZHRoYCBpZiBub3QgcHJvdmlkZWQuXG4gICAqL1xuICBzZXRTaXplKHZhbHVlLCBoZWlnaHQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBoZWlnaHQgPSB2YWx1ZS5oZWlnaHQgPz8gdmFsdWUud2lkdGg7XG4gICAgICB2YWx1ZSA9IHZhbHVlLndpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHQgPz8gKGhlaWdodCA9IHZhbHVlKTtcbiAgICB9XG4gICAgdmFsdWUgIT09IHZvaWQgMCAmJiB0aGlzLl9zZXRXaWR0aCh2YWx1ZSwgdGhpcy5ib3VuZHMud2lkdGgpO1xuICAgIGhlaWdodCAhPT0gdm9pZCAwICYmIHRoaXMuX3NldEhlaWdodChoZWlnaHQsIHRoaXMuYm91bmRzLmhlaWdodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgdGV4dCBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQuXG4gICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgKi9cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5ib3VuZHMud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5ib3VuZHMuaGVpZ2h0O1xuICAgIGNvbnN0IHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICBsZXQgeTEgPSAwO1xuICAgIGlmIChwb2ludC54ID49IHgxICYmIHBvaW50LnggPD0geDEgKyB3aWR0aCkge1xuICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgIGlmIChwb2ludC55ID49IHkxICYmIHBvaW50LnkgPD0geTEgKyBoZWlnaHQpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgb25WaWV3VXBkYXRlKCkge1xuICAgIGlmICghdGhpcy5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fZGlkVGV4dFVwZGF0ZSA9IHRydWU7XG4gICAgc3VwZXIub25WaWV3VXBkYXRlKCk7XG4gIH1cbiAgX2dldEtleSgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy50ZXh0fToke3RoaXMuX3N0eWxlLnN0eWxlS2V5fToke3RoaXMuX3Jlc29sdXRpb259YDtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyB0ZXh0IHJlbmRlcmFibGUgYW5kIG9wdGlvbmFsbHkgaXRzIHN0eWxlIHRleHR1cmUuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgdGV4dCBzdHlsZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmVTb3VyY2U9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmVTb3VyY2Ugb2YgdGhlIHRleHQgc3R5bGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zdHlsZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgc3R5bGUgb2YgdGhlIHRleHRcbiAgICovXG4gIGRlc3Ryb3kob3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB0aGlzLm93bmVyID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiBvcHRpb25zPy5zdHlsZSkge1xuICAgICAgdGhpcy5fc3R5bGUuZGVzdHJveShvcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIHRoaXMuX3RleHQgPSBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBlbnN1cmVPcHRpb25zKGFyZ3MsIG5hbWUpIHtcbiAgbGV0IG9wdGlvbnMgPSBhcmdzWzBdID8/IHt9O1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgfHwgYXJnc1sxXSkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgYHVzZSBuZXcgJHtuYW1lfSh7IHRleHQ6IFwiaGkhXCIsIHN0eWxlIH0pIGluc3RlYWRgKTtcbiAgICBvcHRpb25zID0ge1xuICAgICAgdGV4dDogb3B0aW9ucyxcbiAgICAgIHN0eWxlOiBhcmdzWzFdXG4gICAgfTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZXhwb3J0IHsgQWJzdHJhY3RUZXh0LCBlbnN1cmVPcHRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdFRleHQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQWJzdHJhY3RUZXh0LCBlbnN1cmVPcHRpb25zIH0gZnJvbSAnLi9BYnN0cmFjdFRleHQubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH0gZnJvbSAnLi9jYW52YXMvQ2FudmFzVGV4dE1ldHJpY3MubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4vVGV4dFN0eWxlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgVGV4dCBleHRlbmRzIEFic3RyYWN0VGV4dCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBvcHRpb25zID0gZW5zdXJlT3B0aW9ucyhhcmdzLCBcIlRleHRcIik7XG4gICAgc3VwZXIob3B0aW9ucywgVGV4dFN0eWxlKTtcbiAgICB0aGlzLnJlbmRlclBpcGVJZCA9IFwidGV4dFwiO1xuICB9XG4gIC8qKiBAcHJpdmF0ZSAqL1xuICB1cGRhdGVCb3VuZHMoKSB7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcbiAgICBjb25zdCBjYW52YXNNZWFzdXJlbWVudCA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KFxuICAgICAgdGhpcy5fdGV4dCxcbiAgICAgIHRoaXMuX3N0eWxlXG4gICAgKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNhbnZhc01lYXN1cmVtZW50O1xuICAgIGJvdW5kcy5taW5YID0gLWFuY2hvci5feCAqIHdpZHRoO1xuICAgIGJvdW5kcy5tYXhYID0gYm91bmRzLm1pblggKyB3aWR0aDtcbiAgICBib3VuZHMubWluWSA9IC1hbmNob3IuX3kgKiBoZWlnaHQ7XG4gICAgYm91bmRzLm1heFkgPSBib3VuZHMubWluWSArIGhlaWdodDtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0Lm1qcy5tYXBcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuaW1wb3J0IHsgRmlsbEdyYWRpZW50IH0gZnJvbSAnLi4vZ3JhcGhpY3Mvc2hhcmVkL2ZpbGwvRmlsbEdyYWRpZW50Lm1qcyc7XG5pbXBvcnQgeyBGaWxsUGF0dGVybiB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC9maWxsL0ZpbGxQYXR0ZXJuLm1qcyc7XG5pbXBvcnQgeyBHcmFwaGljc0NvbnRleHQgfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvR3JhcGhpY3NDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB0b0ZpbGxTdHlsZSwgdG9TdHJva2VTdHlsZSB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC91dGlscy9jb252ZXJ0RmlsbElucHV0VG9GaWxsU3R5bGUubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVGV4dFN0eWxlS2V5IH0gZnJvbSAnLi91dGlscy9nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9UZXh0U3R5bGUgPSBjbGFzcyBfVGV4dFN0eWxlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Ioc3R5bGUgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgY29udmVydFY3VG92OFN0eWxlKHN0eWxlKTtcbiAgICBjb25zdCBmdWxsU3R5bGUgPSB7IC4uLl9UZXh0U3R5bGUuZGVmYXVsdFRleHRTdHlsZSwgLi4uc3R5bGUgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmdWxsU3R5bGUpIHtcbiAgICAgIGNvbnN0IHRoaXNLZXkgPSBrZXk7XG4gICAgICB0aGlzW3RoaXNLZXldID0gZnVsbFN0eWxlW2tleV07XG4gICAgfVxuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQsIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0LlxuICAgKiBAbWVtYmVyIHsnbGVmdCd8J2NlbnRlcid8J3JpZ2h0J3wnanVzdGlmeSd9XG4gICAqL1xuICBnZXQgYWxpZ24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICB9XG4gIHNldCBhbGlnbih2YWx1ZSkge1xuICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWUuICovXG4gIGdldCBicmVha1dvcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICB9XG4gIHNldCBicmVha1dvcmRzKHZhbHVlKSB7XG4gICAgdGhpcy5fYnJlYWtXb3JkcyA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dC4gKi9cbiAgZ2V0IGRyb3BTaGFkb3coKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG4gIH1cbiAgc2V0IGRyb3BTaGFkb3codmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aGlzLl9kcm9wU2hhZG93ID0gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5fVGV4dFN0eWxlLmRlZmF1bHREcm9wU2hhZG93LCAuLi52YWx1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IHZhbHVlID8gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5fVGV4dFN0eWxlLmRlZmF1bHREcm9wU2hhZG93IH0pIDogbnVsbDtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIGZvbnQgZmFtaWx5LCBjYW4gYmUgYSBzaW5nbGUgZm9udCBuYW1lLCBvciBhIGxpc3Qgb2YgbmFtZXMgd2hlcmUgdGhlIGZpcnN0IGlzIHRoZSBwcmVmZXJyZWQgZm9udC4gKi9cbiAgZ2V0IGZvbnRGYW1pbHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gIH1cbiAgc2V0IGZvbnRGYW1pbHkodmFsdWUpIHtcbiAgICB0aGlzLl9mb250RmFtaWx5ID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpICovXG4gIGdldCBmb250U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gIH1cbiAgc2V0IGZvbnRTaXplKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5fZm9udFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgZm9udCBzdHlsZS5cbiAgICogQG1lbWJlciB7J25vcm1hbCd8J2l0YWxpYyd8J29ibGlxdWUnfVxuICAgKi9cbiAgZ2V0IGZvbnRTdHlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICB9XG4gIHNldCBmb250U3R5bGUodmFsdWUpIHtcbiAgICB0aGlzLl9mb250U3R5bGUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBmb250IHZhcmlhbnQuXG4gICAqIEBtZW1iZXIgeydub3JtYWwnfCdzbWFsbC1jYXBzJ31cbiAgICovXG4gIGdldCBmb250VmFyaWFudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gIH1cbiAgc2V0IGZvbnRWYXJpYW50KHZhbHVlKSB7XG4gICAgdGhpcy5fZm9udFZhcmlhbnQgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgZm9udCB3ZWlnaHQuXG4gICAqIEBtZW1iZXIgeydub3JtYWwnfCdib2xkJ3wnYm9sZGVyJ3wnbGlnaHRlcid8JzEwMCd8JzIwMCd8JzMwMCd8JzQwMCd8JzUwMCd8JzYwMCd8JzcwMCd8JzgwMCd8JzkwMCd9XG4gICAqL1xuICBnZXQgZm9udFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgfVxuICBzZXQgZm9udFdlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lcy4gKi9cbiAgZ2V0IGxlYWRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gIH1cbiAgc2V0IGxlYWRpbmcodmFsdWUpIHtcbiAgICB0aGlzLl9sZWFkaW5nID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwLiAqL1xuICBnZXQgbGV0dGVyU3BhY2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgfVxuICBzZXQgbGV0dGVyU3BhY2luZyh2YWx1ZSkge1xuICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzLiAqL1xuICBnZXQgbGluZUhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbiAgfVxuICBzZXQgbGluZUhlaWdodCh2YWx1ZSkge1xuICAgIHRoaXMuX2xpbmVIZWlnaHQgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAqL1xuICBnZXQgcGFkZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgfVxuICBzZXQgcGFkZGluZyh2YWx1ZSkge1xuICAgIHRoaXMuX3BhZGRpbmcgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMuIFRoaXMgaXMgYW4gZXhwZW5zaXZlIG9wZXJhdGlvbiBzbyBvbmx5IHVzZSB0aGlzIGlmIHlvdSBoYXZlIHRvISAqL1xuICBnZXQgdHJpbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgfVxuICBzZXQgdHJpbSh2YWx1ZSkge1xuICAgIHRoaXMuX3RyaW0gPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICogQG1lbWJlciB7J2FscGhhYmV0aWMnfCd0b3AnfCdoYW5naW5nJ3wnbWlkZGxlJ3wnaWRlb2dyYXBoaWMnfCdib3R0b20nfVxuICAgKi9cbiAgZ2V0IHRleHRCYXNlbGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lO1xuICB9XG4gIHNldCB0ZXh0QmFzZWxpbmUodmFsdWUpIHtcbiAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICogRGVmYXVsdCBpcyAncHJlJyAocHJlc2VydmUsIHByZXNlcnZlKS5cbiAgICpcbiAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAqICAtLS0gICAgICAgICB8IC0tLSAgICAgICAgICAgfCAgIC0tLVxuICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgKiAncHJlLWxpbmUnICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBDb2xsYXBzZVxuICAgKiBAbWVtYmVyIHsnbm9ybWFsJ3wncHJlJ3wncHJlLWxpbmUnfVxuICAgKi9cbiAgZ2V0IHdoaXRlU3BhY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gIH1cbiAgc2V0IHdoaXRlU3BhY2UodmFsdWUpIHtcbiAgICB0aGlzLl93aGl0ZVNwYWNlID0gdmFsdWU7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuICAvKiogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZC4gKi9cbiAgZ2V0IHdvcmRXcmFwKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgfVxuICBzZXQgd29yZFdyYXAodmFsdWUpIHtcbiAgICB0aGlzLl93b3JkV3JhcCA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWUuICovXG4gIGdldCB3b3JkV3JhcFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xuICB9XG4gIHNldCB3b3JkV3JhcFdpZHRoKHZhbHVlKSB7XG4gICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgLyoqIEEgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZy4sICdyZWQnLCAnIzAwRkYwMCcuICovXG4gIGdldCBmaWxsKCkge1xuICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbEZpbGw7XG4gIH1cbiAgc2V0IGZpbGwodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMuX29yaWdpbmFsRmlsbClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl9vcmlnaW5hbEZpbGwgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5faXNGaWxsU3R5bGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9vcmlnaW5hbEZpbGwgPSB0aGlzLl9jcmVhdGVQcm94eSh7IC4uLkdyYXBoaWNzQ29udGV4dC5kZWZhdWx0RmlsbFN0eWxlLCAuLi52YWx1ZSB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2ZpbGwgPSB0b0ZpbGxTdHlsZShcbiAgICAgICAgICB7IC4uLnRoaXMuX29yaWdpbmFsRmlsbCB9LFxuICAgICAgICAgIEdyYXBoaWNzQ29udGV4dC5kZWZhdWx0RmlsbFN0eWxlXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fZmlsbCA9IHRvRmlsbFN0eWxlKFxuICAgICAgdmFsdWUgPT09IDAgPyBcImJsYWNrXCIgOiB2YWx1ZSxcbiAgICAgIEdyYXBoaWNzQ29udGV4dC5kZWZhdWx0RmlsbFN0eWxlXG4gICAgKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBBIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2UsIGUuZy4sICdibHVlJywgJyNGQ0ZGMDAnLiAqL1xuICBnZXQgc3Ryb2tlKCkge1xuICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbFN0cm9rZTtcbiAgfVxuICBzZXQgc3Ryb2tlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLl9vcmlnaW5hbFN0cm9rZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLl9vcmlnaW5hbFN0cm9rZSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLl9pc0ZpbGxTdHlsZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuX29yaWdpbmFsU3Ryb2tlID0gdGhpcy5fY3JlYXRlUHJveHkoeyAuLi5HcmFwaGljc0NvbnRleHQuZGVmYXVsdFN0cm9rZVN0eWxlLCAuLi52YWx1ZSB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3N0cm9rZSA9IHRvU3Ryb2tlU3R5bGUoXG4gICAgICAgICAgeyAuLi50aGlzLl9vcmlnaW5hbFN0cm9rZSB9LFxuICAgICAgICAgIEdyYXBoaWNzQ29udGV4dC5kZWZhdWx0U3Ryb2tlU3R5bGVcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9zdHJva2UgPSB0b1N0cm9rZVN0eWxlKHZhbHVlLCBHcmFwaGljc0NvbnRleHQuZGVmYXVsdFN0cm9rZVN0eWxlKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG4gIF9nZW5lcmF0ZUtleSgpIHtcbiAgICB0aGlzLl9zdHlsZUtleSA9IGdlbmVyYXRlVGV4dFN0eWxlS2V5KHRoaXMpO1xuICAgIHJldHVybiB0aGlzLl9zdHlsZUtleTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5fc3R5bGVLZXkgPSBudWxsO1xuICAgIHRoaXMuZW1pdChcInVwZGF0ZVwiLCB0aGlzKTtcbiAgfVxuICAvKiogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0IHZhbHVlcyAqL1xuICByZXNldCgpIHtcbiAgICBjb25zdCBkZWZhdWx0U3R5bGUgPSBfVGV4dFN0eWxlLmRlZmF1bHRUZXh0U3R5bGU7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdFN0eWxlKSB7XG4gICAgICB0aGlzW2tleV0gPSBkZWZhdWx0U3R5bGVba2V5XTtcbiAgICB9XG4gIH1cbiAgZ2V0IHN0eWxlS2V5KCkge1xuICAgIHJldHVybiB0aGlzLl9zdHlsZUtleSB8fCB0aGlzLl9nZW5lcmF0ZUtleSgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAqIEByZXR1cm5zIE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfVGV4dFN0eWxlKHtcbiAgICAgIGFsaWduOiB0aGlzLmFsaWduLFxuICAgICAgYnJlYWtXb3JkczogdGhpcy5icmVha1dvcmRzLFxuICAgICAgZHJvcFNoYWRvdzogdGhpcy5fZHJvcFNoYWRvdyA/IHsgLi4udGhpcy5fZHJvcFNoYWRvdyB9IDogbnVsbCxcbiAgICAgIGZpbGw6IHRoaXMuX2ZpbGwsXG4gICAgICBmb250RmFtaWx5OiB0aGlzLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZSxcbiAgICAgIGZvbnRTdHlsZTogdGhpcy5mb250U3R5bGUsXG4gICAgICBmb250VmFyaWFudDogdGhpcy5mb250VmFyaWFudCxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCxcbiAgICAgIGxlYWRpbmc6IHRoaXMubGVhZGluZyxcbiAgICAgIGxldHRlclNwYWNpbmc6IHRoaXMubGV0dGVyU3BhY2luZyxcbiAgICAgIGxpbmVIZWlnaHQ6IHRoaXMubGluZUhlaWdodCxcbiAgICAgIHBhZGRpbmc6IHRoaXMucGFkZGluZyxcbiAgICAgIHN0cm9rZTogdGhpcy5fc3Ryb2tlLFxuICAgICAgdGV4dEJhc2VsaW5lOiB0aGlzLnRleHRCYXNlbGluZSxcbiAgICAgIHdoaXRlU3BhY2U6IHRoaXMud2hpdGVTcGFjZSxcbiAgICAgIHdvcmRXcmFwOiB0aGlzLndvcmRXcmFwLFxuICAgICAgd29yZFdyYXBXaWR0aDogdGhpcy53b3JkV3JhcFdpZHRoXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBzdHlsZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSB0aGlzIHN0eWxlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZVNvdXJjZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZVNvdXJjZSBvZiB0aGUgdGhpcyBzdHlsZVxuICAgKi9cbiAgZGVzdHJveShvcHRpb25zID0gZmFsc2UpIHtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGNvbnN0IGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucyA6IG9wdGlvbnM/LnRleHR1cmU7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICBjb25zdCBkZXN0cm95VGV4dHVyZVNvdXJjZSA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMgOiBvcHRpb25zPy50ZXh0dXJlU291cmNlO1xuICAgICAgaWYgKHRoaXMuX2ZpbGw/LnRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fZmlsbC50ZXh0dXJlLmRlc3Ryb3koZGVzdHJveVRleHR1cmVTb3VyY2UpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsRmlsbD8udGV4dHVyZSkge1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEZpbGwudGV4dHVyZS5kZXN0cm95KGRlc3Ryb3lUZXh0dXJlU291cmNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9zdHJva2U/LnRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fc3Ryb2tlLnRleHR1cmUuZGVzdHJveShkZXN0cm95VGV4dHVyZVNvdXJjZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fb3JpZ2luYWxTdHJva2U/LnRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxTdHJva2UudGV4dHVyZS5kZXN0cm95KGRlc3Ryb3lUZXh0dXJlU291cmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZmlsbCA9IG51bGw7XG4gICAgdGhpcy5fc3Ryb2tlID0gbnVsbDtcbiAgICB0aGlzLmRyb3BTaGFkb3cgPSBudWxsO1xuICAgIHRoaXMuX29yaWdpbmFsU3Ryb2tlID0gbnVsbDtcbiAgICB0aGlzLl9vcmlnaW5hbEZpbGwgPSBudWxsO1xuICB9XG4gIF9jcmVhdGVQcm94eSh2YWx1ZSwgY2IpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHZhbHVlLCB7XG4gICAgICBzZXQ6ICh0YXJnZXQsIHByb3BlcnR5LCBuZXdWYWx1ZSkgPT4ge1xuICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gbmV3VmFsdWU7XG4gICAgICAgIGNiPy4ocHJvcGVydHksIG5ld1ZhbHVlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX2lzRmlsbFN0eWxlKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSA/PyBudWxsKSAhPT0gbnVsbCAmJiAhKENvbG9yLmlzQ29sb3JMaWtlKHZhbHVlKSB8fCB2YWx1ZSBpbnN0YW5jZW9mIEZpbGxHcmFkaWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIEZpbGxQYXR0ZXJuKTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBkcm9wIHNoYWRvdyBzZXR0aW5ncyAqL1xuX1RleHRTdHlsZS5kZWZhdWx0RHJvcFNoYWRvdyA9IHtcbiAgLyoqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93ICovXG4gIGFscGhhOiAxLFxuICAvKiogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93ICovXG4gIGFuZ2xlOiBNYXRoLlBJIC8gNixcbiAgLyoqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1cyAqL1xuICBibHVyOiAwLFxuICAvKiogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlICBlLmcuLCAncmVkJywgJyMwMEZGMDAnICovXG4gIGNvbG9yOiBcImJsYWNrXCIsXG4gIC8qKiBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3cgKi9cbiAgZGlzdGFuY2U6IDVcbn07XG4vKiogVGhlIGRlZmF1bHQgdGV4dCBzdHlsZSBzZXR0aW5ncyAqL1xuX1RleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlID0ge1xuICAvKipcbiAgICogU2VlIHtAbGluayBUZXh0U3R5bGUuYWxpZ259XG4gICAqIEB0eXBlIHsnbGVmdCd8J2NlbnRlcid8J3JpZ2h0J3wnanVzdGlmeSd9XG4gICAqL1xuICBhbGlnbjogXCJsZWZ0XCIsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS5icmVha1dvcmRzfSAqL1xuICBicmVha1dvcmRzOiBmYWxzZSxcbiAgLyoqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmRyb3BTaGFkb3d9ICovXG4gIGRyb3BTaGFkb3c6IG51bGwsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS5maWxsfVxuICAgKiBAdHlwZSB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICAgKi9cbiAgZmlsbDogXCJibGFja1wiLFxuICAvKipcbiAgICogU2VlIHtAbGluayBUZXh0U3R5bGUuZm9udEZhbWlseX1cbiAgICogQHR5cGUge3N0cmluZ3xzdHJpbmdbXX1cbiAgICovXG4gIGZvbnRGYW1pbHk6IFwiQXJpYWxcIixcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmZvbnRTaXplfVxuICAgKiBAdHlwZSB7bnVtYmVyfHN0cmluZ31cbiAgICovXG4gIGZvbnRTaXplOiAyNixcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmZvbnRTdHlsZX1cbiAgICogQHR5cGUgeydub3JtYWwnfCdpdGFsaWMnfCdvYmxpcXVlJ31cbiAgICovXG4gIGZvbnRTdHlsZTogXCJub3JtYWxcIixcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmZvbnRWYXJpYW50fVxuICAgKiBAdHlwZSB7J25vcm1hbCd8J3NtYWxsLWNhcHMnfVxuICAgKi9cbiAgZm9udFZhcmlhbnQ6IFwibm9ybWFsXCIsXG4gIC8qKlxuICAgKiBTZWUge0BsaW5rIFRleHRTdHlsZS5mb250V2VpZ2h0fVxuICAgKiBAdHlwZSB7J25vcm1hbCd8J2JvbGQnfCdib2xkZXInfCdsaWdodGVyJ3wnMTAwJ3wnMjAwJ3wnMzAwJ3wnNDAwJ3wnNTAwJ3wnNjAwJ3wnNzAwJ3wnODAwJ3wnOTAwJ31cbiAgICovXG4gIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS5sZWFkaW5nfSAqL1xuICBsZWFkaW5nOiAwLFxuICAvKiogU2VlIHtAbGluayBUZXh0U3R5bGUubGV0dGVyU3BhY2luZ30gKi9cbiAgbGV0dGVyU3BhY2luZzogMCxcbiAgLyoqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLmxpbmVIZWlnaHR9ICovXG4gIGxpbmVIZWlnaHQ6IDAsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS5wYWRkaW5nfSAqL1xuICBwYWRkaW5nOiAwLFxuICAvKipcbiAgICogU2VlIHtAbGluayBUZXh0U3R5bGUuc3Ryb2tlfVxuICAgKiBAdHlwZSB7c3RyaW5nfG51bWJlcn1cbiAgICovXG4gIHN0cm9rZTogbnVsbCxcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLnRleHRCYXNlbGluZX1cbiAgICogQHR5cGUgeydhbHBoYWJldGljJ3wndG9wJ3wnaGFuZ2luZyd8J21pZGRsZSd8J2lkZW9ncmFwaGljJ3wnYm90dG9tJ31cbiAgICovXG4gIHRleHRCYXNlbGluZTogXCJhbHBoYWJldGljXCIsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS50cmltfSAqL1xuICB0cmltOiBmYWxzZSxcbiAgLyoqXG4gICAqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLndoaXRlU3BhY2V9XG4gICAqIEB0eXBlIHsnbm9ybWFsJ3wncHJlJ3wncHJlLWxpbmUnfVxuICAgKi9cbiAgd2hpdGVTcGFjZTogXCJwcmVcIixcbiAgLyoqIFNlZSB7QGxpbmsgVGV4dFN0eWxlLndvcmRXcmFwfSAqL1xuICB3b3JkV3JhcDogZmFsc2UsXG4gIC8qKiBTZWUge0BsaW5rIFRleHRTdHlsZS53b3JkV3JhcFdpZHRofSAqL1xuICB3b3JkV3JhcFdpZHRoOiAxMDBcbn07XG5sZXQgVGV4dFN0eWxlID0gX1RleHRTdHlsZTtcbmZ1bmN0aW9uIGNvbnZlcnRWN1RvdjhTdHlsZShzdHlsZSkge1xuICBjb25zdCBvbGRTdHlsZSA9IHN0eWxlO1xuICBpZiAodHlwZW9mIG9sZFN0eWxlLmRyb3BTaGFkb3cgPT09IFwiYm9vbGVhblwiICYmIG9sZFN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IFRleHRTdHlsZS5kZWZhdWx0RHJvcFNoYWRvdztcbiAgICBzdHlsZS5kcm9wU2hhZG93ID0ge1xuICAgICAgYWxwaGE6IG9sZFN0eWxlLmRyb3BTaGFkb3dBbHBoYSA/PyBkZWZhdWx0cy5hbHBoYSxcbiAgICAgIGFuZ2xlOiBvbGRTdHlsZS5kcm9wU2hhZG93QW5nbGUgPz8gZGVmYXVsdHMuYW5nbGUsXG4gICAgICBibHVyOiBvbGRTdHlsZS5kcm9wU2hhZG93Qmx1ciA/PyBkZWZhdWx0cy5ibHVyLFxuICAgICAgY29sb3I6IG9sZFN0eWxlLmRyb3BTaGFkb3dDb2xvciA/PyBkZWZhdWx0cy5jb2xvcixcbiAgICAgIGRpc3RhbmNlOiBvbGRTdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgPz8gZGVmYXVsdHMuZGlzdGFuY2VcbiAgICB9O1xuICB9XG4gIGlmIChvbGRTdHlsZS5zdHJva2VUaGlja25lc3MgIT09IHZvaWQgMCkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJzdHJva2VUaGlja25lc3MgaXMgbm93IGEgcGFydCBvZiBzdHJva2VcIik7XG4gICAgY29uc3QgY29sb3IgPSBvbGRTdHlsZS5zdHJva2U7XG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIGlmIChDb2xvci5pc0NvbG9yTGlrZShjb2xvcikpIHtcbiAgICAgIG9iai5jb2xvciA9IGNvbG9yO1xuICAgIH0gZWxzZSBpZiAoY29sb3IgaW5zdGFuY2VvZiBGaWxsR3JhZGllbnQgfHwgY29sb3IgaW5zdGFuY2VvZiBGaWxsUGF0dGVybikge1xuICAgICAgb2JqLmZpbGwgPSBjb2xvcjtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbG9yLCBcImNvbG9yXCIpIHx8IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbG9yLCBcImZpbGxcIikpIHtcbiAgICAgIG9iaiA9IGNvbG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cm9rZSB2YWx1ZS5cIik7XG4gICAgfVxuICAgIHN0eWxlLnN0cm9rZSA9IHtcbiAgICAgIC4uLm9iaixcbiAgICAgIHdpZHRoOiBvbGRTdHlsZS5zdHJva2VUaGlja25lc3NcbiAgICB9O1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG9sZFN0eWxlLmZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJncmFkaWVudCBmaWxsIGlzIG5vdyBhIGZpbGwgcGF0dGVybjogYG5ldyBGaWxsR3JhZGllbnQoLi4uKWBcIik7XG4gICAgbGV0IGZvbnRTaXplO1xuICAgIGlmIChzdHlsZS5mb250U2l6ZSA9PSBudWxsKSB7XG4gICAgICBzdHlsZS5mb250U2l6ZSA9IFRleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlLmZvbnRTaXplO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0eWxlLmZvbnRTaXplID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBmb250U2l6ZSA9IHBhcnNlSW50KHN0eWxlLmZvbnRTaXplLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgfVxuICAgIGNvbnN0IGdyYWRpZW50RmlsbCA9IG5ldyBGaWxsR3JhZGllbnQoMCwgMCwgMCwgZm9udFNpemUgKiAxLjcpO1xuICAgIGNvbnN0IGZpbGxzID0gb2xkU3R5bGUuZmlsbEdyYWRpZW50U3RvcHMubWFwKChjb2xvcikgPT4gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGNvbG9yKS50b051bWJlcigpKTtcbiAgICBmaWxscy5mb3JFYWNoKChudW1iZXIsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCByYXRpbyA9IGluZGV4IC8gKGZpbGxzLmxlbmd0aCAtIDEpO1xuICAgICAgZ3JhZGllbnRGaWxsLmFkZENvbG9yU3RvcChyYXRpbywgbnVtYmVyKTtcbiAgICB9KTtcbiAgICBzdHlsZS5maWxsID0ge1xuICAgICAgZmlsbDogZ3JhZGllbnRGaWxsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgeyBUZXh0U3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRTdHlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBET01BZGFwdGVyIH0gZnJvbSAnLi4vLi4vLi4vZW52aXJvbm1lbnQvYWRhcHRlci5tanMnO1xuaW1wb3J0IHsgZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUgfSBmcm9tICcuL3V0aWxzL2ZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgY29udGV4dFNldHRpbmdzID0ge1xuICAvLyBUZXh0TWV0cmljcyByZXF1aXJlcyBnZXRJbWFnZURhdGEgcmVhZGJhY2sgZm9yIG1lYXN1cmluZyBmb250cy5cbiAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlXG59O1xuY29uc3QgX0NhbnZhc1RleHRNZXRyaWNzID0gY2xhc3MgX0NhbnZhc1RleHRNZXRyaWNzIHtcbiAgLyoqXG4gICAqIENoZWNraW5nIHRoYXQgd2UgY2FuIHVzZSBtb2Rlcm4gY2FudmFzIDJEIEFQSS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBpcyBhbiB1bnN0YWJsZSBBUEksIENocm9tZSA8IDk0IHVzZSBgdGV4dExldHRlclNwYWNpbmdgLCBsYXRlciB2ZXJzaW9ucyB1c2UgYGxldHRlclNwYWNpbmdgLlxuICAgKiBAc2VlIFRleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSUNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9sZXR0ZXJTcGFjaW5nXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9vcmlnaW50cmlhbHMvIy92aWV3X3RyaWFsLzM1ODU5OTEyMDMyOTM3NTc0NDFcbiAgICovXG4gIHN0YXRpYyBnZXQgZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCgpIHtcbiAgICBsZXQgcmVzdWx0ID0gX0NhbnZhc1RleHRNZXRyaWNzLl9leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkO1xuICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgcHJvdG8gPSBET01BZGFwdGVyLmdldCgpLmdldENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCgpLnByb3RvdHlwZTtcbiAgICAgIHJlc3VsdCA9IF9DYW52YXNUZXh0TWV0cmljcy5fZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCA9IFwibGV0dGVyU3BhY2luZ1wiIGluIHByb3RvIHx8IFwidGV4dExldHRlclNwYWNpbmdcIiBpbiBwcm90bztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHRleHQgLSB0aGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgKiBAcGFyYW0gc3R5bGUgLSB0aGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICogQHBhcmFtIHdpZHRoIC0gdGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAqIEBwYXJhbSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAqIEBwYXJhbSBsaW5lcyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lcyBvZiB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlmIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgKiBAcGFyYW0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgKiBAcGFyYW0gbGluZUhlaWdodCAtIHRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgKiBAcGFyYW0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAqIEBwYXJhbSB7Rm9udE1ldHJpY3N9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgKi9cbiAgY29uc3RydWN0b3IodGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG4gICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICB9XG4gIC8qKlxuICAgKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICogQHBhcmFtIHN0eWxlIC0gVGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICogQHBhcmFtIGNhbnZhcyAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICogQHBhcmFtIHdvcmRXcmFwXG4gICAqIEByZXR1cm5zIE1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAqL1xuICBzdGF0aWMgbWVhc3VyZVRleHQodGV4dCA9IFwiIFwiLCBzdHlsZSwgY2FudmFzID0gX0NhbnZhc1RleHRNZXRyaWNzLl9jYW52YXMsIHdvcmRXcmFwID0gc3R5bGUud29yZFdyYXApIHtcbiAgICBjb25zdCB0ZXh0S2V5ID0gYCR7dGV4dH06JHtzdHlsZS5zdHlsZUtleX1gO1xuICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuX21lYXN1cmVtZW50Q2FjaGVbdGV4dEtleV0pXG4gICAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlbWVudENhY2hlW3RleHRLZXldO1xuICAgIGNvbnN0IGZvbnQgPSBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSk7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKSB7XG4gICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX19jb250ZXh0O1xuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgY29uc3Qgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gX0NhbnZhc1RleHRNZXRyaWNzLl93b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgY29uc3QgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGluZVdpZHRoID0gX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlVGV4dChsaW5lc1tpXSwgc3R5bGUubGV0dGVyU3BhY2luZywgY29udGV4dCk7XG4gICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgIH1cbiAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0eWxlLl9zdHJva2U/LndpZHRoIHx8IDA7XG4gICAgbGV0IHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3Ryb2tlV2lkdGg7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3cuZGlzdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplO1xuICAgIGxldCBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0cm9rZVdpZHRoKSArIChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyk7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93LmRpc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBtZWFzdXJlbWVudHMgPSBuZXcgX0NhbnZhc1RleHRNZXRyaWNzKFxuICAgICAgdGV4dCxcbiAgICAgIHN0eWxlLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBsaW5lcyxcbiAgICAgIGxpbmVXaWR0aHMsXG4gICAgICBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyxcbiAgICAgIG1heExpbmVXaWR0aCxcbiAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgKTtcbiAgICByZXR1cm4gbWVhc3VyZW1lbnRzO1xuICB9XG4gIHN0YXRpYyBfbWVhc3VyZVRleHQodGV4dCwgbGV0dGVyU3BhY2luZywgY29udGV4dCkge1xuICAgIGxldCB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4gICAgaWYgKF9DYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkKSB7XG4gICAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIGNvbnRleHQudGV4dExldHRlclNwYWNpbmcgPSBgJHtsZXR0ZXJTcGFjaW5nfXB4YDtcbiAgICAgICAgdXNlRXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmxldHRlclNwYWNpbmcgPSBcIjBweFwiO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG4gICAgbGV0IG1ldHJpY1dpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICBjb25zdCBhY3R1YWxCb3VuZGluZ0JveExlZnQgPSAtbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQ7XG4gICAgY29uc3QgYWN0dWFsQm91bmRpbmdCb3hSaWdodCA9IG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodDtcbiAgICBsZXQgYm91bmRzV2lkdGggPSBhY3R1YWxCb3VuZGluZ0JveFJpZ2h0IC0gYWN0dWFsQm91bmRpbmdCb3hMZWZ0O1xuICAgIGlmIChtZXRyaWNXaWR0aCA+IDApIHtcbiAgICAgIGlmICh1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIG1ldHJpY1dpZHRoIC09IGxldHRlclNwYWNpbmc7XG4gICAgICAgIGJvdW5kc1dpZHRoIC09IGxldHRlclNwYWNpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWwgPSAoX0NhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRleHQpLmxlbmd0aCAtIDEpICogbGV0dGVyU3BhY2luZztcbiAgICAgICAgbWV0cmljV2lkdGggKz0gdmFsO1xuICAgICAgICBib3VuZHNXaWR0aCArPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heChtZXRyaWNXaWR0aCwgYm91bmRzV2lkdGgpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgKiBAcGFyYW0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICogQHBhcmFtIGNhbnZhcyAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICogQHJldHVybnMgTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gICAqL1xuICBzdGF0aWMgX3dvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NhbnZhcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIGNvbnRleHRTZXR0aW5ncyk7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgbGluZSA9IFwiXCI7XG4gICAgbGV0IGxpbmVzID0gXCJcIjtcbiAgICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGNvbnN0IHsgbGV0dGVyU3BhY2luZywgd2hpdGVTcGFjZSB9ID0gc3R5bGU7XG4gICAgY29uc3QgY29sbGFwc2VTcGFjZXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgIGNvbnN0IGNvbGxhcHNlTmV3bGluZXMgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG4gICAgbGV0IGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgY29uc3Qgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgIGNvbnN0IHRva2VucyA9IF9DYW52YXNUZXh0TWV0cmljcy5fdG9rZW5pemUodGV4dCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgIGlmIChfQ2FudmFzVGV4dE1ldHJpY3MuX2lzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gXCIgXCI7XG4gICAgICB9XG4gICAgICBpZiAoY29sbGFwc2VTcGFjZXMpIHtcbiAgICAgICAgY29uc3QgY3VycklzQnJlYWtpbmdTcGFjZSA9IF9DYW52YXNUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICBjb25zdCBsYXN0SXNCcmVha2luZ1NwYWNlID0gX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRva2VuV2lkdGggPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2dldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgIGlmIChsaW5lICE9PSBcIlwiKSB7XG4gICAgICAgICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IF9DYW52YXNUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0KHRva2VuKTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyID0gY2hhcmFjdGVyc1tqXTtcbiAgICAgICAgICAgIGxldCBsYXN0Q2hhciA9IGNoYXI7XG4gICAgICAgICAgICBsZXQgayA9IDE7XG4gICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgaWYgKCFfQ2FudmFzVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdENoYXIgPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaiArPSBrIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcldpZHRoID0gX0NhbnZhc1RleHRNZXRyaWNzLl9nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICAgIGxpbmVzICs9IF9DYW52YXNUZXh0TWV0cmljcy5fYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICBsaW5lcyArPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2FkZExpbmUobGluZSk7XG4gICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIV9DYW52YXNUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpIHtcbiAgICAgICAgICBsaW5lICs9IHRva2VuO1xuICAgICAgICAgIHdpZHRoICs9IHRva2VuV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGluZXMgKz0gX0NhbnZhc1RleHRNZXRyaWNzLl9hZGRMaW5lKGxpbmUsIGZhbHNlKTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwIG1ldGhvZC5cbiAgICogQHBhcmFtIGxpbmUgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgKiBAcGFyYW0gbmV3TGluZSAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gICAqIEByZXR1cm5zIEEgZm9ybWF0dGVkIGxpbmVcbiAgICovXG4gIHN0YXRpYyBfYWRkTGluZShsaW5lLCBuZXdMaW5lID0gdHJ1ZSkge1xuICAgIGxpbmUgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX3RyaW1SaWdodChsaW5lKTtcbiAgICBsaW5lID0gbmV3TGluZSA/IGAke2xpbmV9XG5gIDogbGluZTtcbiAgICByZXR1cm4gbGluZTtcbiAgfVxuICAvKipcbiAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICogQHBhcmFtIGtleSAgICAgICAgICAgIC0gVGhlIGtleVxuICAgKiBAcGFyYW0gbGV0dGVyU3BhY2luZyAgLSBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICogQHBhcmFtIGNhY2hlICAgICAgICAgIC0gVGhlIGNhY2hlXG4gICAqIEBwYXJhbSBjb250ZXh0ICAgICAgICAtIFRoZSBjYW52YXMgY29udGV4dFxuICAgKiBAcmV0dXJucyBUaGUgZnJvbSBjYWNoZS5cbiAgICovXG4gIHN0YXRpYyBfZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICBsZXQgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHdpZHRoID0gX0NhbnZhc1RleHRNZXRyaWNzLl9tZWFzdXJlVGV4dChrZXksIGxldHRlclNwYWNpbmcsIGNvbnRleHQpICsgbGV0dGVyU3BhY2luZztcbiAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlcy5cbiAgICogQHBhcmFtIHdoaXRlU3BhY2UgLSBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAgICogQHJldHVybnMgU2hvdWxkIGNvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgX2NvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpIHtcbiAgICByZXR1cm4gd2hpdGVTcGFjZSA9PT0gXCJub3JtYWxcIiB8fCB3aGl0ZVNwYWNlID09PSBcInByZS1saW5lXCI7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFycy5cbiAgICogQHBhcmFtIHdoaXRlU3BhY2UgLSBUaGUgd2hpdGUgc3BhY2VcbiAgICogQHJldHVybnMgc2hvdWxkIGNvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgX2NvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSkge1xuICAgIHJldHVybiB3aGl0ZVNwYWNlID09PSBcIm5vcm1hbFwiO1xuICB9XG4gIC8qKlxuICAgKiBUcmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZy5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dFxuICAgKiBAcmV0dXJucyBUcmltbWVkIHN0cmluZ1xuICAgKi9cbiAgc3RhdGljIF90cmltUmlnaHQodGV4dCkge1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcbiAgICAgIGlmICghX0NhbnZhc1RleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAqIEBwYXJhbSBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgKiBAcmV0dXJucyBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBfaXNOZXdsaW5lKGNoYXIpIHtcbiAgICBpZiAodHlwZW9mIGNoYXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5jbHVkZXMoY2hhci5jaGFyQ29kZUF0KDApKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICpcbiAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBjaGFyIHNob3VsZCBiZSBhIGJyZWFraW5nIHdoaXRlc3BhY2VcbiAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAqIEBwYXJhbSBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgKiBAcGFyYW0gW19uZXh0Q2hhcl0gLSBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBzdGF0aWMgaXNCcmVha2luZ1NwYWNlKGNoYXIsIF9uZXh0Q2hhcikge1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX0NhbnZhc1RleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmNsdWRlcyhjaGFyLmNoYXJDb2RlQXQoMCkpO1xuICB9XG4gIC8qKlxuICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dFxuICAgKiBAcmV0dXJucyBBIHRva2VuaXplZCBhcnJheVxuICAgKi9cbiAgc3RhdGljIF90b2tlbml6ZSh0ZXh0KSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgbGV0IHRva2VuID0gXCJcIjtcbiAgICBpZiAodHlwZW9mIHRleHQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG4gICAgICBjb25zdCBuZXh0Q2hhciA9IHRleHRbaSArIDFdO1xuICAgICAgaWYgKF9DYW52YXNUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhciwgbmV4dENoYXIpIHx8IF9DYW52YXNUZXh0TWV0cmljcy5faXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgIGlmICh0b2tlbiAhPT0gXCJcIikge1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICB0b2tlbiA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICB9XG4gICAgaWYgKHRva2VuICE9PSBcIlwiKSB7XG4gICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnM7XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgKlxuICAgKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgKiBAcGFyYW0gX3Rva2VuIC0gVGhlIHRva2VuXG4gICAqIEBwYXJhbSBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICogQHJldHVybnMgV2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgKi9cbiAgc3RhdGljIGNhbkJyZWFrV29yZHMoX3Rva2VuLCBicmVha1dvcmRzKSB7XG4gICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgKlxuICAgKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gICAqIHNob3VsZCBiZSBicm9rZW4gYnkgbmV3bGluZXNcbiAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAqIEBwYXJhbSBfY2hhciAtIFRoZSBjaGFyYWN0ZXJcbiAgICogQHBhcmFtIF9uZXh0Q2hhciAtIFRoZSBuZXh0IGNoYXJhY3RlclxuICAgKiBAcGFyYW0gX3Rva2VuIC0gVGhlIHRva2VuL3dvcmQgdGhlIGNoYXJhY3RlcnMgYXJlIGZyb21cbiAgICogQHBhcmFtIF9pbmRleCAtIFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAgICogQHBhcmFtIF9icmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICogQHJldHVybnMgd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgKi9cbiAgc3RhdGljIGNhbkJyZWFrQ2hhcnMoX2NoYXIsIF9uZXh0Q2hhciwgX3Rva2VuLCBfaW5kZXgsIF9icmVha1dvcmRzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgKlxuICAgKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHRva2VuICh1c3VhbGx5IGEgd29yZCkgaGFzIHRvIGJlIHNwbGl0IGludG8gc2VwYXJhdGUgcGllY2VzXG4gICAqIGluIG9yZGVyIHRvIGRldGVybWluZSB0aGUgcG9pbnQgdG8gYnJlYWsgYSB3b3JkLlxuICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gc3BsaXRcbiAgICogQHJldHVybnMgVGhlIGNoYXJhY3RlcnMgb2YgdGhlIHRva2VuXG4gICAqIEBzZWUgQ2FudmFzVGV4dE1ldHJpY3MuZ3JhcGhlbWVTZWdtZW50ZXJcbiAgICovXG4gIHN0YXRpYyB3b3JkV3JhcFNwbGl0KHRva2VuKSB7XG4gICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5ncmFwaGVtZVNlZ21lbnRlcih0b2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGFzY2VudCwgZGVzY2VudCBhbmQgZm9udFNpemUgb2YgYSBnaXZlbiBmb250LXN0eWxlXG4gICAqIEBwYXJhbSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICogQHJldHVybnMgRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIG1lYXN1cmVGb250KGZvbnQpIHtcbiAgICBpZiAoX0NhbnZhc1RleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBjb25zdCBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dChfQ2FudmFzVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBfQ2FudmFzVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgICAgYXNjZW50OiBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50LFxuICAgICAgZGVzY2VudDogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQsXG4gICAgICBmb250U2l6ZTogbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudCArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50XG4gICAgfTtcbiAgICBfQ2FudmFzVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAgICovXG4gIHN0YXRpYyBjbGVhck1ldHJpY3MoZm9udCA9IFwiXCIpIHtcbiAgICBpZiAoZm9udCkge1xuICAgICAgZGVsZXRlIF9DYW52YXNUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfSBlbHNlIHtcbiAgICAgIF9DYW52YXNUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAgICogVE9ETzogdGhpcyBzaG91bGQgYmUgcHJpdmF0ZSwgYnV0IGlzbid0IGJlY2F1c2Ugb2YgYmFja3dhcmQgY29tcGF0LCB3aWxsIGZpeCBsYXRlci5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3RhdGljIGdldCBfY2FudmFzKCkge1xuICAgIGlmICghX0NhbnZhc1RleHRNZXRyaWNzLl9fY2FudmFzKSB7XG4gICAgICBsZXQgY2FudmFzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYyA9IG5ldyBPZmZzY3JlZW5DYW52YXMoMCwgMCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjLmdldENvbnRleHQoXCIyZFwiLCBjb250ZXh0U2V0dGluZ3MpO1xuICAgICAgICBpZiAoY29udGV4dD8ubWVhc3VyZVRleHQpIHtcbiAgICAgICAgICBfQ2FudmFzVGV4dE1ldHJpY3MuX19jYW52YXMgPSBjO1xuICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcyA9IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgICB9IGNhdGNoIChfY3gpIHtcbiAgICAgICAgY2FudmFzID0gRE9NQWRhcHRlci5nZXQoKS5jcmVhdGVDYW52YXMoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbiAgICAgIF9DYW52YXNUZXh0TWV0cmljcy5fX2NhbnZhcyA9IGNhbnZhcztcbiAgICB9XG4gICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5fX2NhbnZhcztcbiAgfVxuICAvKipcbiAgICogVE9ETzogdGhpcyBzaG91bGQgYmUgcHJpdmF0ZSwgYnV0IGlzbid0IGJlY2F1c2Ugb2YgYmFja3dhcmQgY29tcGF0LCB3aWxsIGZpeCBsYXRlci5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc3RhdGljIGdldCBfY29udGV4dCgpIHtcbiAgICBpZiAoIV9DYW52YXNUZXh0TWV0cmljcy5fX2NvbnRleHQpIHtcbiAgICAgIF9DYW52YXNUZXh0TWV0cmljcy5fX2NvbnRleHQgPSBfQ2FudmFzVGV4dE1ldHJpY3MuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwgY29udGV4dFNldHRpbmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIF9DYW52YXNUZXh0TWV0cmljcy5fX2NvbnRleHQ7XG4gIH1cbn07XG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gXCJ8XFx4QzlxXFx4QzVcIjtcbi8qKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuICovXG5fQ2FudmFzVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gXCJNXCI7XG4vKiogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuLyoqIEhlaWdodCBtdWx0aXBsaWVyIGZvciBzZXR0aW5nIGhlaWdodCBvZiBjYW52YXMgdG8gY2FsY3VsYXRlIGZvbnQgbWV0cmljcy4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5IRUlHSFRfTVVMVElQTElFUiA9IDI7XG4vKipcbiAqIEEgVW5pY29kZSBcImNoYXJhY3RlclwiLCBvciBcImdyYXBoZW1lIGNsdXN0ZXJcIiwgY2FuIGJlIGNvbXBvc2VkIG9mIG11bHRpcGxlIFVuaWNvZGUgY29kZSBwb2ludHMsXG4gKiBzdWNoIGFzIGxldHRlcnMgd2l0aCBkaWFjcml0aWNhbCBtYXJrcyAoZS5nLiBgJ1xcdTAwNjVcXHUwMzAxJ2AsIGxldHRlciBlIHdpdGggYWN1dGUpXG4gKiBvciBlbW9qaXMgd2l0aCBtb2RpZmllcnMgKGUuZy4gYCdcXHVEODNFXFx1REREMVxcdTIwMERcXHVEODNEXFx1RENCQidgLCB0ZWNobm9sb2dpc3QpLlxuICogVGhlIG5ldyBgSW50bC5TZWdtZW50ZXJgIEFQSSBpbiBFUzIwMjIgY2FuIHNwbGl0IHRoZSBzdHJpbmcgaW50byBncmFwaGVtZSBjbHVzdGVycyBjb3JyZWN0bHkuIElmIGl0IGlzIG5vdCBhdmFpbGFibGUsXG4gKiBQaXhpSlMgd2lsbCBmYWxsYmFjayB0byB1c2UgdGhlIGl0ZXJhdG9yIG9mIFN0cmluZywgd2hpY2ggY2FuIG9ubHkgc3BpbHQgdGhlIHN0cmluZyBpbnRvIGNvZGUgcG9pbnRzLlxuICogSWYgeW91IHdhbnQgdG8gZ2V0IGZ1bGwgZnVuY3Rpb25hbGl0eSBpbiBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBzdXBwb3J0IGBJbnRsLlNlZ21lbnRlcmAgKHN1Y2ggYXMgRmlyZWZveCksXG4gKiB5b3UgY2FuIHVzZSBvdGhlciBsaWJyYXJpZXMgc3VjaCBhcyBbZ3JhcGhlbWUtc3BsaXR0ZXJde0BsaW5rIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2dyYXBoZW1lLXNwbGl0dGVyfVxuICogb3IgW2dyYXBoZW1lcl17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvZ3JhcGhlbWVyfSB0byBjcmVhdGUgYSBwb2x5ZmlsbC4gU2luY2UgdGhlc2UgbGlicmFyaWVzIGNhbiBiZVxuICogcmVsYXRpdmVseSBsYXJnZSBpbiBzaXplIHRvIGhhbmRsZSB2YXJpb3VzIFVuaWNvZGUgZ3JhcGhlbWUgY2x1c3RlcnMgcHJvcGVybHksIFBpeGlKUyB3b24ndCB1c2UgdGhlbSBkaXJlY3RseS5cbiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBJbnRsPy5TZWdtZW50ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IHNlZ21lbnRlciA9IG5ldyBJbnRsLlNlZ21lbnRlcigpO1xuICAgIHJldHVybiAocykgPT4gWy4uLnNlZ21lbnRlci5zZWdtZW50KHMpXS5tYXAoKHgpID0+IHguc2VnbWVudCk7XG4gIH1cbiAgcmV0dXJuIChzKSA9PiBbLi4uc107XG59KSgpO1xuLyoqXG4gKiBOZXcgcmVuZGVyaW5nIGJlaGF2aW9yIGZvciBsZXR0ZXItc3BhY2luZyB3aGljaCB1c2VzIENocm9tZSdzIG5ldyBuYXRpdmUgQVBJLiBUaGlzIHdpbGxcbiAqIGxlYWQgdG8gbW9yZSBhY2N1cmF0ZSBsZXR0ZXItc3BhY2luZyByZXN1bHRzIGJlY2F1c2UgaXQgZG9lcyBub3QgdHJ5IHRvIG1hbnVhbGx5IGRyYXdcbiAqIGVhY2ggY2hhcmFjdGVyLiBIb3dldmVyLCB0aGlzIENocm9tZSBBUEkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgbm90IHNlcnZlIGFsbCBjYXNlcyB5ZXQuXG4gKiBAc2VlIFRleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWRcbiAqL1xuX0NhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSBmYWxzZTtcbi8qKiBDYWNoZSBvZiB7QHNlZSBUZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8qKiBDYWNoZSBvZiBuZXcgbGluZSBjaGFycy4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gIDEwLFxuICAvLyBsaW5lIGZlZWRcbiAgMTNcbiAgLy8gY2FycmlhZ2UgcmV0dXJuXG5dO1xuLyoqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy4gKi9cbl9DYW52YXNUZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gIDksXG4gIC8vIGNoYXJhY3RlciB0YWJ1bGF0aW9uXG4gIDMyLFxuICAvLyBzcGFjZVxuICA4MTkyLFxuICAvLyBlbiBxdWFkXG4gIDgxOTMsXG4gIC8vIGVtIHF1YWRcbiAgODE5NCxcbiAgLy8gZW4gc3BhY2VcbiAgODE5NSxcbiAgLy8gZW0gc3BhY2VcbiAgODE5NixcbiAgLy8gdGhyZWUtcGVyLWVtIHNwYWNlXG4gIDgxOTcsXG4gIC8vIGZvdXItcGVyLWVtIHNwYWNlXG4gIDgxOTgsXG4gIC8vIHNpeC1wZXItZW0gc3BhY2VcbiAgODIwMCxcbiAgLy8gcHVuY3R1YXRpb24gc3BhY2VcbiAgODIwMSxcbiAgLy8gdGhpbiBzcGFjZVxuICA4MjAyLFxuICAvLyBoYWlyIHNwYWNlXG4gIDgyODcsXG4gIC8vIG1lZGl1bSBtYXRoZW1hdGljYWwgc3BhY2VcbiAgMTIyODhcbiAgLy8gaWRlb2dyYXBoaWMgc3BhY2Vcbl07XG5fQ2FudmFzVGV4dE1ldHJpY3MuX21lYXN1cmVtZW50Q2FjaGUgPSB7fTtcbmxldCBDYW52YXNUZXh0TWV0cmljcyA9IF9DYW52YXNUZXh0TWV0cmljcztcblxuZXhwb3J0IHsgQ2FudmFzVGV4dE1ldHJpY3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1RleHRNZXRyaWNzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgXCJzZXJpZlwiLFxuICBcInNhbnMtc2VyaWZcIixcbiAgXCJtb25vc3BhY2VcIixcbiAgXCJjdXJzaXZlXCIsXG4gIFwiZmFudGFzeVwiLFxuICBcInN5c3RlbS11aVwiXG5dO1xuZnVuY3Rpb24gZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUoc3R5bGUpIHtcbiAgY29uc3QgZm9udFNpemVTdHJpbmcgPSB0eXBlb2Ygc3R5bGUuZm9udFNpemUgPT09IFwibnVtYmVyXCIgPyBgJHtzdHlsZS5mb250U2l6ZX1weGAgOiBzdHlsZS5mb250U2l6ZTtcbiAgbGV0IGZvbnRGYW1pbGllcyA9IHN0eWxlLmZvbnRGYW1pbHk7XG4gIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5mb250RmFtaWx5KSkge1xuICAgIGZvbnRGYW1pbGllcyA9IHN0eWxlLmZvbnRGYW1pbHkuc3BsaXQoXCIsXCIpO1xuICB9XG4gIGZvciAobGV0IGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG4gICAgaWYgKCEvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8udGVzdChmb250RmFtaWx5KSAmJiAhZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmNsdWRlcyhmb250RmFtaWx5KSkge1xuICAgICAgZm9udEZhbWlseSA9IGBcIiR7Zm9udEZhbWlseX1cImA7XG4gICAgfVxuICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gIH1cbiAgcmV0dXJuIGAke3N0eWxlLmZvbnRTdHlsZX0gJHtzdHlsZS5mb250VmFyaWFudH0gJHtzdHlsZS5mb250V2VpZ2h0fSAke2ZvbnRTaXplU3RyaW5nfSAke2ZvbnRGYW1pbGllcy5qb2luKFwiLFwiKX1gO1xufVxuXG5leHBvcnQgeyBmb250U3RyaW5nRnJvbVRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuaW1wb3J0IHsgRmlsbEdyYWRpZW50IH0gZnJvbSAnLi4vLi4vLi4vZ3JhcGhpY3Mvc2hhcmVkL2ZpbGwvRmlsbEdyYWRpZW50Lm1qcyc7XG5pbXBvcnQgeyBGaWxsUGF0dGVybiB9IGZyb20gJy4uLy4uLy4uL2dyYXBoaWNzL3NoYXJlZC9maWxsL0ZpbGxQYXR0ZXJuLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0Q2FudmFzRmlsbFN0eWxlKGZpbGxTdHlsZSwgY29udGV4dCkge1xuICBpZiAoZmlsbFN0eWxlLnRleHR1cmUgPT09IFRleHR1cmUuV0hJVEUgJiYgIWZpbGxTdHlsZS5maWxsKSB7XG4gICAgcmV0dXJuIENvbG9yLnNoYXJlZC5zZXRWYWx1ZShmaWxsU3R5bGUuY29sb3IpLnNldEFscGhhKGZpbGxTdHlsZS5hbHBoYSA/PyAxKS50b0hleGEoKTtcbiAgfSBlbHNlIGlmICghZmlsbFN0eWxlLmZpbGwpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gY29udGV4dC5jcmVhdGVQYXR0ZXJuKGZpbGxTdHlsZS50ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSwgXCJyZXBlYXRcIik7XG4gICAgY29uc3QgdGVtcE1hdHJpeCA9IGZpbGxTdHlsZS5tYXRyaXguY29weVRvKE1hdHJpeC5zaGFyZWQpO1xuICAgIHRlbXBNYXRyaXguc2NhbGUoZmlsbFN0eWxlLnRleHR1cmUuZnJhbWUud2lkdGgsIGZpbGxTdHlsZS50ZXh0dXJlLmZyYW1lLmhlaWdodCk7XG4gICAgcGF0dGVybi5zZXRUcmFuc2Zvcm0odGVtcE1hdHJpeCk7XG4gICAgcmV0dXJuIHBhdHRlcm47XG4gIH0gZWxzZSBpZiAoZmlsbFN0eWxlLmZpbGwgaW5zdGFuY2VvZiBGaWxsUGF0dGVybikge1xuICAgIGNvbnN0IGZpbGxQYXR0ZXJuID0gZmlsbFN0eWxlLmZpbGw7XG4gICAgY29uc3QgcGF0dGVybiA9IGNvbnRleHQuY3JlYXRlUGF0dGVybihmaWxsUGF0dGVybi50ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSwgXCJyZXBlYXRcIik7XG4gICAgY29uc3QgdGVtcE1hdHJpeCA9IGZpbGxQYXR0ZXJuLnRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LnNoYXJlZCk7XG4gICAgdGVtcE1hdHJpeC5zY2FsZShcbiAgICAgIGZpbGxQYXR0ZXJuLnRleHR1cmUuZnJhbWUud2lkdGgsXG4gICAgICBmaWxsUGF0dGVybi50ZXh0dXJlLmZyYW1lLmhlaWdodFxuICAgICk7XG4gICAgcGF0dGVybi5zZXRUcmFuc2Zvcm0odGVtcE1hdHJpeCk7XG4gICAgcmV0dXJuIHBhdHRlcm47XG4gIH0gZWxzZSBpZiAoZmlsbFN0eWxlLmZpbGwgaW5zdGFuY2VvZiBGaWxsR3JhZGllbnQpIHtcbiAgICBjb25zdCBmaWxsR3JhZGllbnQgPSBmaWxsU3R5bGUuZmlsbDtcbiAgICBpZiAoZmlsbEdyYWRpZW50LnR5cGUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgIGNvbnN0IGdyYWRpZW50ID0gY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChcbiAgICAgICAgZmlsbEdyYWRpZW50LngwLFxuICAgICAgICBmaWxsR3JhZGllbnQueTAsXG4gICAgICAgIGZpbGxHcmFkaWVudC54MSxcbiAgICAgICAgZmlsbEdyYWRpZW50LnkxXG4gICAgICApO1xuICAgICAgZmlsbEdyYWRpZW50LmdyYWRpZW50U3RvcHMuZm9yRWFjaCgoc3RvcCkgPT4ge1xuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcC5vZmZzZXQsIENvbG9yLnNoYXJlZC5zZXRWYWx1ZShzdG9wLmNvbG9yKS50b0hleCgpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH1cbiAgfVxuICB3YXJuKFwiRmlsbFN0eWxlIG5vdCByZWNvZ25pc2VkXCIsIGZpbGxTdHlsZSk7XG4gIHJldHVybiBcInJlZFwiO1xufVxuXG5leHBvcnQgeyBnZXRDYW52YXNGaWxsU3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldENhbnZhc0ZpbGxTdHlsZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyB1cGRhdGVRdWFkQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGF0YS91cGRhdGVRdWFkQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4uLy4uL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBDYW52YXNUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1VGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnJlc29sdXRpb25DaGFuZ2UuYWRkKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVUZXh0XCIpO1xuICB9XG4gIHJlc29sdXRpb25DaGFuZ2UoKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9ncHVUZXh0W2ldO1xuICAgICAgaWYgKCFncHVUZXh0KVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGNvbnN0IHRleHQgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlO1xuICAgICAgaWYgKHRleHQuX2F1dG9SZXNvbHV0aW9uKSB7XG4gICAgICAgIHRleHQuX3Jlc29sdXRpb24gPSB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0Lm9uVmlld1VwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUodGV4dCkge1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9nZXRHcHVUZXh0KHRleHQpO1xuICAgIGNvbnN0IG5ld0tleSA9IHRleHQuX2dldEtleSgpO1xuICAgIGlmIChncHVUZXh0LmN1cnJlbnRLZXkgIT09IG5ld0tleSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHRleHQsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKHRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHQodGV4dCk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goYmF0Y2hhYmxlU3ByaXRlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKHRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHQodGV4dCk7XG4gICAgfVxuICAgIGJhdGNoYWJsZVNwcml0ZS5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZVNwcml0ZSk7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUodGV4dCkge1xuICAgIHRleHQub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZCh0ZXh0LnVpZCk7XG4gIH1cbiAgX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZCh0ZXh0VWlkKSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dwdVRleHRbdGV4dFVpZF07XG4gICAgdGhpcy5fcmVuZGVyZXIuY2FudmFzVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSk7XG4gICAgQmlnUG9vbC5yZXR1cm4oZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGUpO1xuICAgIHRoaXMuX2dwdVRleHRbdGV4dFVpZF0gPSBudWxsO1xuICB9XG4gIF91cGRhdGVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBuZXdLZXkgPSB0ZXh0Ll9nZXRLZXkoKTtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUdwdVRleHQodGV4dCk7XG4gICAgfVxuICAgIHRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBwYWRkaW5nID0gdGV4dC5fc3R5bGUucGFkZGluZztcbiAgICB1cGRhdGVRdWFkQm91bmRzKGJhdGNoYWJsZVNwcml0ZS5ib3VuZHMsIHRleHQuX2FuY2hvciwgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUsIHBhZGRpbmcpO1xuICB9XG4gIF91cGRhdGVHcHVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAoZ3B1VGV4dC50ZXh0dXJlKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmRlY3JlYXNlUmVmZXJlbmNlQ291bnQoZ3B1VGV4dC5jdXJyZW50S2V5KTtcbiAgICB9XG4gICAgZ3B1VGV4dC50ZXh0dXJlID0gYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmdldE1hbmFnZWRUZXh0dXJlKHRleHQpO1xuICAgIGdwdVRleHQuY3VycmVudEtleSA9IHRleHQuX2dldEtleSgpO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gZ3B1VGV4dC50ZXh0dXJlO1xuICB9XG4gIF9nZXRHcHVUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1VGV4dFt0ZXh0LnVpZF0gfHwgdGhpcy5pbml0R3B1VGV4dCh0ZXh0KTtcbiAgfVxuICBpbml0R3B1VGV4dCh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dERhdGEgPSB7XG4gICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgY3VycmVudEtleTogXCItLVwiLFxuICAgICAgYmF0Y2hhYmxlU3ByaXRlOiBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpXG4gICAgfTtcbiAgICBncHVUZXh0RGF0YS5iYXRjaGFibGVTcHJpdGUucmVuZGVyYWJsZSA9IHRleHQ7XG4gICAgZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IHRleHQuZ3JvdXBUcmFuc2Zvcm07XG4gICAgZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcyA9IHsgbWluWDogMCwgbWF4WDogMSwgbWluWTogMCwgbWF4WTogMCB9O1xuICAgIGdwdVRleHREYXRhLmJhdGNoYWJsZVNwcml0ZS5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHRleHQuX3JvdW5kUGl4ZWxzO1xuICAgIHRoaXMuX2dwdVRleHRbdGV4dC51aWRdID0gZ3B1VGV4dERhdGE7XG4gICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IHRleHQucmVzb2x1dGlvbjtcbiAgICB0aGlzLl91cGRhdGVUZXh0KHRleHQpO1xuICAgIHRleHQub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIGdwdVRleHREYXRhO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZChpKTtcbiAgICB9XG4gICAgdGhpcy5fZ3B1VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQ2FudmFzVGV4dFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInRleHRcIlxufTtcblxuZXhwb3J0IHsgQ2FudmFzVGV4dFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1RleHRQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWlzYy9wb3cyLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNQb29sIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9DYW52YXNQb29sLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IGdldENhbnZhc0JvdW5kaW5nQm94IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2FudmFzL2dldENhbnZhc0JvdW5kaW5nQm94Lm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4uL1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfSBmcm9tICcuLi91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dE1ldHJpY3MgfSBmcm9tICcuL0NhbnZhc1RleHRNZXRyaWNzLm1qcyc7XG5pbXBvcnQgeyBmb250U3RyaW5nRnJvbVRleHRTdHlsZSB9IGZyb20gJy4vdXRpbHMvZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGdldENhbnZhc0ZpbGxTdHlsZSB9IGZyb20gJy4vdXRpbHMvZ2V0Q2FudmFzRmlsbFN0eWxlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQ2FudmFzVGV4dFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKF9yZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gIH1cbiAgZ2V0VGV4dHVyZVNpemUodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICBjb25zdCBtZWFzdXJlZCA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRleHQgfHwgXCIgXCIsIHN0eWxlKTtcbiAgICBsZXQgd2lkdGggPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLndpZHRoKSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHJlc29sdXRpb24pO1xuICAgIGxldCBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLmhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCAtIDFlLTYpO1xuICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLSAxZS02KTtcbiAgICB3aWR0aCA9IG5leHRQb3cyKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBuZXh0UG93MihoZWlnaHQpO1xuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuICBnZXRUZXh0dXJlKG9wdGlvbnMsIHJlc29sdXRpb24sIHN0eWxlLCBfdGV4dEtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgZGVwcmVjYXRpb24oXCI4LjAuMFwiLCBcIkNhbnZhc1RleHRTeXN0ZW0uZ2V0VGV4dHVyZTogVXNlIG9iamVjdCBUZXh0T3B0aW9ucyBpbnN0ZWFkIG9mIHNlcGFyYXRlIGFyZ3VtZW50c1wiKTtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHRleHQ6IG9wdGlvbnMsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICByZXNvbHV0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIShvcHRpb25zLnN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKSkge1xuICAgICAgb3B0aW9ucy5zdHlsZSA9IG5ldyBUZXh0U3R5bGUob3B0aW9ucy5zdHlsZSk7XG4gICAgfVxuICAgIGNvbnN0IHsgdGV4dHVyZSwgY2FudmFzQW5kQ29udGV4dCB9ID0gdGhpcy5jcmVhdGVUZXh0dXJlQW5kQ2FudmFzKFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5fcmVuZGVyZXIudGV4dHVyZS5pbml0U291cmNlKHRleHR1cmUuX3NvdXJjZSk7XG4gICAgQ2FudmFzUG9vbC5yZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIGNyZWF0ZVRleHR1cmVBbmRDYW52YXMob3B0aW9ucykge1xuICAgIGNvbnN0IHsgdGV4dCwgc3R5bGUgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiA/PyB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IG1lYXN1cmVkID0gQ2FudmFzVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGV4dCB8fCBcIiBcIiwgc3R5bGUpO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC53aWR0aCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLmhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBjYW52YXNBbmRDb250ZXh0ID0gQ2FudmFzUG9vbC5nZXRPcHRpbWFsQ2FudmFzQW5kQ29udGV4dCh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb25zdCB7IGNhbnZhcyB9ID0gY2FudmFzQW5kQ29udGV4dDtcbiAgICB0aGlzLnJlbmRlclRleHRUb0NhbnZhcyh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgY2FudmFzQW5kQ29udGV4dCk7XG4gICAgY29uc3QgdGV4dHVyZSA9IGdldFBvMlRleHR1cmVGcm9tU291cmNlKGNhbnZhcywgd2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgaWYgKHN0eWxlLnRyaW0pIHtcbiAgICAgIGNvbnN0IHRyaW1tZWQgPSBnZXRDYW52YXNCb3VuZGluZ0JveChjYW52YXMsIHJlc29sdXRpb24pO1xuICAgICAgdGV4dHVyZS5mcmFtZS5jb3B5RnJvbSh0cmltbWVkKTtcbiAgICAgIHRleHR1cmUudXBkYXRlVXZzKCk7XG4gICAgfVxuICAgIHJldHVybiB7IHRleHR1cmUsIGNhbnZhc0FuZENvbnRleHQgfTtcbiAgfVxuICBnZXRNYW5hZ2VkVGV4dHVyZSh0ZXh0KSB7XG4gICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IHRleHQucmVzb2x1dGlvbjtcbiAgICBjb25zdCB0ZXh0S2V5ID0gdGV4dC5fZ2V0S2V5KCk7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldKSB7XG4gICAgICB0aGlzLl9pbmNyZWFzZVJlZmVyZW5jZUNvdW50KHRleHRLZXkpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnRleHR1cmU7XG4gICAgfVxuICAgIGNvbnN0IHsgdGV4dHVyZSwgY2FudmFzQW5kQ29udGV4dCB9ID0gdGhpcy5jcmVhdGVUZXh0dXJlQW5kQ2FudmFzKHRleHQpO1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldID0ge1xuICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgIHRleHR1cmUsXG4gICAgICB1c2FnZUNvdW50OiAxXG4gICAgfTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICBfaW5jcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0udXNhZ2VDb3VudCsrO1xuICB9XG4gIGRlY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIGNvbnN0IGFjdGl2ZVRleHR1cmUgPSB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XTtcbiAgICBhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQtLTtcbiAgICBpZiAoYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50ID09PSAwKSB7XG4gICAgICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoYWN0aXZlVGV4dHVyZS5jYW52YXNBbmRDb250ZXh0KTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUoYWN0aXZlVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGFjdGl2ZVRleHR1cmUudGV4dHVyZS5zb3VyY2U7XG4gICAgICBzb3VyY2UucmVzb3VyY2UgPSBudWxsO1xuICAgICAgc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJ1bmtub3duXCI7XG4gICAgICBzb3VyY2UuYWxwaGFNb2RlID0gXCJuby1wcmVtdWx0aXBseS1hbHBoYVwiO1xuICAgICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSBudWxsO1xuICAgIH1cbiAgfVxuICBnZXRSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICpcbiAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgKiBidXQgaXQgY2FuIGJlIHVzZWQgY2FsbGVkIGV4dGVybmFsbHksIGZvciBleGFtcGxlIGZyb20gdGhpcyBjbGFzcyB0byAncHJlLWdlbmVyYXRlJyB0aGUgdGV4dHVyZSBmcm9tIGEgcGllY2Ugb2YgdGV4dCxcbiAgICogYW5kIHRoZW4gc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBTcHJpdGVzLlxuICAgKiBAcGFyYW0gdGV4dFxuICAgKiBAcGFyYW0gc3R5bGVcbiAgICogQHBhcmFtIHJlc29sdXRpb25cbiAgICogQHBhcmFtIGNhbnZhc0FuZENvbnRleHRcbiAgICovXG4gIHJlbmRlclRleHRUb0NhbnZhcyh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgY2FudmFzQW5kQ29udGV4dCkge1xuICAgIGNvbnN0IHsgY2FudmFzLCBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICAgIGNvbnN0IGZvbnQgPSBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSk7XG4gICAgY29uc3QgbWVhc3VyZWQgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0ZXh0IHx8IFwiIFwiLCBzdHlsZSk7XG4gICAgY29uc3QgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIGNvbnRleHQucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGlmIChzdHlsZS5fc3Ryb2tlPy53aWR0aCkge1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdHlsZS5fc3Ryb2tlO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdHlsZS53aWR0aDtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLm1pdGVyTGltaXQ7XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3R5bGUuam9pbjtcbiAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0eWxlLmNhcDtcbiAgICB9XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBsZXQgbGluZVBvc2l0aW9uWDtcbiAgICBsZXQgbGluZVBvc2l0aW9uWTtcbiAgICBjb25zdCBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgIGNvbnN0IGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpIDogMDtcbiAgICAgIGNvbnN0IGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogcmVzb2x1dGlvbjtcbiAgICAgIGlmIChpc1NoYWRvd1Bhc3MpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnN0IHNoYWRvd09wdGlvbnMgPSBzdHlsZS5kcm9wU2hhZG93O1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Q29sb3IgPSBzaGFkb3dPcHRpb25zLmNvbG9yO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93QWxwaGEgPSBzaGFkb3dPcHRpb25zLmFscGhhO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGRyb3BTaGFkb3dDb2xvcikuc2V0QWxwaGEoZHJvcFNoYWRvd0FscGhhKS50b1JnYmFTdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZHJvcFNoYWRvd0JsdXIgPSBzaGFkb3dPcHRpb25zLmJsdXIgKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93RGlzdGFuY2UgPSBzaGFkb3dPcHRpb25zLmRpc3RhbmNlICogcmVzb2x1dGlvbjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHNoYWRvd09wdGlvbnMuYW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzaGFkb3dPcHRpb25zLmFuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZSArIGRzT2Zmc2V0U2hhZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZS5fZmlsbCA/IGdldENhbnZhc0ZpbGxTdHlsZShzdHlsZS5fZmlsbCwgY29udGV4dCkgOiBudWxsO1xuICAgICAgICBpZiAoc3R5bGUuX3N0cm9rZT8ud2lkdGgpIHtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gZ2V0Q2FudmFzRmlsbFN0eWxlKHN0eWxlLl9zdHJva2UsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcImJsYWNrXCI7XG4gICAgICB9XG4gICAgICBsZXQgbGluZVBvc2l0aW9uWVNoaWZ0ID0gKGxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5mb250U2l6ZSkgLyAyO1xuICAgICAgaWYgKGxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5mb250U2l6ZSA8IDApIHtcbiAgICAgICAgbGluZVBvc2l0aW9uWVNoaWZ0ID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gc3R5bGUuX3N0cm9rZT8ud2lkdGggPz8gMDtcbiAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBsaW5lcy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0cm9rZVdpZHRoIC8gMjtcbiAgICAgICAgbGluZVBvc2l0aW9uWSA9IHN0cm9rZVdpZHRoIC8gMiArIGkyICogbGluZUhlaWdodCArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCArIGxpbmVQb3NpdGlvbllTaGlmdDtcbiAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaTJdO1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpMl0pIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUuX3N0cm9rZT8ud2lkdGgpIHtcbiAgICAgICAgICB0aGlzLl9kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgIGxpbmVzW2kyXSxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3R5bGUuX2ZpbGwgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHRoaXMuX2RyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgbGluZXNbaTJdLFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICBjYW52YXNBbmRDb250ZXh0LFxuICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgKiBAcGFyYW0gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICogQHBhcmFtIHN0eWxlXG4gICAqIEBwYXJhbSBjYW52YXNBbmRDb250ZXh0XG4gICAqIEBwYXJhbSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAqIEBwYXJhbSB5IC0gVmVydGljYWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgKiBAcGFyYW0gaXNTdHJva2UgLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAqL1xuICBfZHJhd0xldHRlclNwYWNpbmcodGV4dCwgc3R5bGUsIGNhbnZhc0FuZENvbnRleHQsIHgsIHksIGlzU3Ryb2tlID0gZmFsc2UpIHtcbiAgICBjb25zdCB7IGNvbnRleHQgfSA9IGNhbnZhc0FuZENvbnRleHQ7XG4gICAgY29uc3QgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgbGV0IHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSBmYWxzZTtcbiAgICBpZiAoQ2FudmFzVGV4dE1ldHJpY3MuZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCkge1xuICAgICAgaWYgKENhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIGNvbnRleHQudGV4dExldHRlclNwYWNpbmcgPSBgJHtsZXR0ZXJTcGFjaW5nfXB4YDtcbiAgICAgICAgdXNlRXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmxldHRlclNwYWNpbmcgPSBcIjBweFwiO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDAgfHwgdXNlRXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZykge1xuICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSB4O1xuICAgIGNvbnN0IHN0cmluZ0FycmF5ID0gQ2FudmFzVGV4dE1ldHJpY3MuZ3JhcGhlbWVTZWdtZW50ZXIodGV4dCk7XG4gICAgbGV0IHByZXZpb3VzV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDaGFyID0gc3RyaW5nQXJyYXlbaV07XG4gICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZXh0U3RyID0gXCJcIjtcbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgIHRleHRTdHIgKz0gc3RyaW5nQXJyYXlbal07XG4gICAgICB9XG4gICAgICBjdXJyZW50V2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHRTdHIpLndpZHRoO1xuICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlcyA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5DYW52YXNUZXh0U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJjYW52YXNUZXh0XCJcbn07XG5cbmV4cG9ydCB7IENhbnZhc1RleHRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1RleHRTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dFBpcGUgfSBmcm9tICcuL2NhbnZhcy9DYW52YXNUZXh0UGlwZS5tanMnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dFN5c3RlbSB9IGZyb20gJy4vY2FudmFzL0NhbnZhc1RleHRTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChDYW52YXNUZXh0U3lzdGVtKTtcbmV4dGVuc2lvbnMuYWRkKENhbnZhc1RleHRQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1NU0RGQml0ID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tbXNkZi1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBzdHJ1Y3QgTG9jYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVEaXN0YW5jZTogZjMyLFxuICAgICAgICAgICAgICAgIHVSb3VuZDpmMzIsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gbG9jYWxVbmlmb3JtcyA6IExvY2FsVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSBsb2NhbFVuaWZvcm1zLnVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ICo9IGxvY2FsVW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZihsb2NhbFVuaWZvcm1zLnVSb3VuZCA9PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZQb3NpdGlvbiA9IHZlYzQocm91bmRQaXhlbHModlBvc2l0aW9uLnh5LCBnbG9iYWxVbmlmb3Jtcy51UmVzb2x1dGlvbiksIHZQb3NpdGlvbi56dyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBzdHJ1Y3QgTG9jYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdUNvbG9yOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVEaXN0YW5jZTogZjMyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gbG9jYWxVbmlmb3JtcyA6IExvY2FsVW5pZm9ybXM7XG4gICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgIFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB2ZWM0PGYzMj4oY2FsY3VsYXRlTVNERkFscGhhKG91dENvbG9yLCBsb2NhbFVuaWZvcm1zLnVDb2xvciwgbG9jYWxVbmlmb3Jtcy51RGlzdGFuY2UpKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybU1TREZCaXRHbCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLW1zZGYtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzQgdUNvbG9yO1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1Um91bmQ7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSB1Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKHVSb3VuZCA9PSAxLilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbi54eSA9IHJvdW5kUGl4ZWxzKGdsX1Bvc2l0aW9uLnh5LCB1UmVzb2x1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVEaXN0YW5jZTtcbiAgICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGAgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHZlYzQoY2FsY3VsYXRlTVNERkFscGhhKG91dENvbG9yLCB2Q29sb3IsIHVEaXN0YW5jZSkpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1NU0RGQml0LCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybU1TREZCaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBtU0RGQml0ID0ge1xuICBuYW1lOiBcIm1zZGYtYml0XCIsXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBmbiBjYWxjdWxhdGVNU0RGQWxwaGEobXNkZkNvbG9yOnZlYzQ8ZjMyPiwgc2hhcGVDb2xvcjp2ZWM0PGYzMj4sIGRpc3RhbmNlOmYzMikgLT4gZjMyIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBNU0RGXG4gICAgICAgICAgICAgICAgdmFyIG1lZGlhbiA9IG1zZGZDb2xvci5yICsgbXNkZkNvbG9yLmcgKyBtc2RmQ29sb3IuYiAtXG4gICAgICAgICAgICAgICAgICAgIG1pbihtc2RmQ29sb3IuciwgbWluKG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpIC1cbiAgICAgICAgICAgICAgICAgICAgbWF4KG1zZGZDb2xvci5yLCBtYXgobXNkZkNvbG9yLmcsIG1zZGZDb2xvci5iKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTREZcbiAgICAgICAgICAgICAgICBtZWRpYW4gPSBtaW4obWVkaWFuLCBtc2RmQ29sb3IuYSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2NyZWVuUHhEaXN0YW5jZSA9IGRpc3RhbmNlICogKG1lZGlhbiAtIDAuNSk7XG4gICAgICAgICAgICAgICAgdmFyIGFscGhhID0gY2xhbXAoc2NyZWVuUHhEaXN0YW5jZSArIDAuNSwgMC4wLCAxLjApO1xuICAgICAgICAgICAgICAgIGlmIChtZWRpYW4gPCAwLjAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMC4wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDEuMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHYW1tYSBjb3JyZWN0aW9uIGZvciBjb3ZlcmFnZS1saWtlIGFscGhhXG4gICAgICAgICAgICAgICAgdmFyIGx1bWE6IGYzMiA9IGRvdChzaGFwZUNvbG9yLnJnYiwgdmVjMzxmMzI+KDAuMjk5LCAwLjU4NywgMC4xMTQpKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2FtbWE6IGYzMiA9IG1peCgxLjAsIDEuMCAvIDIuMiwgbHVtYSk7XG4gICAgICAgICAgICAgICAgdmFyIGNvdmVyYWdlOiBmMzIgPSBwb3coc2hhcGVDb2xvci5hICogYWxwaGEsIGdhbW1hKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3ZlcmFnZTtcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IG1TREZCaXRHbCA9IHtcbiAgbmFtZTogXCJtc2RmLWJpdFwiLFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgZmxvYXQgY2FsY3VsYXRlTVNERkFscGhhKHZlYzQgbXNkZkNvbG9yLCB2ZWM0IHNoYXBlQ29sb3IsIGZsb2F0IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTVNERlxuICAgICAgICAgICAgICAgIGZsb2F0IG1lZGlhbiA9IG1zZGZDb2xvci5yICsgbXNkZkNvbG9yLmcgKyBtc2RmQ29sb3IuYiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbihtc2RmQ29sb3IuciwgbWluKG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4KG1zZGZDb2xvci5yLCBtYXgobXNkZkNvbG9yLmcsIG1zZGZDb2xvci5iKSk7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTREZcbiAgICAgICAgICAgICAgICBtZWRpYW4gPSBtaW4obWVkaWFuLCBtc2RmQ29sb3IuYSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmbG9hdCBzY3JlZW5QeERpc3RhbmNlID0gZGlzdGFuY2UgKiAobWVkaWFuIC0gMC41KTtcbiAgICAgICAgICAgICAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKHNjcmVlblB4RGlzdGFuY2UgKyAwLjUsIDAuMCwgMS4wKTtcbiAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG1lZGlhbiA8IDAuMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSAwLjA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZWRpYW4gPiAwLjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMS4wO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdhbW1hIGNvcnJlY3Rpb24gZm9yIGNvdmVyYWdlLWxpa2UgYWxwaGFcbiAgICAgICAgICAgICAgICBmbG9hdCBsdW1hID0gZG90KHNoYXBlQ29sb3IucmdiLCB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpKTtcbiAgICAgICAgICAgICAgICBmbG9hdCBnYW1tYSA9IG1peCgxLjAsIDEuMCAvIDIuMiwgbHVtYSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgY292ZXJhZ2UgPSBwb3coc2hhcGVDb2xvci5hICogYWxwaGEsIGdhbW1hKTsgIFxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gY292ZXJhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IG1TREZCaXQsIG1TREZCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bVNERkJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBnZXRNYXhUZXh0dXJlc1BlckJhdGNoIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2JhdGNoZXIvZ2wvdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcy5tanMnO1xuaW1wb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtLCBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlSGlnaFNoYWRlclRvUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgY29sb3JCaXQsIGNvbG9yQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvY29sb3JCaXQubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0LCBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2dlbmVyYXRlVGV4dHVyZUJhdGNoQml0Lm1qcyc7XG5pbXBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMnO1xuaW1wb3J0IHsgZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL2dldEJhdGNoU2FtcGxlcnNVbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGxvY2FsVW5pZm9ybU1TREZCaXQsIGxvY2FsVW5pZm9ybU1TREZCaXRHbCB9IGZyb20gJy4vc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtTVNERkJpdC5tanMnO1xuaW1wb3J0IHsgbVNERkJpdCwgbVNERkJpdEdsIH0gZnJvbSAnLi9zaGFkZXItYml0cy9tU0RGQml0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IGdwdVByb2dyYW07XG5sZXQgZ2xQcm9ncmFtO1xuY2xhc3MgU2RmU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgdW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1VHJhbnNmb3JtTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdURpc3RhbmNlOiB7IHZhbHVlOiA0LCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICB1Um91bmQ6IHsgdmFsdWU6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgIH0pO1xuICAgIGNvbnN0IG1heFRleHR1cmVzID0gZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCgpO1xuICAgIGdwdVByb2dyYW0gPz8gKGdwdVByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0oe1xuICAgICAgbmFtZTogXCJzZGYtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGNvbG9yQml0LFxuICAgICAgICBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdChtYXhUZXh0dXJlcyksXG4gICAgICAgIGxvY2FsVW5pZm9ybU1TREZCaXQsXG4gICAgICAgIG1TREZCaXQsXG4gICAgICAgIHJvdW5kUGl4ZWxzQml0XG4gICAgICBdXG4gICAgfSkpO1xuICAgIGdsUHJvZ3JhbSA/PyAoZ2xQcm9ncmFtID0gY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0oe1xuICAgICAgbmFtZTogXCJzZGYtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGNvbG9yQml0R2wsXG4gICAgICAgIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wobWF4VGV4dHVyZXMpLFxuICAgICAgICBsb2NhbFVuaWZvcm1NU0RGQml0R2wsXG4gICAgICAgIG1TREZCaXRHbCxcbiAgICAgICAgcm91bmRQaXhlbHNCaXRHbFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBzdXBlcih7XG4gICAgICBnbFByb2dyYW0sXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGxvY2FsVW5pZm9ybXM6IHVuaWZvcm1zLFxuICAgICAgICBiYXRjaFNhbXBsZXJzOiBnZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwKG1heFRleHR1cmVzKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFNkZlNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2RmU2hhZGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB2YWx1ZXNUb0l0ZXJhdGVGb3JLZXlzID0gW1xuICBcImFsaWduXCIsXG4gIFwiYnJlYWtXb3Jkc1wiLFxuICBcImNzc092ZXJyaWRlc1wiLFxuICBcImZvbnRWYXJpYW50XCIsXG4gIFwiZm9udFdlaWdodFwiLFxuICBcImxlYWRpbmdcIixcbiAgXCJsZXR0ZXJTcGFjaW5nXCIsXG4gIFwibGluZUhlaWdodFwiLFxuICBcInBhZGRpbmdcIixcbiAgXCJ0ZXh0QmFzZWxpbmVcIixcbiAgXCJ0cmltXCIsXG4gIFwid2hpdGVTcGFjZVwiLFxuICBcIndvcmRXcmFwXCIsXG4gIFwid29yZFdyYXBXaWR0aFwiLFxuICBcImZvbnRGYW1pbHlcIixcbiAgXCJmb250U3R5bGVcIixcbiAgXCJmb250U2l6ZVwiXG5dO1xuZnVuY3Rpb24gZ2VuZXJhdGVUZXh0U3R5bGVLZXkoc3R5bGUpIHtcbiAgY29uc3Qga2V5ID0gW107XG4gIGxldCBpbmRleCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzVG9JdGVyYXRlRm9yS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByb3AgPSBgXyR7dmFsdWVzVG9JdGVyYXRlRm9yS2V5c1tpXX1gO1xuICAgIGtleVtpbmRleCsrXSA9IHN0eWxlW3Byb3BdO1xuICB9XG4gIGluZGV4ID0gYWRkRmlsbFN0eWxlS2V5KHN0eWxlLl9maWxsLCBrZXksIGluZGV4KTtcbiAgaW5kZXggPSBhZGRTdG9rZVN0eWxlS2V5KHN0eWxlLl9zdHJva2UsIGtleSwgaW5kZXgpO1xuICBpbmRleCA9IGFkZERyb3BTaGFkb3dLZXkoc3R5bGUuZHJvcFNoYWRvdywga2V5LCBpbmRleCk7XG4gIHJldHVybiBrZXkuam9pbihcIi1cIik7XG59XG5mdW5jdGlvbiBhZGRGaWxsU3R5bGVLZXkoZmlsbFN0eWxlLCBrZXksIGluZGV4KSB7XG4gIGlmICghZmlsbFN0eWxlKVxuICAgIHJldHVybiBpbmRleDtcbiAga2V5W2luZGV4KytdID0gZmlsbFN0eWxlLmNvbG9yO1xuICBrZXlbaW5kZXgrK10gPSBmaWxsU3R5bGUuYWxwaGE7XG4gIGtleVtpbmRleCsrXSA9IGZpbGxTdHlsZS5maWxsPy5zdHlsZUtleTtcbiAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gYWRkU3Rva2VTdHlsZUtleShzdHJva2VTdHlsZSwga2V5LCBpbmRleCkge1xuICBpZiAoIXN0cm9rZVN0eWxlKVxuICAgIHJldHVybiBpbmRleDtcbiAgaW5kZXggPSBhZGRGaWxsU3R5bGVLZXkoc3Ryb2tlU3R5bGUsIGtleSwgaW5kZXgpO1xuICBrZXlbaW5kZXgrK10gPSBzdHJva2VTdHlsZS53aWR0aDtcbiAga2V5W2luZGV4KytdID0gc3Ryb2tlU3R5bGUuYWxpZ25tZW50O1xuICBrZXlbaW5kZXgrK10gPSBzdHJva2VTdHlsZS5jYXA7XG4gIGtleVtpbmRleCsrXSA9IHN0cm9rZVN0eWxlLmpvaW47XG4gIGtleVtpbmRleCsrXSA9IHN0cm9rZVN0eWxlLm1pdGVyTGltaXQ7XG4gIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGFkZERyb3BTaGFkb3dLZXkoZHJvcFNoYWRvdywga2V5LCBpbmRleCkge1xuICBpZiAoIWRyb3BTaGFkb3cpXG4gICAgcmV0dXJuIGluZGV4O1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmFscGhhO1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmFuZ2xlO1xuICBrZXlbaW5kZXgrK10gPSBkcm9wU2hhZG93LmJsdXI7XG4gIGtleVtpbmRleCsrXSA9IGRyb3BTaGFkb3cuZGlzdGFuY2U7XG4gIGtleVtpbmRleCsrXSA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShkcm9wU2hhZG93LmNvbG9yKS50b051bWJlcigpO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlVGV4dFN0eWxlS2V5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVRleHRTdHlsZUtleS5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbmZ1bmN0aW9uIGdldFBvMlRleHR1cmVGcm9tU291cmNlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IGJvdW5kcyA9IHRlbXBCb3VuZHM7XG4gIGJvdW5kcy5taW5YID0gMDtcbiAgYm91bmRzLm1pblkgPSAwO1xuICBib3VuZHMubWF4WCA9IGltYWdlLndpZHRoIC8gcmVzb2x1dGlvbiB8IDA7XG4gIGJvdW5kcy5tYXhZID0gaW1hZ2UuaGVpZ2h0IC8gcmVzb2x1dGlvbiB8IDA7XG4gIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICBib3VuZHMud2lkdGgsXG4gICAgYm91bmRzLmhlaWdodCxcbiAgICByZXNvbHV0aW9uLFxuICAgIGZhbHNlXG4gICk7XG4gIHRleHR1cmUuc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJpbWFnZVwiO1xuICB0ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSA9IGltYWdlO1xuICB0ZXh0dXJlLnNvdXJjZS5hbHBoYU1vZGUgPSBcInByZW11bHRpcGx5LWFscGhhLW9uLXVwbG9hZFwiO1xuICB0ZXh0dXJlLmZyYW1lLndpZHRoID0gd2lkdGggLyByZXNvbHV0aW9uO1xuICB0ZXh0dXJlLmZyYW1lLmhlaWdodCA9IGhlaWdodCAvIHJlc29sdXRpb247XG4gIHRleHR1cmUuc291cmNlLmVtaXQoXCJ1cGRhdGVcIiwgdGV4dHVyZS5zb3VyY2UpO1xuICB0ZXh0dXJlLnVwZGF0ZVV2cygpO1xuICByZXR1cm4gdGV4dHVyZTtcbn1cblxuZXhwb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9jb250YWluZXIvQ29udGFpbmVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgVmlld0NvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5jYW5CdW5kbGUgPSB0cnVlO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuYWxsb3dDaGlsZHJlbiA9IGZhbHNlO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gMDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICB0aGlzLl9sYXN0VXNlZCA9IDA7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgdGhpcy5fbGFzdEluc3RydWN0aW9uVGljayA9IC0xO1xuICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5fYm91bmRzRGlydHkgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgbG9jYWwgYm91bmRzIG9mIHRoZSB2aWV3LlxuICAgKiBAdHlwZSB7cmVuZGVyaW5nLkJvdW5kc31cbiAgICovXG4gIGdldCBib3VuZHMoKSB7XG4gICAgaWYgKCF0aGlzLl9ib3VuZHNEaXJ0eSlcbiAgICAgIHJldHVybiB0aGlzLl9ib3VuZHM7XG4gICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICB0aGlzLl9ib3VuZHNEaXJ0eSA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLl9ib3VuZHM7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIHJvdW5kIHRoZSB4L3kgcG9zaXRpb24gb2YgdGhlIHNwcml0ZS5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgcm91bmRQaXhlbHMoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fcm91bmRQaXhlbHM7XG4gIH1cbiAgc2V0IHJvdW5kUGl4ZWxzKHZhbHVlKSB7XG4gICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZSA/IDEgOiAwO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQuXG4gICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgKi9cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuYm91bmRzO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnQ7XG4gICAgcmV0dXJuIHggPj0gYm91bmRzLm1pblggJiYgeCA8PSBib3VuZHMubWF4WCAmJiB5ID49IGJvdW5kcy5taW5ZICYmIHkgPD0gYm91bmRzLm1heFk7XG4gIH1cbiAgLyoqIEBwcml2YXRlICovXG4gIG9uVmlld1VwZGF0ZSgpIHtcbiAgICB0aGlzLl9kaWRWaWV3Q2hhbmdlVGljaysrO1xuICAgIHRoaXMuX2JvdW5kc0RpcnR5ID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5kaWRWaWV3VXBkYXRlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuZGlkVmlld1VwZGF0ZSA9IHRydWU7XG4gICAgY29uc3QgcmVuZGVyR3JvdXAgPSB0aGlzLnJlbmRlckdyb3VwIHx8IHRoaXMucGFyZW50UmVuZGVyR3JvdXA7XG4gICAgaWYgKHJlbmRlckdyb3VwKSB7XG4gICAgICByZW5kZXJHcm91cC5vbkNoaWxkVmlld1VwZGF0ZSh0aGlzKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveShvcHRpb25zKSB7XG4gICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IFZpZXdDb250YWluZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdDb250YWluZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkFic3RyYWN0VGV4dCIsIlZpZXdDb250YWluZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJzdHlsZUNsYXNzIiwidGV4dCIsInJlc29sdXRpb24iLCJzdHlsZSIsImFuY2hvciIsIndpZHRoIiwiaGVpZ2h0Iiwicm91bmRQaXhlbHMiLCJyZXN0Iiwic3VwZXIiLCJ0aGlzIiwiYmF0Y2hlZCIsIl9yZXNvbHV0aW9uIiwiX2F1dG9SZXNvbHV0aW9uIiwiX2RpZFRleHRVcGRhdGUiLCJfc3R5bGVDbGFzcyIsImFsbG93Q2hpbGRyZW4iLCJfYW5jaG9yIiwiT2JzZXJ2YWJsZVBvaW50IiwiX29uVXBkYXRlIiwib25WaWV3VXBkYXRlIiwidmFsdWUiLCJzZXQiLCJjb3B5RnJvbSIsInRvU3RyaW5nIiwiX3RleHQiLCJfc3R5bGUiLCJvZmYiLCJvbiIsIk1hdGgiLCJhYnMiLCJzY2FsZSIsIngiLCJib3VuZHMiLCJfc2V0V2lkdGgiLCJ5IiwiX3NldEhlaWdodCIsImdldFNpemUiLCJvdXQiLCJzZXRTaXplIiwiY29udGFpbnNQb2ludCIsInBvaW50IiwieDEiLCJ5MSIsImRpZFZpZXdVcGRhdGUiLCJfZ2V0S2V5Iiwic3R5bGVLZXkiLCJkZXN0cm95Iiwib3duZXIiLCJfYm91bmRzIiwiVGV4dCIsImFyZ3MiLCJuYW1lIiwiZGVwcmVjYXRpb24iLCJlbnN1cmVPcHRpb25zIiwiVGV4dFN0eWxlIiwicmVuZGVyUGlwZUlkIiwidXBkYXRlQm91bmRzIiwiY2FudmFzTWVhc3VyZW1lbnQiLCJDYW52YXNUZXh0TWV0cmljcyIsIm1lYXN1cmVUZXh0IiwibWluWCIsIl94IiwibWF4WCIsIm1pblkiLCJfeSIsIm1heFkiLCJfVGV4dFN0eWxlIiwib2xkU3R5bGUiLCJkcm9wU2hhZG93IiwiZGVmYXVsdHMiLCJkZWZhdWx0RHJvcFNoYWRvdyIsImFscGhhIiwiZHJvcFNoYWRvd0FscGhhIiwiYW5nbGUiLCJkcm9wU2hhZG93QW5nbGUiLCJibHVyIiwiZHJvcFNoYWRvd0JsdXIiLCJjb2xvciIsImRyb3BTaGFkb3dDb2xvciIsImRpc3RhbmNlIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwic3Ryb2tlVGhpY2tuZXNzIiwic3Ryb2tlIiwib2JqIiwiaXNDb2xvckxpa2UiLCJmaWxsIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiRXJyb3IiLCJBcnJheSIsImlzQXJyYXkiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRTaXplIiwiZGVmYXVsdFRleHRTdHlsZSIsInBhcnNlSW50IiwiZ3JhZGllbnRGaWxsIiwiZmlsbHMiLCJtYXAiLCJzaGFyZWQiLCJzZXRWYWx1ZSIsInRvTnVtYmVyIiwiZm9yRWFjaCIsIm51bWJlciIsImluZGV4IiwicmF0aW8iLCJsZW5ndGgiLCJhZGRDb2xvclN0b3AiLCJjb252ZXJ0VjdUb3Y4U3R5bGUiLCJmdWxsU3R5bGUiLCJrZXkiLCJ1cGRhdGUiLCJhbGlnbiIsIl9hbGlnbiIsImJyZWFrV29yZHMiLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2NyZWF0ZVByb3h5IiwiZm9udEZhbWlseSIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiZm9udFN0eWxlIiwiX2ZvbnRTdHlsZSIsInRvTG93ZXJDYXNlIiwiZm9udFZhcmlhbnQiLCJfZm9udFZhcmlhbnQiLCJmb250V2VpZ2h0IiwiX2ZvbnRXZWlnaHQiLCJsZWFkaW5nIiwiX2xlYWRpbmciLCJsZXR0ZXJTcGFjaW5nIiwiX2xldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwiX2xpbmVIZWlnaHQiLCJwYWRkaW5nIiwiX3BhZGRpbmciLCJ0cmltIiwiX3RyaW0iLCJ0ZXh0QmFzZWxpbmUiLCJfdGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIl93aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJfd29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwiX3dvcmRXcmFwV2lkdGgiLCJfb3JpZ2luYWxGaWxsIiwiX2lzRmlsbFN0eWxlIiwiZGVmYXVsdEZpbGxTdHlsZSIsIl9maWxsIiwiX29yaWdpbmFsU3Ryb2tlIiwiZGVmYXVsdFN0cm9rZVN0eWxlIiwiX3N0cm9rZSIsIl9nZW5lcmF0ZUtleSIsIl9zdHlsZUtleSIsImVtaXQiLCJyZXNldCIsImRlZmF1bHRTdHlsZSIsImNsb25lIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwidGV4dHVyZSIsImRlc3Ryb3lUZXh0dXJlU291cmNlIiwidGV4dHVyZVNvdXJjZSIsImNiIiwiUHJveHkiLCJ0YXJnZXQiLCJwcm9wZXJ0eSIsIm5ld1ZhbHVlIiwiUEkiLCJjb250ZXh0U2V0dGluZ3MiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJfQ2FudmFzVGV4dE1ldHJpY3MiLCJleHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nU3VwcG9ydGVkIiwicmVzdWx0IiwiX2V4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQiLCJwcm90byIsImdldCIsImdldENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsInByb3RvdHlwZSIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwiY2FudmFzIiwiX2NhbnZhcyIsInRleHRLZXkiLCJfbWVhc3VyZW1lbnRDYWNoZSIsImZvbnQiLCJtZWFzdXJlRm9udCIsImFzY2VudCIsImNvbnRleHQiLCJfX2NvbnRleHQiLCJzcGxpdCIsImkiLCJsaW5lV2lkdGgiLCJfbWVhc3VyZVRleHQiLCJtYXgiLCJzdHJva2VXaWR0aCIsInVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmciLCJleHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nIiwidGV4dExldHRlclNwYWNpbmciLCJtZXRyaWNzIiwibWV0cmljV2lkdGgiLCJhY3R1YWxCb3VuZGluZ0JveExlZnQiLCJib3VuZHNXaWR0aCIsImFjdHVhbEJvdW5kaW5nQm94UmlnaHQiLCJ2YWwiLCJncmFwaGVtZVNlZ21lbnRlciIsImdldENvbnRleHQiLCJsaW5lIiwiY2FjaGUiLCJjcmVhdGUiLCJjb2xsYXBzZVNwYWNlcyIsIl9jb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJfY29sbGFwc2VOZXdsaW5lcyIsImNhblByZXBlbmRTcGFjZXMiLCJ0b2tlbnMiLCJfdG9rZW5pemUiLCJ0b2tlbiIsIl9pc05ld2xpbmUiLCJfYWRkTGluZSIsImN1cnJJc0JyZWFraW5nU3BhY2UiLCJpc0JyZWFraW5nU3BhY2UiLCJsYXN0SXNCcmVha2luZ1NwYWNlIiwidG9rZW5XaWR0aCIsIl9nZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsIndvcmRXcmFwU3BsaXQiLCJqIiwiY2hhciIsImxhc3RDaGFyIiwiayIsIm5leHRDaGFyIiwiY2FuQnJlYWtDaGFycyIsImNoYXJhY3RlcldpZHRoIiwiaXNMYXN0VG9rZW4iLCJuZXdMaW5lIiwiX3RyaW1SaWdodCIsInNsaWNlIiwiX25ld2xpbmVzIiwiaW5jbHVkZXMiLCJjaGFyQ29kZUF0IiwiX25leHRDaGFyIiwiX2JyZWFraW5nU3BhY2VzIiwicHVzaCIsIl90b2tlbiIsIl9jaGFyIiwiX2luZGV4IiwiX2ZvbnRzIiwiX2NvbnRleHQiLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsInByb3BlcnRpZXMiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsImRlc2NlbnQiLCJhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQiLCJjbGVhck1ldHJpY3MiLCJfX2NhbnZhcyIsImMiLCJPZmZzY3JlZW5DYW52YXMiLCJjcmVhdGVDYW52YXMiLCJfY3giLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiSEVJR0hUX01VTFRJUExJRVIiLCJJbnRsIiwiU2VnbWVudGVyIiwic2VnbWVudGVyIiwicyIsInNlZ21lbnQiLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUiLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsInRlc3QiLCJqb2luIiwiZ2V0Q2FudmFzRmlsbFN0eWxlIiwiZmlsbFN0eWxlIiwiV0hJVEUiLCJzZXRBbHBoYSIsInRvSGV4YSIsInBhdHRlcm4iLCJjcmVhdGVQYXR0ZXJuIiwic291cmNlIiwicmVzb3VyY2UiLCJ0ZW1wTWF0cml4IiwibWF0cml4IiwiY29weVRvIiwiZnJhbWUiLCJzZXRUcmFuc2Zvcm0iLCJmaWxsUGF0dGVybiIsInRyYW5zZm9ybSIsImZpbGxHcmFkaWVudCIsInR5cGUiLCJncmFkaWVudCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwieDAiLCJ5MCIsImdyYWRpZW50U3RvcHMiLCJzdG9wIiwib2Zmc2V0IiwidG9IZXgiLCJDYW52YXNUZXh0UGlwZSIsInJlbmRlcmVyIiwiX2dwdVRleHQiLCJfZGVzdHJveVJlbmRlcmFibGVCb3VuZCIsImRlc3Ryb3lSZW5kZXJhYmxlIiwiYmluZCIsIl9yZW5kZXJlciIsInJ1bm5lcnMiLCJyZXNvbHV0aW9uQ2hhbmdlIiwiYWRkIiwicmVuZGVyYWJsZUdDIiwiYWRkTWFuYWdlZEhhc2giLCJncHVUZXh0IiwiYmF0Y2hhYmxlU3ByaXRlIiwicmVuZGVyYWJsZSIsInZhbGlkYXRlUmVuZGVyYWJsZSIsIl9nZXRHcHVUZXh0IiwibmV3S2V5IiwiY3VycmVudEtleSIsImFkZFJlbmRlcmFibGUiLCJpbnN0cnVjdGlvblNldCIsIl91cGRhdGVUZXh0IiwicmVuZGVyUGlwZXMiLCJiYXRjaCIsImFkZFRvQmF0Y2giLCJ1cGRhdGVSZW5kZXJhYmxlIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZCIsInVpZCIsInRleHRVaWQiLCJjYW52YXNUZXh0IiwiZGVjcmVhc2VSZWZlcmVuY2VDb3VudCIsInJldHVybiIsIl91cGRhdGVHcHVUZXh0IiwidXBkYXRlUXVhZEJvdW5kcyIsImdldE1hbmFnZWRUZXh0dXJlIiwiaW5pdEdwdVRleHQiLCJncHVUZXh0RGF0YSIsIkJhdGNoYWJsZVNwcml0ZSIsImdyb3VwVHJhbnNmb3JtIiwiX3JvdW5kUGl4ZWxzIiwiZXh0ZW5zaW9uIiwiV2ViR0xQaXBlcyIsIldlYkdQVVBpcGVzIiwiQ2FudmFzUGlwZXMiLCJDYW52YXNUZXh0U3lzdGVtIiwiX2FjdGl2ZVRleHR1cmVzIiwiZ2V0VGV4dHVyZVNpemUiLCJtZWFzdXJlZCIsImNlaWwiLCJnZXRUZXh0dXJlIiwiX3RleHRLZXkiLCJjYW52YXNBbmRDb250ZXh0IiwiY3JlYXRlVGV4dHVyZUFuZENhbnZhcyIsImluaXRTb3VyY2UiLCJfc291cmNlIiwiQ2FudmFzUG9vbCIsInJldHVybkNhbnZhc0FuZENvbnRleHQiLCJnZXRPcHRpbWFsQ2FudmFzQW5kQ29udGV4dCIsInJlbmRlclRleHRUb0NhbnZhcyIsImdldFBvMlRleHR1cmVGcm9tU291cmNlIiwidHJpbW1lZCIsImdldENhbnZhc0JvdW5kaW5nQm94IiwidXBkYXRlVXZzIiwiX2luY3JlYXNlUmVmZXJlbmNlQ291bnQiLCJ1c2FnZUNvdW50IiwiYWN0aXZlVGV4dHVyZSIsIlRleHR1cmVQb29sIiwicmV0dXJuVGV4dHVyZSIsInVwbG9hZE1ldGhvZElkIiwiYWxwaGFNb2RlIiwiZ2V0UmVmZXJlbmNlQ291bnQiLCJyZXNldFRyYW5zZm9ybSIsInN0cm9rZVN0eWxlIiwibWl0ZXJMaW1pdCIsImxpbmVKb2luIiwibGluZUNhcCIsImNhcCIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwicGFzc2VzQ291bnQiLCJpc1NoYWRvd1Bhc3MiLCJkc09mZnNldFRleHQiLCJkc09mZnNldFNoYWRvdyIsInNoYWRvd09wdGlvbnMiLCJzaGFkb3dDb2xvciIsIkNvbG9yIiwidG9SZ2JhU3RyaW5nIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJjb3MiLCJzaGFkb3dPZmZzZXRZIiwic2luIiwibGluZVBvc2l0aW9uWVNoaWZ0IiwiaTIiLCJfZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwidGV4dFN0ciIsIldlYkdMU3lzdGVtIiwiV2ViR1BVU3lzdGVtIiwiQ2FudmFzU3lzdGVtIiwibG9jYWxVbmlmb3JtTVNERkJpdCIsInZlcnRleCIsImhlYWRlciIsIm1haW4iLCJlbmQiLCJmcmFnbWVudCIsImxvY2FsVW5pZm9ybU1TREZCaXRHbCIsIm1TREZCaXQiLCJtU0RGQml0R2wiLCJncHVQcm9ncmFtIiwiZ2xQcm9ncmFtIiwiU2RmU2hhZGVyIiwiU2hhZGVyIiwidW5pZm9ybXMiLCJVbmlmb3JtR3JvdXAiLCJ1Q29sb3IiLCJGbG9hdDMyQXJyYXkiLCJ1VHJhbnNmb3JtTWF0cml4IiwiTWF0cml4IiwidURpc3RhbmNlIiwidVJvdW5kIiwibWF4VGV4dHVyZXMiLCJiaXRzIiwiY29sb3JCaXQiLCJnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdCIsInJvdW5kUGl4ZWxzQml0IiwicmVzb3VyY2VzIiwibG9jYWxVbmlmb3JtcyIsImJhdGNoU2FtcGxlcnMiLCJnZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwIiwidmFsdWVzVG9JdGVyYXRlRm9yS2V5cyIsImdlbmVyYXRlVGV4dFN0eWxlS2V5IiwicHJvcCIsImFkZEZpbGxTdHlsZUtleSIsImFsaWdubWVudCIsImFkZFN0b2tlU3R5bGVLZXkiLCJhZGREcm9wU2hhZG93S2V5IiwidGVtcEJvdW5kcyIsImltYWdlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJhcmd1bWVudHMiLCJjYW5CdW5kbGUiLCJfbGFzdFVzZWQiLCJfbGFzdEluc3RydWN0aW9uVGljayIsIl9ib3VuZHNEaXJ0eSIsIl9kaWRWaWV3Q2hhbmdlVGljayIsInJlbmRlckdyb3VwIiwicGFyZW50UmVuZGVyR3JvdXAiLCJvbkNoaWxkVmlld1VwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=