"use strict";(self.webpackChunkpixijs_game=self.webpackChunkpixijs_game||[]).push([[17],{9621:(e,t,n)=>{n.d(t,{E:()=>r});const r={cullArea:null,cullable:!1,cullableChildren:!0}},9997:(e,t,n)=>{n(928),n(6903);var r=n(9084),i=n(9032),o=n(413),s=n(5638),a=n(8273),u=n(2947),l=n(6212);const h=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){!this._tickerAdded&&this.domElement&&(l.R.system.add(this._tickerUpdate,this,u.d.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(l.R.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this._update())}};var p=n(1369);class c extends p.N{constructor(){super(...arguments),this.client=new s.b,this.movement=new s.b,this.offset=new s.b,this.global=new s.b,this.screen=new s.b}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,r,i,o,s,a,u,l,h,p,c,d,v){throw new Error("Method not implemented.")}}class d extends c{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class v extends c{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}v.DOM_DELTA_PIXEL=0,v.DOM_DELTA_LINE=1,v.DOM_DELTA_PAGE=2;const f=new s.b,m=new s.b;class g{constructor(e){this.dispatch=new o.A,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(((e,t)=>e.priority-t.priority))}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,r=t.length;n<r;n++)t[n].fn(e);else(0,a.R)(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){h.pauseUpdate=!0;const n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,f.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,i=n.length-1;r<i;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=n.length-2;r>=0;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(0===n.length)return;e.eventPhase=e.BUBBLING_PHASE;const r=Array.isArray(t)?t:[t];for(let t=n.length-1;t>=0;t--)r.forEach((r=>{e.currentTarget=n[t],this.notifyTarget(e,r)}))}propagationPath(e){const t=[e];for(let n=0;n<2048&&e!==this.rootTarget&&e.parent;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,r,i,o=!1){let s=!1;if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(h.pauseUpdate=!1),e.interactiveChildren&&e.children){const a=e.children;for(let u=a.length-1;u>=0;u--){const l=a[u],h=this.hitTestMoveRecursive(l,this._isInteractive(t)?t:l.eventMode,n,r,i,o||i(e,n));if(h){if(h.length>0&&!h[h.length-1].parent)continue;const t=e.isInteractive();(h.length>0||t)&&(t&&this._allInteractiveElements.push(e),h.push(e)),0===this._hitElements.length&&(this._hitElements=h),s=!0}}}const a=this._isInteractive(t),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:s?this._hitElements:a&&!i(e,n)&&r(e,n)?u?[e]:[]:null}hitTestRecursive(e,t,n,r,i){if(this._interactivePrune(e)||i(e,n))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(h.pauseUpdate=!1),e.interactiveChildren&&e.children){const o=e.children,s=n;for(let n=o.length-1;n>=0;n--){const a=o[n],u=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,s,r,i);if(u){if(u.length>0&&!u[u.length-1].parent)continue;const t=e.isInteractive();return(u.length>0||t)&&u.push(e),u}}}const o=this._isInteractive(t),s=e.isInteractive();return o&&r(e,n)?s?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&e.visible&&e.renderable&&e.measurable)||("none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,m),!e.hitArea.contains(m.x,m.y)))return!0;if(e.effects&&e.effects.length)for(let n=0;n<e.effects.length;n++){const r=e.effects[n];if(r.containsPoint){if(!r.containsPoint(t,this.hitTestFn))return!0}}return!1}hitTestFn(e,t){return!!e.hitArea||!!e?.containsPoint&&(e.worldTransform.applyInverse(t,m),e.containsPoint(m))}notifyTarget(e,t){if(!e.currentTarget.isInteractive())return;t??(t=e.type);const n=`on${t}`;e.currentTarget[n]?.(e);const r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this._notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof d))return void(0,a.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof d))return void(0,a.R)("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n="mouse"===t.pointerType||"pen"===t.pointerType,r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.overTargets);if(r.overTargets?.length>0&&i!==t.target){const r="mousemove"===e.type?"mouseout":"pointerout",o=this.createPointerEvent(e,r,i);if(this.dispatchEvent(o,"pointerout"),n&&this.dispatchEvent(o,"mouseout"),!t.composedPath().includes(i)){const r=this.createPointerEvent(e,"pointerleave",i);for(r.eventPhase=r.AT_TARGET;r.target&&!t.composedPath().includes(r.target);)r.currentTarget=r.target,this.notifyTarget(r),n&&this.notifyTarget(r,"mouseleave"),r.target=r.target.parent;this.freeEvent(r)}this.freeEvent(o)}if(i!==t.target){const r="mousemove"===e.type?"mouseover":"pointerover",o=this.clonePointerEvent(t,r);this.dispatchEvent(o,"pointerover"),n&&this.dispatchEvent(o,"mouseover");let s=i?.parent;for(;s&&s!==this.rootTarget.parent&&s!==t.target;)s=s.parent;if(!s||s===this.rootTarget.parent){const e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==i&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),n&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(o)}const o=[],s=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),s&&o.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),s&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),s&&o.push("globalmousemove"),this.cursor=t.target?.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,r.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof d))return void(0,a.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),r="mouse"===n.pointerType||"pen"===n.pointerType;this.dispatchEvent(n,"pointerover"),r&&this.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(this.cursor=n.target?.cursor);const i=this.clonePointerEvent(n,"pointerenter");for(i.eventPhase=i.AT_TARGET;i.target&&i.target!==this.rootTarget.parent;)i.currentTarget=i.target,this.notifyTarget(i),r&&this.notifyTarget(i,"mouseenter"),i.target=i.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(i)}mapPointerOut(e){if(!(e instanceof d))return void(0,a.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const n="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(i),n&&this.dispatchEvent(i,"mouseout");const o=this.createPointerEvent(e,"pointerleave",r);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof d))return void(0,a.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.dispatchEvent(n,e?"rightup":"mouseup")}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]);let o=i;if(i&&!n.composedPath().includes(i)){let t=i;for(;t&&!n.composedPath().includes(t);){if(n.currentTarget=t,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.notifyTarget(n,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete r.pressTargetsByButton[e.button],o=t}if(o){const i=this.clonePointerEvent(n,"click");i.target=o,i.path=null,r.clicksByButton[e.button]||(r.clicksByButton[e.button]={clickCount:0,target:i.target,timeStamp:t});const s=r.clicksByButton[e.button];if(s.target===i.target&&t-s.timeStamp<200?++s.clickCount:s.clickCount=1,s.target=i.target,s.timeStamp=t,i.detail=s.clickCount,"mouse"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof d))return void(0,a.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(n){let i=n;for(;i;)r.currentTarget=i,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}mapWheel(e){if(!(e instanceof v))return void(0,a.R)("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const r=this.allocateEvent(d);return this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=n??this.hitTest(r.global.x,r.global.y)??this._hitElements[0],"string"==typeof t&&(r.type=t),r}createWheelEvent(e){const t=this.allocateEvent(v);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(d);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof d&&t instanceof d&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof c&&t instanceof c&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.defaultPrevented=!1,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}_notifyListeners(e,t){const n=e.currentTarget._events[t];if(n)if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let r=0,i=n.length;r<i&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeListener(t,n[r].fn,void 0,!0),n[r].fn.call(n[r].context,e)}}const y={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},b=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new g(null),h.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new d(null),this._rootWheelEvent=new v(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,n)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=n),e[t]=n,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{canvas:n,resolution:r}=this.renderer;this.setTargetElement(n),this.resolution=r,e._defaultEventMode=t.eventMode??"passive",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this._currentCursor===e)return;this._currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized){(e.cancelable||!("cancelable"in e))&&e.preventDefault()}for(let e=0,n=t.length;e<n;e++){const n=t[e],r=this._bootstrapEvent(this._rootPointerEvent,n);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,h.pointerMoved();const t=this._normalizeToPointerData(e);for(let e=0,n=t.length;e<n;e++){const n=this._bootstrapEvent(this._rootPointerEvent,t[e]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",r=this._normalizeToPointerData(e);for(let e=0,t=r.length;e<t;e++){const t=this._bootstrapEvent(this._rootPointerEvent,r[e]);t.type+=n,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);for(let e=0,n=t.length;e<n;e++){const n=this._bootstrapEvent(this._rootPointerEvent,t[e]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this._removeEvents(),this.domElement=e,h.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;h.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;h.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,t,n){const r=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*i,e.y=(n-r.top)*(this.domElement.height/r.height)*i}_normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,r=e.changedTouches.length;n<r;n++){const r=e.changedTouches[n];void 0===r.button&&(r.button=0),void 0===r.buttons&&(r.buttons=1),void 0===r.isPrimary&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=e.type,t.push(r)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{const n=e;void 0===n.isPrimary&&(n.isPrimary=!0),void 0===n.width&&(n.width=1),void 0===n.height&&(n.height=1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="mouse"),void 0===n.pointerId&&(n.pointerId=1),void 0===n.pressure&&(n.pressure=.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}return t}normalizeWheelEvent(e){const t=this._rootWheelEvent;return this._transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}_bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this._transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=y[e.type]||e.type),e}_transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};b.extension={name:"events",type:[r.Ag.WebGLSystem,r.Ag.CanvasSystem,r.Ag.WebGPUSystem],priority:-1},b.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let T=b;const E={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return"dynamic"===this.eventMode||"static"===this.eventMode},set interactive(e){this.eventMode=e?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??T.defaultEventMode},set eventMode(e){this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,n){const r="boolean"==typeof n&&n||"object"==typeof n&&n.capture,i="object"==typeof n?n.signal:void 0,o="object"==typeof n&&!0===n.once,s="function"==typeof t?void 0:t;e=r?`${e}capture`:e;const a="function"==typeof t?t:t.handleEvent,u=this;i&&i.addEventListener("abort",(()=>{u.off(e,a,s)})),o?u.once(e,a,s):u.on(e,a,s)},removeEventListener(e,t,n){const r="function"==typeof t?void 0:t;e="boolean"==typeof n&&n||"object"==typeof n&&n.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent(e){if(!(e instanceof p.N))throw new Error("Container cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};r.XO.add(T),i.mc.mixin(E);n(4573),n(924),n(2969),n(2372),n(8460),n(6578),n(169),n(6689),n(7172),n(8445),n(4376)},8831:(e,t,n)=>{n.d(t,{I:()=>r});const r={extension:{type:n(9084).Ag.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.all([n.e(217),n.e(346),n.e(640),n.e(395),n.e(443),n.e(17),n.e(858),n.e(517),n.e(2),n.e(404),n.e(302),n.e(417),n.e(457),n.e(929),n.e(676),n.e(135),n.e(410),n.e(716),n.e(630),n.e(42)]).then(n.bind(n,9997))}}},315:(e,t,n)=>{n.r(t);n(6903),n(4573),n(924),n(2969),n(2372),n(8460),n(6578),n(169),n(6689),n(7172),n(8445),n(4376)},3275:(e,t,n)=>{n.d(t,{S:()=>r});const r={extension:{type:n(9084).Ag.Environment,name:"webworker",priority:0},test:()=>"undefined"!=typeof self&&void 0!==self.WorkerGlobalScope,load:async()=>{await Promise.all([n.e(217),n.e(346),n.e(640),n.e(395),n.e(443),n.e(17),n.e(858),n.e(517),n.e(2),n.e(404),n.e(302),n.e(417),n.e(457),n.e(929),n.e(676),n.e(135),n.e(410),n.e(716),n.e(630),n.e(42)]).then(n.bind(n,315))}}},4184:(e,t,n)=>{n.d(t,{e:()=>i});let r={createCanvas:(e,t)=>{const n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")};const i={get:()=>r,set(e){r=e}}},8434:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(9084);const i=[];async function o(e){if(!e)for(let e=0;e<i.length;e++){const t=i[e];if(t.value.test())return void await t.value.load()}}r.XO.handleByNamedList(r.Ag.Environment,i)},1369:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(5638);class i{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=i.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new r.b,this.page=new r.b,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,r,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}},9084:(e,t,n)=>{n.d(t,{Ag:()=>r,XO:()=>s});var r=(e=>(e.Application="application",e.WebGLPipes="webgl-pipes",e.WebGLPipesAdaptor="webgl-pipes-adaptor",e.WebGLSystem="webgl-system",e.WebGPUPipes="webgpu-pipes",e.WebGPUPipesAdaptor="webgpu-pipes-adaptor",e.WebGPUSystem="webgpu-system",e.CanvasSystem="canvas-system",e.CanvasPipesAdaptor="canvas-pipes-adaptor",e.CanvasPipes="canvas-pipes",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e.MaskEffect="mask-effect",e.BlendMode="blend-mode",e.TextureSource="texture-source",e.Environment="environment",e.ShapeBuilder="shape-builder",e.Batcher="batcher",e))(r||{});const i=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e={...e}).type&&(e.type=[e.type]),e},o=(e,t)=>i(e).priority??t,s={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(i).forEach((e=>{e.type.forEach((t=>this._removeHandlers[t]?.(e)))})),this},add(...e){return e.map(i).forEach((e=>{e.type.forEach((t=>{const n=this._addHandlers,r=this._queue;n[t]?n[t]?.(e):(r[t]=r[t]||[],r[t]?.push(e))}))})),this},handle(e,t,n){const r=this._addHandlers,i=this._removeHandlers;if(r[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);r[e]=t,i[e]=n;const o=this._queue;return o[e]&&(o[e]?.forEach((e=>t(e))),delete o[e]),this},handleByMap(e,t){return this.handle(e,(e=>{e.name&&(t[e.name]=e.ref)}),(e=>{e.name&&delete t[e.name]}))},handleByNamedList(e,t,n=-1){return this.handle(e,(e=>{t.findIndex((t=>t.name===e.name))>=0||(t.push({name:e.name,value:e.ref}),t.sort(((e,t)=>o(t.value,n)-o(e.value,n))))}),(e=>{const n=t.findIndex((t=>t.name===e.name));-1!==n&&t.splice(n,1)}))},handleByList(e,t,n=-1){return this.handle(e,(e=>{t.includes(e.ref)||(t.push(e.ref),t.sort(((e,t)=>o(t,n)-o(e,n))))}),(e=>{const n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)}))}}},5807:(e,t,n)=>{n.d(t,{d:()=>u});var r=n(1368),i=n(4557),o=n(5106),s=n(9678);const a=class e extends o.M{constructor(t){super(t={...e.defaultOptions,...t}),this.enabled=!0,this._state=s.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"==typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,n,r){e.applyFilter(this,t,n,r)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:n,gl:o,...s}=t;let a,u;return n&&(a=i.B.from(n)),o&&(u=r.M.from(o)),new e({gpuProgram:a,glProgram:u,...s})}};a.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let u=a},6276:(e,t,n)=>{n.d(t,{a:()=>r});class r{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}},167:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(1368),i=n(4557),o=n(6524),s=n(5807),a="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct AlphaUniforms {\n  uAlpha:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n \n    var sample = textureSample(uTexture, uSampler, uv);\n    \n    return sample * alphaUniforms.uAlpha;\n}";const u=class e extends s.d{constructor(t){t={...e.defaultOptions,...t};const n=i.B.from({vertex:{source:a,entryPoint:"mainVertex"},fragment:{source:a,entryPoint:"mainFragment"}}),s=r.M.from({vertex:"in vec2 aPosition;\nout vec2 vTextureCoord;\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",fragment:"\nin vec2 vTextureCoord;\n\nout vec4 finalColor;\n\nuniform float uAlpha;\nuniform sampler2D uTexture;\n\nvoid main()\n{\n    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;\n}\n",name:"alpha-filter"}),{alpha:u,...l}=t;super({...l,gpuProgram:n,glProgram:s,resources:{alphaUniforms:new o.k({uAlpha:{value:u,type:"f32"}})}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};u.defaultOptions={alpha:1};let l=u},6125:(e,t,n)=>{n.d(t,{e:()=>u});var r=n(1448),i=n(2672),o=n(2597),s=n(5807),a=n(8130);class u extends s.d{constructor(...e){let t=e[0]??{};"number"==typeof t&&((0,o.t6)(o.lj,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),t={strength:t},void 0!==e[1]&&(t.quality=e[1]),void 0!==e[2]&&(t.resolution=e[2]||"inherit"),void 0!==e[3]&&(t.kernelSize=e[3])),t={...a.H.defaultOptions,...t};const{strength:n,strengthX:r,strengthY:s,quality:u,...l}=t;super({...l,compatibleRenderers:i.W.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new a.H({horizontal:!0,...t}),this.blurYFilter=new a.H({horizontal:!1,...t}),this.quality=u,this.strengthX=r??n,this.strengthY=s??n,this.repeatEdgePixels=!1}apply(e,t,n,i){const o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){const o=r.W.getSameSizeTexture(t);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(e,t,o,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,o,n,i),r.W.returnTexture(o)}else s?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,t,n,i)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(e,t,n,i))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get strengthX(){return this.blurXFilter.blur}set strengthX(e){this.blurXFilter.blur=e,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(e){this.blurYFilter.blur=e,this.updatePadding()}get blur(){return(0,o.t6)("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(e){(0,o.t6)("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=e}get blurX(){return(0,o.t6)("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(e){(0,o.t6)("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=e}get blurY(){return(0,o.t6)("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(e){(0,o.t6)("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}u.defaultOptions={strength:8,quality:4,kernelSize:5}},8130:(e,t,n)=>{n.d(t,{H:()=>c});var r=n(1448),i=n(2672),o=n(5807),s=n(1368);const a={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},u=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join("\n");function l(e,t){const n=function(e,t){const n=Math.ceil(e/2);let r,i="\n    in vec2 aPosition;\n\n    uniform float uStrength;\n\n    out vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 uInputSize;\n    uniform vec4 uOutputFrame;\n    uniform vec4 uOutputTexture;\n\n    vec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\n    vec2 filterTextureCoord( void )\n    {\n        return aPosition * (uOutputFrame.zw * uInputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        float pixelStrength = uInputSize.%dimension% * uStrength;\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let t=0;t<e;t++){let e=r.replace("%index%",t.toString());e=e.replace("%sampleIndex%",t-(n-1)+".0"),o+=e,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e.toString()),i=i.replace("%dimension%",t?"z":"w"),i}(t,e),r=function(e){const t=a[e],n=t.length;let r,i=u,o="";for(let i=0;i<e;i++){let s="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;".replace("%index%",i.toString());r=i,i>=n&&(r=e-i-1),s=s.replace("%value%",t[r].toString()),o+=s,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e.toString()),i}(t);return s.M.from({vertex:n,fragment:r,name:`blur-${e?"horizontal":"vertical"}-pass-filter`})}var h=n(4557);const p=class e extends o.d{constructor(t){super({glProgram:l((t={...e.defaultOptions,...t}).horizontal,t.kernelSize),gpuProgram:function(e,t){const n=a[t],r=n.length,i=[],o=[],s=[];for(let a=0;a<t;a++){i[a]=`@location(${a}) offset${a}: vec2<f32>,`,o[a]=e?`filteredCord + vec2(${a-r+1} * pixelStrength, 0.0),`:`filteredCord + vec2(0.0, ${a-r+1} * pixelStrength),`;const u=n[a<r?a:t-a-1].toString();s[a]=`finalColor += textureSample(uTexture, uSampler, offset${a}) * ${u};`}const u=i.join("\n"),l=o.join("\n"),p=s.join("\n"),c="\n\nstruct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct BlurUniforms {\n  uStrength:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;\n\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    %blur-struct%\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n\n  let filteredCord = filterTextureCoord(aPosition);\n\n  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;\n\n  return VSOutput(\n   filterVertexPosition(aPosition),\n    %blur-vertex-out%\n  );\n}\n\n@fragment\nfn mainFragment(\n  @builtin(position) position: vec4<f32>,\n  %blur-fragment-in%\n) -> @location(0) vec4<f32> {\n\n    var   finalColor = vec4(0.0);\n\n    %blur-sampling%\n\n    return finalColor;\n}".replace("%blur-struct%",u).replace("%blur-vertex-out%",l).replace("%blur-fragment-in%",u).replace("%blur-sampling%",p).replace("%dimension%",e?"z":"w");return h.B.from({vertex:{source:c,entryPoint:"mainVertex"},fragment:{source:c,entryPoint:"mainFragment"}})}(t.horizontal,t.kernelSize),resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...t}),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,t,n,o){if(this._uniforms.uStrength=this.strength/this.passes,1===this.passes)e.applyFilter(this,t,n,o);else{const s=r.W.getSameSizeTexture(t);let a=t,u=s;this._state.blend=!1;const l=e.renderer.type===i.W.WEBGPU;for(let t=0;t<this.passes-1;t++){e.applyFilter(this,a,u,0===t||l);const n=u;u=a,a=n}this._state.blend=!0,e.applyFilter(this,a,n,o),r.W.returnTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};p.defaultOptions={strength:8,quality:4,kernelSize:5};let c=p},4376:(e,t,n)=>{var r=n(9084);class i{constructor(e){this._renderer=e}push(e,t,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}i.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"filter"};var o=n(1026),s=n(5638),a=n(5108),u=n(6712),l=n(6524),h=n(8554),p=n(1448),c=n(2672),d=n(3475),v=n(4584),f=n(3375),m=n(8273);const g=new u.V({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class y{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new l.k({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new a.T({}),this.renderer=e}get activeBackTexture(){return this._activeFilterData?.backTexture}push(e){const t=this.renderer,n=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const r=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,0===n.length)return void(r.skip=!0);const i=r.bounds;if(e.renderables?(0,f.L)(e.renderables,i):e.filterEffect.filterArea?(i.clear(),i.addRect(e.filterEffect.filterArea),i.applyMatrix(e.container.worldTransform)):(0,v.v)(e.container,i),e.container){const t=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;t&&i.applyMatrix(t)}const o=t.renderTarget.renderTarget.colorTexture.source;let s=1/0,a=0,u=!0,l=!1,h=!1,c=!0;for(let e=0;e<n.length;e++){const r=n[e];s=Math.min(s,"inherit"===r.resolution?o._resolution:r.resolution),a+=r.padding,"off"===r.antialias?u=!1:"inherit"===r.antialias&&u&&(u=o.antialias),r.clipToViewport||(c=!1);if(!!!(r.compatibleRenderers&t.type)){h=!1;break}if(r.blendRequired&&!(t.backBuffer?.useBackBuffer??1)){(0,m.R)("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),h=!1;break}h=r.enabled||h,l||(l=r.blendRequired)}if(h){if(c){const e=t.renderTarget.rootViewPort,n=t.renderTarget.renderTarget.resolution;i.fitBounds(0,e.width/n,0,e.height/n)}i.scale(s).ceil().scale(1/s).pad(0|a),i.isPositive?(r.skip=!1,r.bounds=i,r.blendRequired=l,r.container=e.container,r.filterEffect=e.filterEffect,r.previousRenderSurface=t.renderTarget.renderSurface,r.inputTexture=p.W.getOptimalTexture(i.width,i.height,s,u),t.renderTarget.bind(r.inputTexture,!0),t.globalUniforms.push({offset:i})):r.skip=!0}else r.skip=!0}pop(){const e=this.renderer;this._filterStackIndex--;const t=this._filterStack[this._filterStackIndex];if(t.skip)return;this._activeFilterData=t;const n=t.inputTexture,r=t.bounds;let i=h.g.EMPTY;if(e.renderTarget.finishRenderPass(),t.blendRequired){const n=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,o=e.renderTarget.getRenderTarget(t.previousRenderSurface);i=this.getBackTexture(o,r,n)}t.backTexture=i;const o=t.filterEffect.filters;if(this._globalFilterBindGroup.setResource(n.source.style,2),this._globalFilterBindGroup.setResource(i.source,3),e.globalUniforms.pop(),1===o.length)o[0].apply(this,n,t.previousRenderSurface,!1),p.W.returnTexture(n);else{let e=t.inputTexture,n=p.W.getOptimalTexture(r.width,r.height,e.source._resolution,!1),i=0;for(i=0;i<o.length-1;++i){o[i].apply(this,e,n,!0);const t=e;e=n,n=t}o[i].apply(this,e,t.previousRenderSurface,!1),p.W.returnTexture(e),p.W.returnTexture(n)}t.blendRequired&&p.W.returnTexture(i)}getBackTexture(e,t,n){const r=e.colorTexture.source._resolution,i=p.W.getOptimalTexture(t.width,t.height,r,!1);let o=t.minX,s=t.minY;n&&(o-=n.minX,s-=n.minY),o=Math.floor(o*r),s=Math.floor(s*r);const a=Math.ceil(t.width*r),u=Math.ceil(t.height*r);return this.renderer.renderTarget.copyToTexture(e,i,{x:o,y:s},{width:a,height:u},{x:0,y:0}),i}applyFilter(e,t,n,r){const i=this.renderer,o=this._filterStack[this._filterStackIndex],a=o.bounds,u=s.b.shared,l=o.previousRenderSurface===n;let p=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,d=this._filterStackIndex-1;for(;d>0&&this._filterStack[d].skip;)--d;d>0&&(p=this._filterStack[d].inputTexture.source._resolution);const v=this._filterGlobalUniforms,f=v.uniforms,m=f.uOutputFrame,y=f.uInputSize,b=f.uInputPixel,T=f.uInputClamp,E=f.uGlobalFrame,P=f.uOutputTexture;if(l){let e=this._filterStackIndex;for(;e>0;){e--;const t=this._filterStack[this._filterStackIndex-1];if(!t.skip){u.x=t.bounds.minX,u.y=t.bounds.minY;break}}m[0]=a.minX-u.x,m[1]=a.minY-u.y}else m[0]=0,m[1]=0;m[2]=t.frame.width,m[3]=t.frame.height,y[0]=t.source.width,y[1]=t.source.height,y[2]=1/y[0],y[3]=1/y[1],b[0]=t.source.pixelWidth,b[1]=t.source.pixelHeight,b[2]=1/b[0],b[3]=1/b[1],T[0]=.5*b[2],T[1]=.5*b[3],T[2]=t.frame.width*y[2]-.5*b[2],T[3]=t.frame.height*y[3]-.5*b[3];const x=this.renderer.renderTarget.rootRenderTarget.colorTexture;E[0]=u.x*p,E[1]=u.y*p,E[2]=x.source.width*p,E[3]=x.source.height*p;const _=this.renderer.renderTarget.getRenderTarget(n);if(i.renderTarget.bind(n,!!r),n instanceof h.g?(P[0]=n.frame.width,P[1]=n.frame.height):(P[0]=_.width,P[1]=_.height),P[2]=_.isRoot?-1:1,v.update(),i.renderPipes.uniformBatch){const e=i.renderPipes.uniformBatch.getUboResource(v);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(v,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,i.encoder.draw({geometry:g,shader:e,state:e._state,topology:"triangle-list"}),i.type===c.W.WEBGL&&i.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new d.c,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,t){const n=this._activeFilterData,r=e.set(n.inputTexture._source.width,0,0,n.inputTexture._source.height,n.bounds.minX,n.bounds.minY),i=t.worldTransform.copyTo(o.u.shared),s=t.renderGroup||t.parentRenderGroup;return s&&s.cacheToLocalTransform&&i.prepend(s.cacheToLocalTransform),i.invert(),r.prepend(i),r.scale(1/t.texture.frame.width,1/t.texture.frame.height),r.translate(t.anchor.x,t.anchor.y),r}}y.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem],name:"filter"},r.XO.add(y),r.XO.add(i)},3685:(e,t,n)=>{n.d(t,{L:()=>h});var r=n(1026),i=n(1368),o=n(4557),s=n(6524),a=n(7273),u=n(5807),l="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n  uInverse:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n};\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n    var uAlpha = filterUniforms.uAlpha;\n\n    var clip = step(3.5,\n      step(maskClamp.x, filterUv.x) +\n      step(maskClamp.y, filterUv.y) +\n      step(filterUv.x, maskClamp.z) +\n      step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\n\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\n\n    if (filterUniforms.uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    return source * a;\n}\n";class h extends u.d{constructor(e){const{sprite:t,...n}=e,u=new a.N(t.texture),h=new s.k({uFilterMatrix:{value:new r.u,type:"mat3x3<f32>"},uMaskClamp:{value:u.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}});super({...n,gpuProgram:o.B.from({vertex:{source:l,entryPoint:"mainVertex"},fragment:{source:l,entryPoint:"mainFragment"}}),glProgram:i.M.from({vertex:"in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n",fragment:"in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\nuniform float uInverse;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha;\n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    float a = alphaMul * masky.r * npmAlpha * clip;\n\n    if (uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    finalColor = original * a;\n}\n",name:"mask-filter"}),resources:{filterUniforms:h,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=u}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return 1===this.resources.filterUniforms.uniforms.uInverse}apply(e,t,n,r){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,n,r)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLi5wbnBtLTliOGM3MDg1LjVhYjAyZmI3ZjgxZDkzZTgzMDFmLmpzIiwibWFwcGluZ3MiOiJ5SEFDQSxNQUFNQSxFQUFlLENBQ25CQyxTQUFVLEtBQ1ZDLFVBQVUsRUFDVkMsa0JBQWtCLEUseUdDcUZwQixNQUFNQyxFQUFlLElBckZyQixNQUNFLFdBQUFDLEdBRUVDLEtBQUtDLHFCQUF1QixHQUM1QkQsS0FBS0UsV0FBYSxFQUNsQkYsS0FBS0csVUFBVyxFQUNoQkgsS0FBS0ksY0FBZSxFQUNwQkosS0FBS0ssY0FBZSxDQUN0QixDQUtBLElBQUFDLENBQUtDLEdBQ0hQLEtBQUtRLHVCQUNMUixLQUFLTyxPQUFTQSxFQUNkUCxLQUFLQyxxQkFBdUIsR0FDNUJELEtBQUtFLFdBQWEsRUFDbEJGLEtBQUtHLFVBQVcsRUFDaEJILEtBQUtJLGNBQWUsRUFDcEJKLEtBQUtLLGNBQWUsQ0FDdEIsQ0FFQSxlQUFJSSxHQUNGLE9BQU9ULEtBQUtLLFlBQ2QsQ0FDQSxlQUFJSSxDQUFZQyxHQUNkVixLQUFLSyxhQUFlSyxDQUN0QixDQUVBLGlCQUFBQyxJQUNNWCxLQUFLSSxjQUFpQkosS0FBS1ksYUFHL0JDLEVBQUEsRUFBT0MsT0FBT0MsSUFBSWYsS0FBS2dCLGNBQWVoQixLQUFNLElBQWdCaUIsYUFDNURqQixLQUFLSSxjQUFlLEVBQ3RCLENBRUEsb0JBQUFJLEdBQ09SLEtBQUtJLGVBR1ZTLEVBQUEsRUFBT0MsT0FBT0ksT0FBT2xCLEtBQUtnQixjQUFlaEIsTUFDekNBLEtBQUtJLGNBQWUsRUFDdEIsQ0FFQSxZQUFBZSxHQUNFbkIsS0FBS0csVUFBVyxDQUNsQixDQUVBLE9BQUFpQixHQUNFLElBQUtwQixLQUFLWSxZQUFjWixLQUFLSyxhQUMzQixPQUVGLEdBQUlMLEtBQUtHLFNBRVAsWUFEQUgsS0FBS0csVUFBVyxHQUdsQixNQUFNa0IsRUFBbUJyQixLQUFLTyxPQUEwQixrQkFDcERQLEtBQUtPLE9BQU9lLHFCQUF3RCxVQUFqQ0QsRUFBaUJFLGFBR3hE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UCxNQUFPLEVBQUd0TSxLQUFNLE9BQzFCbW9CLFNBQVUsQ0FBRTdiLE1BQU9RLEVBQVFzYixRQUFVLEVBQUksRUFBR3BvQixLQUFNLFNBaUJwRGpELE1BQU0sSUFDRHFkLEVBQ0hDLFdBakJpQlMsRUFBQSxFQUFXNVUsS0FBSyxDQUNqQzZVLE9BQVEsQ0FDTkgsT0FBTSxFQUNOSSxXQUFZLGNBRWRDLFNBQVUsQ0FDUkwsT0FBTSxFQUNOSSxXQUFZLGtCQVdkVixVQVJnQlksRUFBQSxFQUFVaFYsS0FBSyxDQUMvQjZVLE9DaENPLG02QkRpQ1BFLFNFakNTLDJ6QkZrQ1Q3SixLQUFNLGdCQU1OZ0ssVUFBVyxDQUNUa0ssaUJBQ0ErQyxhQUFjbEIsRUFBT08sUUFBUTlNLFVBR2pDaGdCLEtBQUt1c0IsT0FBU0EsRUFDZHZzQixLQUFLMHRCLGVBQWlCUixDQUN4QixDQUNBLFdBQUlNLENBQVE5YixHQUNWMVIsS0FBS3dnQixVQUFVa0ssZUFBZTlKLFNBQVMyTSxTQUFXN2IsRUFBUSxFQUFJLENBQ2hFLENBQ0EsV0FBSThiLEdBQ0YsT0FBMkQsSUFBcER4dEIsS0FBS3dnQixVQUFVa0ssZUFBZTlKLFNBQVMyTSxRQUNoRCxDQUNBLEtBQUF2TyxDQUFNQyxFQUFlQyxFQUFPQyxFQUFRQyxHQUNsQ3BmLEtBQUswdEIsZUFBZVosUUFBVTlzQixLQUFLdXNCLE9BQU9PLFFBQzFDN04sRUFBY29OLHNCQUNacnNCLEtBQUt3Z0IsVUFBVWtLLGVBQWU5SixTQUFTd00sY0FDdkNwdEIsS0FBS3VzQixRQUNMSyxRQUFRNXNCLEtBQUswdEIsZUFBZUMsVUFDOUIzdEIsS0FBS3dnQixVQUFVaU4sYUFBZXp0QixLQUFLdXNCLE9BQU9PLFFBQVE5TSxPQUNsRGYsRUFBY0ksWUFBWXJmLEtBQU1rZixFQUFPQyxFQUFRQyxFQUNqRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY3VsbGluZy9jdWxsaW5nTWl4aW4ubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9FdmVudFRpY2tlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0ZlZGVyYXRlZE1vdXNlRXZlbnQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9GZWRlcmF0ZWRXaGVlbEV2ZW50Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRXZlbnRCb3VuZGFyeS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0V2ZW50U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRmVkZXJhdGVkRXZlbnRUYXJnZXQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9lbnZpcm9ubWVudC1icm93c2VyL2Jyb3dzZXJFeHQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2Vudmlyb25tZW50LXdlYndvcmtlci93ZWJ3b3JrZXJFeHQubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2Vudmlyb25tZW50LWJyb3dzZXIvQnJvd3NlckFkYXB0ZXIubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2Vudmlyb25tZW50L2F1dG9EZXRlY3RFbnZpcm9ubWVudC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0ZlZGVyYXRlZEV2ZW50Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlckVmZmVjdC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9hbHBoYS9hbHBoYS53Z3NsLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2RlZmF1bHRzL2FscGhhL0FscGhhRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2RlZmF1bHRzL2RlZmF1bHRGaWx0ZXIudmVydC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9hbHBoYS9hbHBoYS5mcmFnLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2RlZmF1bHRzL2JsdXIvQmx1ckZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9ibHVyL2NvbnN0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2RlZmF1bHRzL2JsdXIvZ2wvZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9ibHVyL2dsL2dlbmVyYXRlQmx1ckdsUHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9ibHVyL2dsL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UubWpzIiwid2VicGFjazovL3BpeGlqcy1nYW1lLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpeGkuanNAOC42LjQvbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZGVmYXVsdHMvYmx1ci9CbHVyRmlsdGVyUGFzcy5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9ibHVyL2dwdS9nZW5lcmF0ZUJsdXJQcm9ncmFtLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2RlZmF1bHRzL2JsdXIvZ3B1L2JsdXItdGVtcGxhdGUud2dzbC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9GaWx0ZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlclN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay53Z3NsLm1qcyIsIndlYnBhY2s6Ly9waXhpanMtZ2FtZS8uL25vZGVfbW9kdWxlcy8ucG5wbS9waXhpLmpzQDguNi40L25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svTWFza0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL21hc2sudmVydC5tanMiLCJ3ZWJwYWNrOi8vcGl4aWpzLWdhbWUvLi9ub2RlX21vZHVsZXMvLnBucG0vcGl4aS5qc0A4LjYuNC9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL21hc2suZnJhZy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjdWxsaW5nTWl4aW4gPSB7XG4gIGN1bGxBcmVhOiBudWxsLFxuICBjdWxsYWJsZTogZmFsc2UsXG4gIGN1bGxhYmxlQ2hpbGRyZW46IHRydWVcbn07XG5cbmV4cG9ydCB7IGN1bGxpbmdNaXhpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3VsbGluZ01peGluLm1qcy5tYXBcbiIsImltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4uL3RpY2tlci9jb25zdC5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEV2ZW50c1RpY2tlckNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIFRoZSBmcmVxdWVuY3kgdGhhdCBmYWtlIGV2ZW50cyB3aWxsIGJlIGZpcmVkLiAqL1xuICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSAxMDtcbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICB0aGlzLl90aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BhdXNlVXBkYXRlID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGV2ZW50IHRpY2tlci5cbiAgICogQHBhcmFtIGV2ZW50cyAtIFRoZSBldmVudCBzeXN0ZW0uXG4gICAqL1xuICBpbml0KGV2ZW50cykge1xuICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gMTA7XG4gICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcbiAgICB0aGlzLl9kaWRNb3ZlID0gZmFsc2U7XG4gICAgdGhpcy5fdGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9wYXVzZVVwZGF0ZSA9IHRydWU7XG4gIH1cbiAgLyoqIFdoZXRoZXIgdG8gcGF1c2UgdGhlIHVwZGF0ZSBjaGVja3Mgb3Igbm90LiAqL1xuICBnZXQgcGF1c2VVcGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhdXNlVXBkYXRlO1xuICB9XG4gIHNldCBwYXVzZVVwZGF0ZShwYXVzZWQpIHtcbiAgICB0aGlzLl9wYXVzZVVwZGF0ZSA9IHBhdXNlZDtcbiAgfVxuICAvKiogQWRkcyB0aGUgdGlja2VyIGxpc3RlbmVyLiAqL1xuICBhZGRUaWNrZXJMaXN0ZW5lcigpIHtcbiAgICBpZiAodGhpcy5fdGlja2VyQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLl90aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG4gICAgdGhpcy5fdGlja2VyQWRkZWQgPSB0cnVlO1xuICB9XG4gIC8qKiBSZW1vdmVzIHRoZSB0aWNrZXIgbGlzdGVuZXIuICovXG4gIHJlbW92ZVRpY2tlckxpc3RlbmVyKCkge1xuICAgIGlmICghdGhpcy5fdGlja2VyQWRkZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy5fdGlja2VyVXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLl90aWNrZXJBZGRlZCA9IGZhbHNlO1xuICB9XG4gIC8qKiBTZXRzIGZsYWcgdG8gbm90IGZpcmUgZXh0cmEgZXZlbnRzIHdoZW4gdGhlIHVzZXIgaGFzIGFscmVhZHkgbW92ZWQgdGhlcmUgbW91c2UgKi9cbiAgcG9pbnRlck1vdmVkKCkge1xuICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuICB9XG4gIC8qKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLiAqL1xuICBfdXBkYXRlKCkge1xuICAgIGlmICghdGhpcy5kb21FbGVtZW50IHx8IHRoaXMuX3BhdXNlVXBkYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9kaWRNb3ZlKSB7XG4gICAgICB0aGlzLl9kaWRNb3ZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvb3RQb2ludGVyRXZlbnQgPSB0aGlzLmV2ZW50c1tcIl9yb290UG9pbnRlckV2ZW50XCJdO1xuICAgIGlmICh0aGlzLmV2ZW50cy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIHJvb3RQb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IFBvaW50ZXJFdmVudChcInBvaW50ZXJtb3ZlXCIsIHtcbiAgICAgIGNsaWVudFg6IHJvb3RQb2ludGVyRXZlbnQuY2xpZW50WCxcbiAgICAgIGNsaWVudFk6IHJvb3RQb2ludGVyRXZlbnQuY2xpZW50WSxcbiAgICAgIHBvaW50ZXJUeXBlOiByb290UG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlLFxuICAgICAgcG9pbnRlcklkOiByb290UG9pbnRlckV2ZW50LnBvaW50ZXJJZFxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cyBpZiBhdCBsZWFzdCB7QGxpbmsgaW50ZXJhY3Rpb25GcmVxdWVuY3l9XG4gICAqIG1pbGxpc2Vjb25kcyBoYXZlIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBpbnZvY2F0aW9uLlxuICAgKlxuICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgVGlja2VyLnN5c3RlbX0uXG4gICAqIEBwYXJhbSB0aWNrZXIgLSBUaGUgdGhyb3R0bGVkIHRpY2tlci5cbiAgICovXG4gIF90aWNrZXJVcGRhdGUodGlja2VyKSB7XG4gICAgdGhpcy5fZGVsdGFUaW1lICs9IHRpY2tlci5kZWx0YVRpbWU7XG4gICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcbiAgICB0aGlzLl91cGRhdGUoKTtcbiAgfVxufVxuY29uc3QgRXZlbnRzVGlja2VyID0gbmV3IEV2ZW50c1RpY2tlckNsYXNzKCk7XG5cbmV4cG9ydCB7IEV2ZW50c1RpY2tlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRUaWNrZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tYXRocy9wb2ludC9Qb2ludC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZEV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmVkZXJhdGVkTW91c2VFdmVudCBleHRlbmRzIEZlZGVyYXRlZEV2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKiogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBldmVudCByZWxhdGl2ZSB0byB0aGUgY2FudmFzLiAqL1xuICAgIHRoaXMuY2xpZW50ID0gbmV3IFBvaW50KCk7XG4gICAgLyoqIFRoZSBtb3ZlbWVudCBpbiB0aGlzIHBvaW50ZXIgcmVsYXRpdmUgdG8gdGhlIGxhc3QgYG1vdXNlbW92ZWAgZXZlbnQuICovXG4gICAgdGhpcy5tb3ZlbWVudCA9IG5ldyBQb2ludCgpO1xuICAgIC8qKiBUaGUgb2Zmc2V0IG9mIHRoZSBwb2ludGVyIGNvb3JkaW5hdGVzIHcuci50LiB0YXJnZXQgQ29udGFpbmVyIGluIHdvcmxkIHNwYWNlLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudC4gKi9cbiAgICB0aGlzLm9mZnNldCA9IG5ldyBQb2ludCgpO1xuICAgIC8qKiBUaGUgcG9pbnRlciBjb29yZGluYXRlcyBpbiB3b3JsZCBzcGFjZS4gKi9cbiAgICB0aGlzLmdsb2JhbCA9IG5ldyBQb2ludCgpO1xuICAgIC8qKlxuICAgICAqIFRoZSBwb2ludGVyIGNvb3JkaW5hdGVzIGluIHRoZSByZW5kZXJlcidzIHtAbGluayBSZW5kZXJlci5zY3JlZW4gc2NyZWVufS4gVGhpcyBoYXMgc2xpZ2h0bHlcbiAgICAgKiBkaWZmZXJlbnQgc2VtYW50aWNzIHRoYW4gbmF0aXZlIFBvaW50ZXJFdmVudCBzY3JlZW5YL3NjcmVlblkuXG4gICAgICovXG4gICAgdGhpcy5zY3JlZW4gPSBuZXcgUG9pbnQoKTtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBjbGllbnRYKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC54O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IGNsaWVudFkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50Lnk7XG4gIH1cbiAgLyoqXG4gICAqIEFsaWFzIGZvciB7QGxpbmsgRmVkZXJhdGVkTW91c2VFdmVudC5jbGllbnRYIHRoaXMuY2xpZW50WH0uXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50WDtcbiAgfVxuICAvKipcbiAgICogQWxpYXMgZm9yIHtAbGluayBGZWRlcmF0ZWRNb3VzZUV2ZW50LmNsaWVudFkgdGhpcy5jbGllbnRZfS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgeSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRZO1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IG1vdmVtZW50WCgpIHtcbiAgICByZXR1cm4gdGhpcy5tb3ZlbWVudC54O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IG1vdmVtZW50WSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb3ZlbWVudC55O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IG9mZnNldFgoKSB7XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0Lng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgb2Zmc2V0WSgpIHtcbiAgICByZXR1cm4gdGhpcy5vZmZzZXQueTtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBnbG9iYWxYKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbC54O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IGdsb2JhbFkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2xvYmFsLnk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBwb2ludGVyIGNvb3JkaW5hdGVzIGluIHRoZSByZW5kZXJlcidzIHNjcmVlbi4gQWxpYXMgZm9yIHtAY29kZSBzY3JlZW4ueH0uXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNjcmVlblgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NyZWVuLng7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBwb2ludGVyIGNvb3JkaW5hdGVzIGluIHRoZSByZW5kZXJlcidzIHNjcmVlbi4gQWxpYXMgZm9yIHtAY29kZSBzY3JlZW4ueX0uXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNjcmVlblkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NyZWVuLnk7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgY29udGFpbmVyIGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgKiBAcGFyYW0ge0NvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgKiAgY29vcmRzIG9mZlxuICAgKiBAcGFyYW0ge1BvaW50RGF0YX0gcG9pbnQgLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgKiBAcGFyYW0ge1BvaW50RGF0YX0gZ2xvYmFsUG9zIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgKiBAcmV0dXJucyAtIEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICAgKiAgdG8gdGhlIENvbnRhaW5lclxuICAgKi9cbiAgZ2V0TG9jYWxQb3NpdGlvbihjb250YWluZXIsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgbW9kaWZpZXIga2V5IHdhcyBwcmVzc2VkIHdoZW4gdGhpcyBldmVudCBuYXRpdmVseSBvY2N1cnJlZC5cbiAgICogQHBhcmFtIGtleSAtIFRoZSBtb2RpZmllciBrZXkuXG4gICAqL1xuICBnZXRNb2RpZmllclN0YXRlKGtleSkge1xuICAgIHJldHVybiBcImdldE1vZGlmaWVyU3RhdGVcIiBpbiB0aGlzLm5hdGl2ZUV2ZW50ICYmIHRoaXMubmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXkpO1xuICB9XG4gIC8qKlxuICAgKiBOb3Qgc3VwcG9ydGVkLlxuICAgKiBAcGFyYW0gX3R5cGVBcmdcbiAgICogQHBhcmFtIF9jYW5CdWJibGVBcmdcbiAgICogQHBhcmFtIF9jYW5jZWxhYmxlQXJnXG4gICAqIEBwYXJhbSBfdmlld0FyZ1xuICAgKiBAcGFyYW0gX2RldGFpbEFyZ1xuICAgKiBAcGFyYW0gX3NjcmVlblhBcmdcbiAgICogQHBhcmFtIF9zY3JlZW5ZQXJnXG4gICAqIEBwYXJhbSBfY2xpZW50WEFyZ1xuICAgKiBAcGFyYW0gX2NsaWVudFlBcmdcbiAgICogQHBhcmFtIF9jdHJsS2V5QXJnXG4gICAqIEBwYXJhbSBfYWx0S2V5QXJnXG4gICAqIEBwYXJhbSBfc2hpZnRLZXlBcmdcbiAgICogQHBhcmFtIF9tZXRhS2V5QXJnXG4gICAqIEBwYXJhbSBfYnV0dG9uQXJnXG4gICAqIEBwYXJhbSBfcmVsYXRlZFRhcmdldEFyZ1xuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA3LjAuMFxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbiAgaW5pdE1vdXNlRXZlbnQoX3R5cGVBcmcsIF9jYW5CdWJibGVBcmcsIF9jYW5jZWxhYmxlQXJnLCBfdmlld0FyZywgX2RldGFpbEFyZywgX3NjcmVlblhBcmcsIF9zY3JlZW5ZQXJnLCBfY2xpZW50WEFyZywgX2NsaWVudFlBcmcsIF9jdHJsS2V5QXJnLCBfYWx0S2V5QXJnLCBfc2hpZnRLZXlBcmcsIF9tZXRhS2V5QXJnLCBfYnV0dG9uQXJnLCBfcmVsYXRlZFRhcmdldEFyZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZlZGVyYXRlZE1vdXNlRXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZE1vdXNlRXZlbnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkTW91c2VFdmVudC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEZlZGVyYXRlZFBvaW50ZXJFdmVudCBleHRlbmRzIEZlZGVyYXRlZE1vdXNlRXZlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNYIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2lzUHJpbWFyeVxuICAgICAqL1xuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gIH1cbiAgLy8gT25seSBpbmNsdWRlZCBmb3IgY29tcGxldGVuZXNzIGZvciBub3dcbiAgZ2V0Q29hbGVzY2VkRXZlbnRzKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09IFwicG9pbnRlcm1vdmVcIiB8fCB0aGlzLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIgfHwgdGhpcy50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgLy8gT25seSBpbmNsdWRlZCBmb3IgY29tcGxldGVuZXNzIGZvciBub3dcbiAgZ2V0UHJlZGljdGVkRXZlbnRzKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImdldFByZWRpY3RlZEV2ZW50cyBpcyBub3Qgc3VwcG9ydGVkIVwiKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmVkZXJhdGVkV2hlZWxFdmVudCBleHRlbmRzIEZlZGVyYXRlZE1vdXNlRXZlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKiBVbml0cyBzcGVjaWZpZWQgaW4gcGl4ZWxzLiAqL1xuICAgIHRoaXMuRE9NX0RFTFRBX1BJWEVMID0gMDtcbiAgICAvKiogVW5pdHMgc3BlY2lmaWVkIGluIGxpbmVzLiAqL1xuICAgIHRoaXMuRE9NX0RFTFRBX0xJTkUgPSAxO1xuICAgIC8qKiBVbml0cyBzcGVjaWZpZWQgaW4gcGFnZXMuICovXG4gICAgdGhpcy5ET01fREVMVEFfUEFHRSA9IDI7XG4gIH1cbn1cbi8qKiBVbml0cyBzcGVjaWZpZWQgaW4gcGl4ZWxzLiAqL1xuRmVkZXJhdGVkV2hlZWxFdmVudC5ET01fREVMVEFfUElYRUwgPSAwO1xuLyoqIFVuaXRzIHNwZWNpZmllZCBpbiBsaW5lcy4gKi9cbkZlZGVyYXRlZFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUgPSAxO1xuLyoqIFVuaXRzIHNwZWNpZmllZCBpbiBwYWdlcy4gKi9cbkZlZGVyYXRlZFdoZWVsRXZlbnQuRE9NX0RFTFRBX1BBR0UgPSAyO1xuXG5leHBvcnQgeyBGZWRlcmF0ZWRXaGVlbEV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRXaGVlbEV2ZW50Lm1qcy5tYXBcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBFdmVudHNUaWNrZXIgfSBmcm9tICcuL0V2ZW50VGlja2VyLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkV2hlZWxFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkV2hlZWxFdmVudC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IFBST1BBR0FUSU9OX0xJTUlUID0gMjA0ODtcbmNvbnN0IHRlbXBIaXRMb2NhdGlvbiA9IG5ldyBQb2ludCgpO1xuY29uc3QgdGVtcExvY2FsTWFwcGluZyA9IG5ldyBQb2ludCgpO1xuY2xhc3MgRXZlbnRCb3VuZGFyeSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gcm9vdFRhcmdldCAtIFRoZSBob2xkZXIgb2YgdGhlIGV2ZW50IGJvdW5kYXJ5LlxuICAgKi9cbiAgY29uc3RydWN0b3Iocm9vdFRhcmdldCkge1xuICAgIC8qKlxuICAgICAqIEVtaXRzIGV2ZW50cyBhZnRlciB0aGV5IHdlcmUgZGlzcGF0Y2hlZCBpbnRvIHRoZSBzY2VuZSBncmFwaC5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGdsb2JhbCBldmVudHMgbGlzdGVuaW5nLCByZWdhcmRsZXNzIG9mIHRoZSBzY2VuZSBncmFwaCBiZWluZyB1c2VkLiBJdCBzaG91bGRcbiAgICAgKiBub3QgYmUgdXNlZCBieSBpbnRlcmFjdGl2ZSBsaWJyYXJpZXMgZm9yIG5vcm1hbCB1c2UuXG4gICAgICpcbiAgICAgKiBTcGVjaWFsIGV2ZW50cyB0aGF0IGRvIG5vdCBidWJibGUgYWxsIHRoZSB3YXkgdG8gdGhlIHJvb3QgdGFyZ2V0IGFyZSBub3QgZW1pdHRlZCBmcm9tIGhlcmUsXG4gICAgICogZS5nLiBwb2ludGVyZW50ZXIsIHBvaW50ZXJsZWF2ZSwgY2xpY2suXG4gICAgICovXG4gICAgdGhpcy5kaXNwYXRjaCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZsYWcgd291bGQgZW1pdCBgcG9pbnRlcm1vdmVgLCBgdG91Y2htb3ZlYCwgYW5kIGBtb3VzZW1vdmVgIGV2ZW50cyBvbiBhbGwgQ29udGFpbmVycy5cbiAgICAgKlxuICAgICAqIFRoZSBgbW92ZU9uQWxsYCBzZW1hbnRpY3MgbWlycm9yIHRob3NlIG9mIGVhcmxpZXIgdmVyc2lvbnMgb2YgUGl4aUpTLiBUaGlzIHdhcyBkaXNhYmxlZCBpbiBmYXZvciBvZlxuICAgICAqIHRoZSBQb2ludGVyIEV2ZW50IEFQSSdzIGFwcHJvYWNoLlxuICAgICAqL1xuICAgIHRoaXMubW92ZU9uQWxsID0gZmFsc2U7XG4gICAgLyoqIEVuYWJsZXMgdGhlIGdsb2JhbCBtb3ZlIGV2ZW50cy4gYGdsb2JhbHBvaW50ZXJtb3ZlYCwgYGdsb2JhbHRvdWNobW92ZWAsIGFuZCBgZ2xvYmFsbW91c2Vtb3ZlYCAqL1xuICAgIHRoaXMuZW5hYmxlR2xvYmFsTW92ZUV2ZW50cyA9IHRydWU7XG4gICAgLyoqXG4gICAgICogU3RhdGUgb2JqZWN0IGZvciBtYXBwaW5nIG1ldGhvZHMuXG4gICAgICogQHNlZSBFdmVudEJvdW5kYXJ5I3RyYWNraW5nRGF0YVxuICAgICAqL1xuICAgIHRoaXMubWFwcGluZ1N0YXRlID0ge1xuICAgICAgdHJhY2tpbmdEYXRhOiB7fVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHBvb2wgbWFwcyBldmVudCBjb25zdHJ1Y3RvcnMgdG8gYW4gZnJlZSBwb29sIG9mIGluc3RhbmNlcyBvZiB0aG9zZSBzcGVjaWZpYyBldmVudHMuXG4gICAgICogQHNlZSBFdmVudEJvdW5kYXJ5I2FsbG9jYXRlRXZlbnRcbiAgICAgKiBAc2VlIEV2ZW50Qm91bmRhcnkjZnJlZUV2ZW50XG4gICAgICovXG4gICAgdGhpcy5ldmVudFBvb2wgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIC8qKiBFdmVyeSBpbnRlcmFjdGl2ZSBlbGVtZW50IGdhdGhlcmVkIGZyb20gdGhlIHNjZW5lLiBPbmx5IHVzZWQgaW4gYHBvaW50ZXJtb3ZlYCAqL1xuICAgIHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMgPSBbXTtcbiAgICAvKiogRXZlcnkgZWxlbWVudCB0aGF0IHBhc3NlZCB0aGUgaGl0IHRlc3QuIE9ubHkgdXNlZCBpbiBgcG9pbnRlcm1vdmVgICovXG4gICAgdGhpcy5faGl0RWxlbWVudHMgPSBbXTtcbiAgICAvKiogV2hldGhlciBvciBub3QgdG8gY29sbGVjdCBhbGwgdGhlIGludGVyYWN0aXZlIGVsZW1lbnRzIGZyb20gdGhlIHNjZW5lLiBFbmFibGVkIGluIGBwb2ludGVybW92ZWAgKi9cbiAgICB0aGlzLl9pc1BvaW50ZXJNb3ZlRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnJvb3RUYXJnZXQgPSByb290VGFyZ2V0O1xuICAgIHRoaXMuaGl0UHJ1bmVGbiA9IHRoaXMuaGl0UHJ1bmVGbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGl0VGVzdEZuID0gdGhpcy5oaXRUZXN0Rm4uYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJEb3duID0gdGhpcy5tYXBQb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlck1vdmUgPSB0aGlzLm1hcFBvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyT3V0ID0gdGhpcy5tYXBQb2ludGVyT3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyT3ZlciA9IHRoaXMubWFwUG9pbnRlck92ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJVcCA9IHRoaXMubWFwUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyVXBPdXRzaWRlID0gdGhpcy5tYXBQb2ludGVyVXBPdXRzaWRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBXaGVlbCA9IHRoaXMubWFwV2hlZWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcHBpbmdUYWJsZSA9IHt9O1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcmRvd25cIiwgdGhpcy5tYXBQb2ludGVyRG93bik7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVybW92ZVwiLCB0aGlzLm1hcFBvaW50ZXJNb3ZlKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJvdXRcIiwgdGhpcy5tYXBQb2ludGVyT3V0KTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJsZWF2ZVwiLCB0aGlzLm1hcFBvaW50ZXJPdXQpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcm92ZXJcIiwgdGhpcy5tYXBQb2ludGVyT3Zlcik7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVydXBcIiwgdGhpcy5tYXBQb2ludGVyVXApO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcnVwb3V0c2lkZVwiLCB0aGlzLm1hcFBvaW50ZXJVcE91dHNpZGUpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwid2hlZWxcIiwgdGhpcy5tYXBXaGVlbCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYW4gZXZlbnQgbWFwcGluZyBmb3IgdGhlIGV2ZW50IGB0eXBlYCBoYW5kbGVkIGJ5IGBmbmAuXG4gICAqXG4gICAqIEV2ZW50IG1hcHBpbmdzIGNhbiBiZSB1c2VkIHRvIGltcGxlbWVudCBhZGRpdGlvbmFsIG9yIGN1c3RvbSBldmVudHMuIFRoZXkgdGFrZSBhbiBldmVudFxuICAgKiBjb21pbmcgZnJvbSB0aGUgdXBzdHJlYW0gc2NlbmUgKG9yIGRpcmVjdGx5IGZyb20gdGhlIHtAbGluayBFdmVudFN5c3RlbX0pIGFuZCBkaXNwYXRjaCBuZXcgZG93bnN0cmVhbSBldmVudHNcbiAgICogZ2VuZXJhbGx5IHRyaWNrbGluZyBkb3duIGFuZCBidWJibGluZyB1cCB0byB7QGxpbmsgRXZlbnRCb3VuZGFyeS5yb290VGFyZ2V0IHRoaXMucm9vdFRhcmdldH0uXG4gICAqXG4gICAqIFRvIG1vZGlmeSB0aGUgc2VtYW50aWNzIG9mIGV4aXN0aW5nIGV2ZW50cywgdGhlIGJ1aWx0LWluIG1hcHBpbmcgbWV0aG9kcyBvZiBFdmVudEJvdW5kYXJ5IHNob3VsZCBiZSBvdmVycmlkZGVuXG4gICAqIGluc3RlYWQuXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIHR5cGUgb2YgdXBzdHJlYW0gZXZlbnQgdG8gbWFwLlxuICAgKiBAcGFyYW0gZm4gLSBUaGUgbWFwcGluZyBtZXRob2QuIFRoZSBjb250ZXh0IG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBib3VuZCBtYW51YWxseSwgaWYgZGVzaXJlZC5cbiAgICovXG4gIGFkZEV2ZW50TWFwcGluZyh0eXBlLCBmbikge1xuICAgIGlmICghdGhpcy5tYXBwaW5nVGFibGVbdHlwZV0pIHtcbiAgICAgIHRoaXMubWFwcGluZ1RhYmxlW3R5cGVdID0gW107XG4gICAgfVxuICAgIHRoaXMubWFwcGluZ1RhYmxlW3R5cGVdLnB1c2goe1xuICAgICAgZm4sXG4gICAgICBwcmlvcml0eTogMFxuICAgIH0pO1xuICAgIHRoaXMubWFwcGluZ1RhYmxlW3R5cGVdLnNvcnQoKGEsIGIpID0+IGEucHJpb3JpdHkgLSBiLnByaW9yaXR5KTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyB0aGUgZ2l2ZW4gZXZlbnRcbiAgICogQHBhcmFtIGUgLSBUaGUgZXZlbnQgdG8gZGlzcGF0Y2guXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIHR5cGUgb2YgZXZlbnQgdG8gZGlzcGF0Y2guIERlZmF1bHRzIHRvIGBlLnR5cGVgLlxuICAgKi9cbiAgZGlzcGF0Y2hFdmVudChlLCB0eXBlKSB7XG4gICAgZS5wcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZTtcbiAgICBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wYWdhdGUoZSwgdHlwZSk7XG4gICAgdGhpcy5kaXNwYXRjaC5lbWl0KHR5cGUgfHwgZS50eXBlLCBlKTtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgZ2l2ZW4gdXBzdHJlYW0gZXZlbnQgdGhyb3VnaCB0aGUgZXZlbnQgYm91bmRhcnkgYW5kIHByb3BhZ2F0ZXMgaXQgZG93bnN0cmVhbS5cbiAgICogQHBhcmFtIGUgLSBUaGUgZXZlbnQgdG8gbWFwLlxuICAgKi9cbiAgbWFwRXZlbnQoZSkge1xuICAgIGlmICghdGhpcy5yb290VGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1hcHBlcnMgPSB0aGlzLm1hcHBpbmdUYWJsZVtlLnR5cGVdO1xuICAgIGlmIChtYXBwZXJzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1hcHBlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIG1hcHBlcnNbaV0uZm4oZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oYFtFdmVudEJvdW5kYXJ5XTogRXZlbnQgbWFwcGluZyBub3QgZGVmaW5lZCBmb3IgJHtlLnR5cGV9YCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgQ29udGFpbmVyIHRoYXQgaXMgdGhlIHRhcmdldCBvZiBhIGV2ZW50IGF0IHRoZSBnaXZlbiBjb29yZGluYXRlcy5cbiAgICpcbiAgICogVGhlIHBhc3NlZCAoeCx5KSBjb29yZGluYXRlcyBhcmUgaW4gdGhlIHdvcmxkIHNwYWNlIGFib3ZlIHRoaXMgZXZlbnQgYm91bmRhcnkuXG4gICAqIEBwYXJhbSB4IC0gVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB5IC0gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgZXZlbnQuXG4gICAqL1xuICBoaXRUZXN0KHgsIHkpIHtcbiAgICBFdmVudHNUaWNrZXIucGF1c2VVcGRhdGUgPSB0cnVlO1xuICAgIGNvbnN0IHVzZU1vdmUgPSB0aGlzLl9pc1BvaW50ZXJNb3ZlRXZlbnQgJiYgdGhpcy5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzO1xuICAgIGNvbnN0IGZuID0gdXNlTW92ZSA/IFwiaGl0VGVzdE1vdmVSZWN1cnNpdmVcIiA6IFwiaGl0VGVzdFJlY3Vyc2l2ZVwiO1xuICAgIGNvbnN0IGludmVydGVkUGF0aCA9IHRoaXNbZm5dKFxuICAgICAgdGhpcy5yb290VGFyZ2V0LFxuICAgICAgdGhpcy5yb290VGFyZ2V0LmV2ZW50TW9kZSxcbiAgICAgIHRlbXBIaXRMb2NhdGlvbi5zZXQoeCwgeSksXG4gICAgICB0aGlzLmhpdFRlc3RGbixcbiAgICAgIHRoaXMuaGl0UHJ1bmVGblxuICAgICk7XG4gICAgcmV0dXJuIGludmVydGVkUGF0aCAmJiBpbnZlcnRlZFBhdGhbMF07XG4gIH1cbiAgLyoqXG4gICAqIFByb3BhZ2F0ZSB0aGUgcGFzc2VkIGV2ZW50IGZyb20gZnJvbSB7QGxpbmsgRXZlbnRCb3VuZGFyeS5yb290VGFyZ2V0IHRoaXMucm9vdFRhcmdldH0gdG8gaXRzXG4gICAqIHRhcmdldCB7QGNvZGUgZS50YXJnZXR9LlxuICAgKiBAcGFyYW0gZSAtIFRoZSBldmVudCB0byBwcm9wYWdhdGUuXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIHR5cGUgb2YgZXZlbnQgdG8gcHJvcGFnYXRlLiBEZWZhdWx0cyB0byBgZS50eXBlYC5cbiAgICovXG4gIHByb3BhZ2F0ZShlLCB0eXBlKSB7XG4gICAgaWYgKCFlLnRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wb3NlZFBhdGggPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIGUuZXZlbnRQaGFzZSA9IGUuQ0FQVFVSSU5HX1BIQVNFO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gY29tcG9zZWRQYXRoLmxlbmd0aCAtIDE7IGkgPCBqOyBpKyspIHtcbiAgICAgIGUuY3VycmVudFRhcmdldCA9IGNvbXBvc2VkUGF0aFtpXTtcbiAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIHR5cGUpO1xuICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkIHx8IGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQpXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5ldmVudFBoYXNlID0gZS5BVF9UQVJHRVQ7XG4gICAgZS5jdXJyZW50VGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgdHlwZSk7XG4gICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkIHx8IGUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQpXG4gICAgICByZXR1cm47XG4gICAgZS5ldmVudFBoYXNlID0gZS5CVUJCTElOR19QSEFTRTtcbiAgICBmb3IgKGxldCBpID0gY29tcG9zZWRQYXRoLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQgPSBjb21wb3NlZFBhdGhbaV07XG4gICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCB0eXBlKTtcbiAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCB8fCBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkKVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbWl0cyB0aGUgZXZlbnQge0Bjb2RlIGV9IHRvIGFsbCBpbnRlcmFjdGl2ZSBjb250YWluZXJzLiBUaGUgZXZlbnQgaXMgcHJvcGFnYXRlZCBpbiB0aGUgYnViYmxpbmcgcGhhc2UgYWx3YXlzLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWQgaW4gdGhlIGBnbG9iYWxwb2ludGVybW92ZWAgZXZlbnQuXG4gICAqIEBwYXJhbSBlIC0gVGhlIGVtaXR0ZWQgZXZlbnQuXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIGxpc3RlbmVycyB0byBub3RpZnkuXG4gICAqIEBwYXJhbSB0YXJnZXRzIC0gVGhlIHRhcmdldHMgdG8gbm90aWZ5LlxuICAgKi9cbiAgYWxsKGUsIHR5cGUsIHRhcmdldHMgPSB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzKSB7XG4gICAgaWYgKHRhcmdldHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIGUuZXZlbnRQaGFzZSA9IGUuQlVCQkxJTkdfUEhBU0U7XG4gICAgY29uc3QgZXZlbnRzID0gQXJyYXkuaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgZm9yIChsZXQgaSA9IHRhcmdldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQgPSB0YXJnZXRzW2ldO1xuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBldmVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBwcm9wYWdhdGlvbiBwYXRoIGZyb20ge0BsaW5rIEV2ZW50Qm91bmRhcnkucm9vdFRhcmdldCByb290VGFyZ2V0fSB0byB0aGUgcGFzc2VkXG4gICAqIHtAY29kZSB0YXJnZXR9LiBUaGUgbGFzdCBlbGVtZW50IGluIHRoZSBwYXRoIGlzIHtAY29kZSB0YXJnZXR9LlxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIHRhcmdldCB0byBmaW5kIHRoZSBwcm9wYWdhdGlvbiBwYXRoIHRvLlxuICAgKi9cbiAgcHJvcGFnYXRpb25QYXRoKHRhcmdldCkge1xuICAgIGNvbnN0IHByb3BhZ2F0aW9uUGF0aCA9IFt0YXJnZXRdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUFJPUEFHQVRJT05fTElNSVQgJiYgKHRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0ICYmIHRhcmdldC5wYXJlbnQpOyBpKyspIHtcbiAgICAgIGlmICghdGFyZ2V0LnBhcmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBwcm9wYWdhdGlvbiBwYXRoIHRvIGRpc2Nvbm5lY3RlZCB0YXJnZXRcIik7XG4gICAgICB9XG4gICAgICBwcm9wYWdhdGlvblBhdGgucHVzaCh0YXJnZXQucGFyZW50KTtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnQ7XG4gICAgfVxuICAgIHByb3BhZ2F0aW9uUGF0aC5yZXZlcnNlKCk7XG4gICAgcmV0dXJuIHByb3BhZ2F0aW9uUGF0aDtcbiAgfVxuICBoaXRUZXN0TW92ZVJlY3Vyc2l2ZShjdXJyZW50VGFyZ2V0LCBldmVudE1vZGUsIGxvY2F0aW9uLCB0ZXN0Rm4sIHBydW5lRm4sIGlnbm9yZSA9IGZhbHNlKSB7XG4gICAgbGV0IHNob3VsZFJldHVybiA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9pbnRlcmFjdGl2ZVBydW5lKGN1cnJlbnRUYXJnZXQpKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGN1cnJlbnRUYXJnZXQuZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIiB8fCBldmVudE1vZGUgPT09IFwiZHluYW1pY1wiKSB7XG4gICAgICBFdmVudHNUaWNrZXIucGF1c2VVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRUYXJnZXQuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBjdXJyZW50VGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGN1cnJlbnRUYXJnZXQuY2hpbGRyZW47XG4gICAgICBmb3IgKGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgY29uc3QgbmVzdGVkSGl0ID0gdGhpcy5oaXRUZXN0TW92ZVJlY3Vyc2l2ZShcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICB0aGlzLl9pc0ludGVyYWN0aXZlKGV2ZW50TW9kZSkgPyBldmVudE1vZGUgOiBjaGlsZC5ldmVudE1vZGUsXG4gICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgdGVzdEZuLFxuICAgICAgICAgIHBydW5lRm4sXG4gICAgICAgICAgaWdub3JlIHx8IHBydW5lRm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pXG4gICAgICAgICk7XG4gICAgICAgIGlmIChuZXN0ZWRIaXQpIHtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgJiYgIW5lc3RlZEhpdFtuZXN0ZWRIaXQubGVuZ3RoIC0gMV0ucGFyZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXNJbnRlcmFjdGl2ZSA9IGN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgIGlmIChuZXN0ZWRIaXQubGVuZ3RoID4gMCB8fCBpc0ludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgbmVzdGVkSGl0LnB1c2goY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLl9oaXRFbGVtZW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aGlzLl9oaXRFbGVtZW50cyA9IG5lc3RlZEhpdDtcbiAgICAgICAgICBzaG91bGRSZXR1cm4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmVNb2RlID0gdGhpcy5faXNJbnRlcmFjdGl2ZShldmVudE1vZGUpO1xuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmVUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKTtcbiAgICBpZiAoaXNJbnRlcmFjdGl2ZVRhcmdldCAmJiBpc0ludGVyYWN0aXZlVGFyZ2V0KVxuICAgICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgIGlmIChpZ25vcmUgfHwgdGhpcy5faGl0RWxlbWVudHMubGVuZ3RoID4gMClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChzaG91bGRSZXR1cm4pXG4gICAgICByZXR1cm4gdGhpcy5faGl0RWxlbWVudHM7XG4gICAgaWYgKGlzSW50ZXJhY3RpdmVNb2RlICYmICghcHJ1bmVGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikgJiYgdGVzdEZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKSkpIHtcbiAgICAgIHJldHVybiBpc0ludGVyYWN0aXZlVGFyZ2V0ID8gW2N1cnJlbnRUYXJnZXRdIDogW107XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZWN1cnNpdmUgaW1wbGVtZW50YXRpb24gZm9yIHtAbGluayBFdmVudEJvdW5kYXJ5LmhpdFRlc3QgaGl0VGVzdH0uXG4gICAqIEBwYXJhbSBjdXJyZW50VGFyZ2V0IC0gVGhlIENvbnRhaW5lciB0aGF0IGlzIHRvIGJlIGhpdCB0ZXN0ZWQuXG4gICAqIEBwYXJhbSBldmVudE1vZGUgLSBUaGUgZXZlbnQgbW9kZSBmb3IgdGhlIGBjdXJyZW50VGFyZ2V0YCBvciBvbmUgb2YgaXRzIHBhcmVudHMuXG4gICAqIEBwYXJhbSBsb2NhdGlvbiAtIFRoZSBsb2NhdGlvbiB0aGF0IGlzIGJlaW5nIHRlc3RlZCBmb3Igb3ZlcmxhcC5cbiAgICogQHBhcmFtIHRlc3RGbiAtIENhbGxiYWNrIHRoYXQgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSB0YXJnZXQgcGFzc2VzIGhpdCB0ZXN0aW5nLiBUaGlzIGNhbGxiYWNrXG4gICAqICBjYW4gYXNzdW1lIHRoYXQgYHBydW5lRm5gIGZhaWxlZCB0byBwcnVuZSB0aGUgY29udGFpbmVyLlxuICAgKiBAcGFyYW0gcHJ1bmVGbiAtIENhbGxiYWNrIHRoYXQgZGV0ZXJtaW5lc3Mgd2hldGhlciB0aGUgdGFyZ2V0IGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuXG4gICAqICBjYW5ub3QgcGFzcyB0aGUgaGl0IHRlc3QuIEl0IGlzIHVzZWQgYXMgYSBwcmVsaW1pbmFyeSBvcHRpbWl6YXRpb24gdG8gcHJ1bmUgZW50aXJlIHN1YnRyZWVzXG4gICAqICBvZiB0aGUgc2NlbmUgZ3JhcGguXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IGhvbGRpbmcgdGhlIGhpdCB0ZXN0aW5nIHRhcmdldCBhbmQgYWxsIGl0cyBhbmNlc3RvcnMgaW4gb3JkZXIuIFRoZSBmaXJzdCBlbGVtZW50XG4gICAqICBpcyB0aGUgdGFyZ2V0IGl0c2VsZiBhbmQgdGhlIGxhc3QgaXMge0BsaW5rIEV2ZW50Qm91bmRhcnkucm9vdFRhcmdldCByb290VGFyZ2V0fS4gVGhpcyBpcyB0aGUgb3Bwb3NpdGVcbiAgICogIG9yZGVyIHcuci50LiB0aGUgcHJvcGFnYXRpb24gcGF0aC4gSWYgbm8gaGl0IHRlc3RpbmcgdGFyZ2V0IGlzIGZvdW5kLCBudWxsIGlzIHJldHVybmVkLlxuICAgKi9cbiAgaGl0VGVzdFJlY3Vyc2l2ZShjdXJyZW50VGFyZ2V0LCBldmVudE1vZGUsIGxvY2F0aW9uLCB0ZXN0Rm4sIHBydW5lRm4pIHtcbiAgICBpZiAodGhpcy5faW50ZXJhY3RpdmVQcnVuZShjdXJyZW50VGFyZ2V0KSB8fCBwcnVuZUZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFyZ2V0LmV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIgfHwgZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIikge1xuICAgICAgRXZlbnRzVGlja2VyLnBhdXNlVXBkYXRlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFyZ2V0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgY3VycmVudFRhcmdldC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBjdXJyZW50VGFyZ2V0LmNoaWxkcmVuO1xuICAgICAgY29uc3QgcmVsYXRpdmVMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGNvbnN0IG5lc3RlZEhpdCA9IHRoaXMuaGl0VGVzdFJlY3Vyc2l2ZShcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICB0aGlzLl9pc0ludGVyYWN0aXZlKGV2ZW50TW9kZSkgPyBldmVudE1vZGUgOiBjaGlsZC5ldmVudE1vZGUsXG4gICAgICAgICAgcmVsYXRpdmVMb2NhdGlvbixcbiAgICAgICAgICB0ZXN0Rm4sXG4gICAgICAgICAgcHJ1bmVGblxuICAgICAgICApO1xuICAgICAgICBpZiAobmVzdGVkSGl0KSB7XG4gICAgICAgICAgaWYgKG5lc3RlZEhpdC5sZW5ndGggPiAwICYmICFuZXN0ZWRIaXRbbmVzdGVkSGl0Lmxlbmd0aCAtIDFdLnBhcmVudCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBjdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKTtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgfHwgaXNJbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIG5lc3RlZEhpdC5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIHJldHVybiBuZXN0ZWRIaXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZU1vZGUgPSB0aGlzLl9pc0ludGVyYWN0aXZlKGV2ZW50TW9kZSk7XG4gICAgY29uc3QgaXNJbnRlcmFjdGl2ZVRhcmdldCA9IGN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpO1xuICAgIGlmIChpc0ludGVyYWN0aXZlTW9kZSAmJiB0ZXN0Rm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pKSB7XG4gICAgICByZXR1cm4gaXNJbnRlcmFjdGl2ZVRhcmdldCA/IFtjdXJyZW50VGFyZ2V0XSA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBfaXNJbnRlcmFjdGl2ZShpbnQpIHtcbiAgICByZXR1cm4gaW50ID09PSBcInN0YXRpY1wiIHx8IGludCA9PT0gXCJkeW5hbWljXCI7XG4gIH1cbiAgX2ludGVyYWN0aXZlUHJ1bmUoY29udGFpbmVyKSB7XG4gICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci52aXNpYmxlIHx8ICFjb250YWluZXIucmVuZGVyYWJsZSB8fCAhY29udGFpbmVyLm1lYXN1cmFibGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLmV2ZW50TW9kZSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLmV2ZW50TW9kZSA9PT0gXCJwYXNzaXZlXCIgJiYgIWNvbnRhaW5lci5pbnRlcmFjdGl2ZUNoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgY29udGFpbmVyIG9yIGFueSBvZiBpdHMgY2hpbGRyZW4gY2Fubm90IHBhc3MgdGhlIGhpdCB0ZXN0IGF0IGFsbC5cbiAgICpcbiAgICoge0BsaW5rIEV2ZW50Qm91bmRhcnl9J3MgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUge0BsaW5rIENvbnRhaW5lci5oaXRBcmVhIGhpdEFyZWF9XG4gICAqIGFuZCB7QGxpbmsgQ29udGFpbmVyLl9tYXNrRWZmZWN0fSBmb3IgcHJ1bmluZy5cbiAgICogQHBhcmFtIGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcHJ1bmUuXG4gICAqIEBwYXJhbSBsb2NhdGlvbiAtIFRoZSBsb2NhdGlvbiB0byB0ZXN0IGZvciBvdmVybGFwLlxuICAgKi9cbiAgaGl0UHJ1bmVGbihjb250YWluZXIsIGxvY2F0aW9uKSB7XG4gICAgaWYgKGNvbnRhaW5lci5oaXRBcmVhKSB7XG4gICAgICBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGxvY2F0aW9uLCB0ZW1wTG9jYWxNYXBwaW5nKTtcbiAgICAgIGlmICghY29udGFpbmVyLmhpdEFyZWEuY29udGFpbnModGVtcExvY2FsTWFwcGluZy54LCB0ZW1wTG9jYWxNYXBwaW5nLnkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLmVmZmVjdHMgJiYgY29udGFpbmVyLmVmZmVjdHMubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5lZmZlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IGNvbnRhaW5lci5lZmZlY3RzW2ldO1xuICAgICAgICBpZiAoZWZmZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICBjb25zdCBlZmZlY3RDb250YWluc1BvaW50ID0gZWZmZWN0LmNvbnRhaW5zUG9pbnQobG9jYXRpb24sIHRoaXMuaGl0VGVzdEZuKTtcbiAgICAgICAgICBpZiAoIWVmZmVjdENvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSBjb250YWluZXIgcGFzc2VzIGhpdCB0ZXN0aW5nIGZvciB0aGUgZ2l2ZW4gbG9jYXRpb24uXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHRlc3QuXG4gICAqIEBwYXJhbSBsb2NhdGlvbiAtIFRoZSBsb2NhdGlvbiB0byB0ZXN0IGZvciBvdmVybGFwLlxuICAgKiBAcmV0dXJucyAtIFdoZXRoZXIgYGNvbnRhaW5lcmAgcGFzc2VzIGhpdCB0ZXN0aW5nIGZvciBgbG9jYXRpb25gLlxuICAgKi9cbiAgaGl0VGVzdEZuKGNvbnRhaW5lciwgbG9jYXRpb24pIHtcbiAgICBpZiAoY29udGFpbmVyLmhpdEFyZWEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyPy5jb250YWluc1BvaW50KSB7XG4gICAgICBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGxvY2F0aW9uLCB0ZW1wTG9jYWxNYXBwaW5nKTtcbiAgICAgIHJldHVybiBjb250YWluZXIuY29udGFpbnNQb2ludCh0ZW1wTG9jYWxNYXBwaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBOb3RpZnkgYWxsIHRoZSBsaXN0ZW5lcnMgdG8gdGhlIGV2ZW50J3MgYGN1cnJlbnRUYXJnZXRgLlxuICAgKlxuICAgKiBJZiB0aGUgYGN1cnJlbnRUYXJnZXRgIGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgb248dHlwZT5gLCB0aGVuIGl0IGlzIGNhbGxlZCBoZXJlLFxuICAgKiBzaW11bGF0aW5nIHRoZSBiZWhhdmlvciBmcm9tIHZlcnNpb24gNi54IGFuZCBwcmlvci5cbiAgICogQHBhcmFtIGUgLSBUaGUgZXZlbnQgcGFzc2VkIHRvIHRoZSB0YXJnZXQuXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIHR5cGUgb2YgZXZlbnQgdG8gbm90aWZ5LiBEZWZhdWx0cyB0byBgZS50eXBlYC5cbiAgICovXG4gIG5vdGlmeVRhcmdldChlLCB0eXBlKSB7XG4gICAgaWYgKCFlLmN1cnJlbnRUYXJnZXQuaXNJbnRlcmFjdGl2ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHR5cGUgPz8gKHR5cGUgPSBlLnR5cGUpO1xuICAgIGNvbnN0IGhhbmRsZXJLZXkgPSBgb24ke3R5cGV9YDtcbiAgICBlLmN1cnJlbnRUYXJnZXRbaGFuZGxlcktleV0/LihlKTtcbiAgICBjb25zdCBrZXkgPSBlLmV2ZW50UGhhc2UgPT09IGUuQ0FQVFVSSU5HX1BIQVNFIHx8IGUuZXZlbnRQaGFzZSA9PT0gZS5BVF9UQVJHRVQgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICB0aGlzLl9ub3RpZnlMaXN0ZW5lcnMoZSwga2V5KTtcbiAgICBpZiAoZS5ldmVudFBoYXNlID09PSBlLkFUX1RBUkdFVCkge1xuICAgICAgdGhpcy5fbm90aWZ5TGlzdGVuZXJzKGUsIHR5cGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHBvaW50ZXJkb3duYCBldmVudHMgdG8gYSBkb3duc3RyZWFtIGBwb2ludGVyZG93bmAgZXZlbnQuXG4gICAqXG4gICAqIGB0b3VjaHN0YXJ0YCwgYHJpZ2h0ZG93bmAsIGBtb3VzZWRvd25gIGV2ZW50cyBhcmUgYWxzbyBkaXNwYXRjaGVkIGZvciBzcGVjaWZpYyBwb2ludGVyIHR5cGVzLlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgcG9pbnRlcmRvd25gIGV2ZW50LlxuICAgKi9cbiAgbWFwUG9pbnRlckRvd24oZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwicG9pbnRlcmRvd25cIik7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwidG91Y2hzdGFydFwiKTtcbiAgICB9IGVsc2UgaWYgKGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiKSB7XG4gICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZS5idXR0b24gPT09IDI7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHRkb3duXCIgOiBcIm1vdXNlZG93blwiKTtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl0gPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgcG9pbnRlcm1vdmVgIHRvIGRvd25zdHJlYW0gYHBvaW50ZXJvdXRgLCBgcG9pbnRlcm92ZXJgLCBhbmQgYHBvaW50ZXJtb3ZlYCBldmVudHMsIGluIHRoYXQgb3JkZXIuXG4gICAqXG4gICAqIFRoZSB0cmFja2luZyBkYXRhIGZvciB0aGUgc3BlY2lmaWMgcG9pbnRlciBoYXMgYW4gdXBkYXRlZCBgb3ZlclRhcmdldGAuIGBtb3VzZW91dGAsIGBtb3VzZW92ZXJgLFxuICAgKiBgbW91c2Vtb3ZlYCwgYW5kIGB0b3VjaG1vdmVgIGV2ZW50cyBhcmUgZmlyZWQgYXMgd2VsbCBmb3Igc3BlY2lmaWMgcG9pbnRlciB0eXBlcy5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHBvaW50ZXJtb3ZlYCBldmVudC5cbiAgICovXG4gIG1hcFBvaW50ZXJNb3ZlKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2hpdEVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5faXNQb2ludGVyTW92ZUV2ZW50ID0gdHJ1ZTtcbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5faXNQb2ludGVyTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgY29uc3QgaXNNb3VzZSA9IGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBjb25zdCBvdXRUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cyk7XG4gICAgaWYgKHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cz8ubGVuZ3RoID4gMCAmJiBvdXRUYXJnZXQgIT09IGUudGFyZ2V0KSB7XG4gICAgICBjb25zdCBvdXRUeXBlID0gZnJvbS50eXBlID09PSBcIm1vdXNlbW92ZVwiID8gXCJtb3VzZW91dFwiIDogXCJwb2ludGVyb3V0XCI7XG4gICAgICBjb25zdCBvdXRFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIG91dFR5cGUsIG91dFRhcmdldCk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwicG9pbnRlcm91dFwiKTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQsIFwibW91c2VvdXRcIik7XG4gICAgICBpZiAoIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMob3V0VGFyZ2V0KSkge1xuICAgICAgICBjb25zdCBsZWF2ZUV2ZW50ID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgXCJwb2ludGVybGVhdmVcIiwgb3V0VGFyZ2V0KTtcbiAgICAgICAgbGVhdmVFdmVudC5ldmVudFBoYXNlID0gbGVhdmVFdmVudC5BVF9UQVJHRVQ7XG4gICAgICAgIHdoaWxlIChsZWF2ZUV2ZW50LnRhcmdldCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhsZWF2ZUV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBsZWF2ZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldDtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChsZWF2ZUV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQsIFwibW91c2VsZWF2ZVwiKTtcbiAgICAgICAgICBsZWF2ZUV2ZW50LnRhcmdldCA9IGxlYXZlRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWVFdmVudChsZWF2ZUV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJlZUV2ZW50KG91dEV2ZW50KTtcbiAgICB9XG4gICAgaWYgKG91dFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgIGNvbnN0IG92ZXJUeXBlID0gZnJvbS50eXBlID09PSBcIm1vdXNlbW92ZVwiID8gXCJtb3VzZW92ZXJcIiA6IFwicG9pbnRlcm92ZXJcIjtcbiAgICAgIGNvbnN0IG92ZXJFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgb3ZlclR5cGUpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG92ZXJFdmVudCwgXCJwb2ludGVyb3ZlclwiKTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3ZlckV2ZW50LCBcIm1vdXNlb3ZlclwiKTtcbiAgICAgIGxldCBvdmVyVGFyZ2V0QW5jZXN0b3IgPSBvdXRUYXJnZXQ/LnBhcmVudDtcbiAgICAgIHdoaWxlIChvdmVyVGFyZ2V0QW5jZXN0b3IgJiYgb3ZlclRhcmdldEFuY2VzdG9yICE9PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50KSB7XG4gICAgICAgIGlmIChvdmVyVGFyZ2V0QW5jZXN0b3IgPT09IGUudGFyZ2V0KVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBvdmVyVGFyZ2V0QW5jZXN0b3IgPSBvdmVyVGFyZ2V0QW5jZXN0b3IucGFyZW50O1xuICAgICAgfVxuICAgICAgY29uc3QgZGlkUG9pbnRlckVudGVyID0gIW92ZXJUYXJnZXRBbmNlc3RvciB8fCBvdmVyVGFyZ2V0QW5jZXN0b3IgPT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQ7XG4gICAgICBpZiAoZGlkUG9pbnRlckVudGVyKSB7XG4gICAgICAgIGNvbnN0IGVudGVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwicG9pbnRlcmVudGVyXCIpO1xuICAgICAgICBlbnRlckV2ZW50LmV2ZW50UGhhc2UgPSBlbnRlckV2ZW50LkFUX1RBUkdFVDtcbiAgICAgICAgd2hpbGUgKGVudGVyRXZlbnQudGFyZ2V0ICYmIGVudGVyRXZlbnQudGFyZ2V0ICE9PSBvdXRUYXJnZXQgJiYgZW50ZXJFdmVudC50YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgICBlbnRlckV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbnRlckV2ZW50LnRhcmdldDtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGVudGVyRXZlbnQsIFwibW91c2VlbnRlclwiKTtcbiAgICAgICAgICBlbnRlckV2ZW50LnRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWVFdmVudChlbnRlckV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZnJlZUV2ZW50KG92ZXJFdmVudCk7XG4gICAgfVxuICAgIGNvbnN0IGFsbE1ldGhvZHMgPSBbXTtcbiAgICBjb25zdCBhbGxvd0dsb2JhbFBvaW50ZXJFdmVudHMgPSB0aGlzLmVuYWJsZUdsb2JhbE1vdmVFdmVudHMgPz8gdHJ1ZTtcbiAgICB0aGlzLm1vdmVPbkFsbCA/IGFsbE1ldGhvZHMucHVzaChcInBvaW50ZXJtb3ZlXCIpIDogdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwicG9pbnRlcm1vdmVcIik7XG4gICAgYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzICYmIGFsbE1ldGhvZHMucHVzaChcImdsb2JhbHBvaW50ZXJtb3ZlXCIpO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgIHRoaXMubW92ZU9uQWxsID8gYWxsTWV0aG9kcy5zcGxpY2UoMSwgMCwgXCJ0b3VjaG1vdmVcIikgOiB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJ0b3VjaG1vdmVcIik7XG4gICAgICBhbGxvd0dsb2JhbFBvaW50ZXJFdmVudHMgJiYgYWxsTWV0aG9kcy5wdXNoKFwiZ2xvYmFsdG91Y2htb3ZlXCIpO1xuICAgIH1cbiAgICBpZiAoaXNNb3VzZSkge1xuICAgICAgdGhpcy5tb3ZlT25BbGwgPyBhbGxNZXRob2RzLnNwbGljZSgxLCAwLCBcIm1vdXNlbW92ZVwiKSA6IHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcIm1vdXNlbW92ZVwiKTtcbiAgICAgIGFsbG93R2xvYmFsUG9pbnRlckV2ZW50cyAmJiBhbGxNZXRob2RzLnB1c2goXCJnbG9iYWxtb3VzZW1vdmVcIik7XG4gICAgICB0aGlzLmN1cnNvciA9IGUudGFyZ2V0Py5jdXJzb3I7XG4gICAgfVxuICAgIGlmIChhbGxNZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuYWxsKGUsIGFsbE1ldGhvZHMpO1xuICAgIH1cbiAgICB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5faGl0RWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgcG9pbnRlcm92ZXJgIHRvIGRvd25zdHJlYW0gYHBvaW50ZXJvdmVyYCBhbmQgYHBvaW50ZXJlbnRlcmAgZXZlbnRzLCBpbiB0aGF0IG9yZGVyLlxuICAgKlxuICAgKiBUaGUgdHJhY2tpbmcgZGF0YSBmb3IgdGhlIHNwZWNpZmljIHBvaW50ZXIgZ2V0cyBhIG5ldyBgb3ZlclRhcmdldGAuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGBwb2ludGVyb3ZlcmAgZXZlbnQuXG4gICAqL1xuICBtYXBQb2ludGVyT3Zlcihmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgY29uc3QgaXNNb3VzZSA9IGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInBvaW50ZXJvdmVyXCIpO1xuICAgIGlmIChpc01vdXNlKVxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwibW91c2VvdmVyXCIpO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpXG4gICAgICB0aGlzLmN1cnNvciA9IGUudGFyZ2V0Py5jdXJzb3I7XG4gICAgY29uc3QgZW50ZXJFdmVudCA9IHRoaXMuY2xvbmVQb2ludGVyRXZlbnQoZSwgXCJwb2ludGVyZW50ZXJcIik7XG4gICAgZW50ZXJFdmVudC5ldmVudFBoYXNlID0gZW50ZXJFdmVudC5BVF9UQVJHRVQ7XG4gICAgd2hpbGUgKGVudGVyRXZlbnQudGFyZ2V0ICYmIGVudGVyRXZlbnQudGFyZ2V0ICE9PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50KSB7XG4gICAgICBlbnRlckV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbnRlckV2ZW50LnRhcmdldDtcbiAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGVudGVyRXZlbnQpO1xuICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGVudGVyRXZlbnQsIFwibW91c2VlbnRlclwiKTtcbiAgICAgIGVudGVyRXZlbnQudGFyZ2V0ID0gZW50ZXJFdmVudC50YXJnZXQucGFyZW50O1xuICAgIH1cbiAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICAgIHRoaXMuZnJlZUV2ZW50KGVudGVyRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgcG9pbnRlcm91dGAgdG8gZG93bnN0cmVhbSBgcG9pbnRlcm91dGAsIGBwb2ludGVybGVhdmVgIGV2ZW50cywgaW4gdGhhdCBvcmRlci5cbiAgICpcbiAgICogVGhlIHRyYWNraW5nIGRhdGEgZm9yIHRoZSBzcGVjaWZpYyBwb2ludGVyIGlzIGNsZWFyZWQgb2YgYSBgb3ZlclRhcmdldGAuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGBwb2ludGVyb3V0YCBldmVudC5cbiAgICovXG4gIG1hcFBvaW50ZXJPdXQoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgaWYgKHRyYWNraW5nRGF0YS5vdmVyVGFyZ2V0cykge1xuICAgICAgY29uc3QgaXNNb3VzZSA9IGZyb20ucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBmcm9tLnBvaW50ZXJUeXBlID09PSBcInBlblwiO1xuICAgICAgY29uc3Qgb3V0VGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEub3ZlclRhcmdldHMpO1xuICAgICAgY29uc3Qgb3V0RXZlbnQgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCBcInBvaW50ZXJvdXRcIiwgb3V0VGFyZ2V0KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdXRFdmVudCk7XG4gICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG91dEV2ZW50LCBcIm1vdXNlb3V0XCIpO1xuICAgICAgY29uc3QgbGVhdmVFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIFwicG9pbnRlcmxlYXZlXCIsIG91dFRhcmdldCk7XG4gICAgICBsZWF2ZUV2ZW50LmV2ZW50UGhhc2UgPSBsZWF2ZUV2ZW50LkFUX1RBUkdFVDtcbiAgICAgIHdoaWxlIChsZWF2ZUV2ZW50LnRhcmdldCAmJiBsZWF2ZUV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgICBsZWF2ZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQobGVhdmVFdmVudCk7XG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQsIFwibW91c2VsZWF2ZVwiKTtcbiAgICAgICAgbGVhdmVFdmVudC50YXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICB0cmFja2luZ0RhdGEub3ZlclRhcmdldHMgPSBudWxsO1xuICAgICAgdGhpcy5mcmVlRXZlbnQob3V0RXZlbnQpO1xuICAgICAgdGhpcy5mcmVlRXZlbnQobGVhdmVFdmVudCk7XG4gICAgfVxuICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHBvaW50ZXJ1cGAgZXZlbnQgdG8gZG93bnN0cmVhbSBgcG9pbnRlcnVwYCwgYHBvaW50ZXJ1cG91dHNpZGVgLFxuICAgKiBhbmQgYGNsaWNrYC9gcmlnaHRjbGlja2AvYHBvaW50ZXJ0YXBgIGV2ZW50cywgaW4gdGhhdCBvcmRlci5cbiAgICpcbiAgICogVGhlIGBwb2ludGVydXBvdXRzaWRlYCBldmVudCBidWJibGVzIGZyb20gdGhlIG9yaWdpbmFsIGBwb2ludGVyZG93bmAgdGFyZ2V0IHRvIHRoZSBtb3N0IHNwZWNpZmljXG4gICAqIGFuY2VzdG9yIG9mIHRoZSBgcG9pbnRlcmRvd25gIGFuZCBgcG9pbnRlcnVwYCB0YXJnZXRzLCB3aGljaCBpcyBhbHNvIHRoZSBgY2xpY2tgIGV2ZW50J3MgdGFyZ2V0LiBgdG91Y2hlbmRgLFxuICAgKiBgcmlnaHR1cGAsIGBtb3VzZXVwYCwgYHRvdWNoZW5kb3V0c2lkZWAsIGByaWdodHVwb3V0c2lkZWAsIGBtb3VzZXVwb3V0c2lkZWAsIGFuZCBgdGFwYCBhcmUgZmlyZWQgYXMgd2VsbCBmb3JcbiAgICogc3BlY2lmaWMgcG9pbnRlciB0eXBlcy5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHBvaW50ZXJ1cGAgZXZlbnQuXG4gICAqL1xuICBtYXBQb2ludGVyVXAoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwicG9pbnRlcnVwXCIpO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInRvdWNoZW5kXCIpO1xuICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBlLmJ1dHRvbiA9PT0gMjtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBpc1JpZ2h0QnV0dG9uID8gXCJyaWdodHVwXCIgOiBcIm1vdXNldXBcIik7XG4gICAgfVxuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBjb25zdCBwcmVzc1RhcmdldCA9IHRoaXMuZmluZE1vdW50ZWRUYXJnZXQodHJhY2tpbmdEYXRhLnByZXNzVGFyZ2V0c0J5QnV0dG9uW2Zyb20uYnV0dG9uXSk7XG4gICAgbGV0IGNsaWNrVGFyZ2V0ID0gcHJlc3NUYXJnZXQ7XG4gICAgaWYgKHByZXNzVGFyZ2V0ICYmICFlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKHByZXNzVGFyZ2V0KSkge1xuICAgICAgbGV0IGN1cnJlbnRUYXJnZXQgPSBwcmVzc1RhcmdldDtcbiAgICAgIHdoaWxlIChjdXJyZW50VGFyZ2V0ICYmICFlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgIGUuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIFwicG9pbnRlcnVwb3V0c2lkZVwiKTtcbiAgICAgICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIFwidG91Y2hlbmRvdXRzaWRlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiKSB7XG4gICAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGUuYnV0dG9uID09PSAyO1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0dXBvdXRzaWRlXCIgOiBcIm1vdXNldXBvdXRzaWRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dO1xuICAgICAgY2xpY2tUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgIH1cbiAgICBpZiAoY2xpY2tUYXJnZXQpIHtcbiAgICAgIGNvbnN0IGNsaWNrRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwiY2xpY2tcIik7XG4gICAgICBjbGlja0V2ZW50LnRhcmdldCA9IGNsaWNrVGFyZ2V0O1xuICAgICAgY2xpY2tFdmVudC5wYXRoID0gbnVsbDtcbiAgICAgIGlmICghdHJhY2tpbmdEYXRhLmNsaWNrc0J5QnV0dG9uW2Zyb20uYnV0dG9uXSkge1xuICAgICAgICB0cmFja2luZ0RhdGEuY2xpY2tzQnlCdXR0b25bZnJvbS5idXR0b25dID0ge1xuICAgICAgICAgIGNsaWNrQ291bnQ6IDAsXG4gICAgICAgICAgdGFyZ2V0OiBjbGlja0V2ZW50LnRhcmdldCxcbiAgICAgICAgICB0aW1lU3RhbXA6IG5vd1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgY2xpY2tIaXN0b3J5ID0gdHJhY2tpbmdEYXRhLmNsaWNrc0J5QnV0dG9uW2Zyb20uYnV0dG9uXTtcbiAgICAgIGlmIChjbGlja0hpc3RvcnkudGFyZ2V0ID09PSBjbGlja0V2ZW50LnRhcmdldCAmJiBub3cgLSBjbGlja0hpc3RvcnkudGltZVN0YW1wIDwgMjAwKSB7XG4gICAgICAgICsrY2xpY2tIaXN0b3J5LmNsaWNrQ291bnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGlja0hpc3RvcnkuY2xpY2tDb3VudCA9IDE7XG4gICAgICB9XG4gICAgICBjbGlja0hpc3RvcnkudGFyZ2V0ID0gY2xpY2tFdmVudC50YXJnZXQ7XG4gICAgICBjbGlja0hpc3RvcnkudGltZVN0YW1wID0gbm93O1xuICAgICAgY2xpY2tFdmVudC5kZXRhaWwgPSBjbGlja0hpc3RvcnkuY2xpY2tDb3VudDtcbiAgICAgIGlmIChjbGlja0V2ZW50LnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIpIHtcbiAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGNsaWNrRXZlbnQuYnV0dG9uID09PSAyO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHRjbGlja1wiIDogXCJjbGlja1wiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xpY2tFdmVudC5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50LCBcInRhcFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50LCBcInBvaW50ZXJ0YXBcIik7XG4gICAgICB0aGlzLmZyZWVFdmVudChjbGlja0V2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5mcmVlRXZlbnQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGBwb2ludGVydXBvdXRzaWRlYCBldmVudCB0byBhIGRvd25zdHJlYW0gYHBvaW50ZXJ1cG91dHNpZGVgIGV2ZW50LCBidWJibGluZyBmcm9tIHRoZSBvcmlnaW5hbFxuICAgKiBgcG9pbnRlcmRvd25gIHRhcmdldCB0byBgcm9vdFRhcmdldGAuXG4gICAqXG4gICAqIChUaGUgbW9zdCBzcGVjaWZpYyBhbmNlc3RvciBvZiB0aGUgYHBvaW50ZXJkb3duYCBldmVudCBhbmQgdGhlIGBwb2ludGVydXBgIGV2ZW50IG11c3QgdGhlXG4gICAqIGB7QGxpbmsgRXZlbnRCb3VuZGFyeX0ncyByb290IGJlY2F1c2UgdGhlIGBwb2ludGVydXBgIGV2ZW50IG9jY3VycmVkIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJ5LilcbiAgICpcbiAgICogYHRvdWNoZW5kb3V0c2lkZWAsIGBtb3VzZXVwb3V0c2lkZWAsIGFuZCBgcmlnaHR1cG91dHNpZGVgIGV2ZW50cyBhcmUgZmlyZWQgYXMgd2VsbCBmb3Igc3BlY2lmaWMgcG9pbnRlclxuICAgKiB0eXBlcy4gVGhlIHRyYWNraW5nIGRhdGEgZm9yIHRoZSBzcGVjaWZpYyBwb2ludGVyIGlzIGNsZWFyZWQgb2YgYSBgcHJlc3NUYXJnZXRgLlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgcG9pbnRlcnVwb3V0c2lkZWAgZXZlbnQuXG4gICAqL1xuICBtYXBQb2ludGVyVXBPdXRzaWRlKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGNvbnN0IHByZXNzVGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dKTtcbiAgICBjb25zdCBlID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSk7XG4gICAgaWYgKHByZXNzVGFyZ2V0KSB7XG4gICAgICBsZXQgY3VycmVudFRhcmdldCA9IHByZXNzVGFyZ2V0O1xuICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJwb2ludGVydXBvdXRzaWRlXCIpO1xuICAgICAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgXCJ0b3VjaGVuZG91dHNpZGVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiIHx8IGUucG9pbnRlclR5cGUgPT09IFwicGVuXCIpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBlLmJ1dHRvbiA9PT0gMiA/IFwicmlnaHR1cG91dHNpZGVcIiA6IFwibW91c2V1cG91dHNpZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50O1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl07XG4gICAgfVxuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgd2hlZWxgIGV2ZW50IHRvIGEgZG93bnN0cmVhbSBgd2hlZWxgIGV2ZW50LlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgd2hlZWxgIGV2ZW50LlxuICAgKi9cbiAgbWFwV2hlZWwoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRXaGVlbEV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi13aGVlbCBldmVudCBhcyBhIHdoZWVsIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3aGVlbEV2ZW50ID0gdGhpcy5jcmVhdGVXaGVlbEV2ZW50KGZyb20pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh3aGVlbEV2ZW50KTtcbiAgICB0aGlzLmZyZWVFdmVudCh3aGVlbEV2ZW50KTtcbiAgfVxuICAvKipcbiAgICogRmluZHMgdGhlIG1vc3Qgc3BlY2lmaWMgZXZlbnQtdGFyZ2V0IGluIHRoZSBnaXZlbiBwcm9wYWdhdGlvbiBwYXRoIHRoYXQgaXMgc3RpbGwgbW91bnRlZCBpbiB0aGUgc2NlbmUgZ3JhcGguXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBmaW5kIHRoZSBjb3JyZWN0IGBwb2ludGVydXBgIGFuZCBgcG9pbnRlcm91dGAgdGFyZ2V0IGluIHRoZSBjYXNlIHRoYXQgdGhlIG9yaWdpbmFsIGBwb2ludGVyZG93bmBcbiAgICogb3IgYHBvaW50ZXJvdmVyYCB0YXJnZXQgd2FzIHVubW91bnRlZCBmcm9tIHRoZSBzY2VuZSBncmFwaC5cbiAgICogQHBhcmFtIHByb3BhZ2F0aW9uUGF0aCAtIFRoZSBwcm9wYWdhdGlvbiBwYXRoIHdhcyB2YWxpZCBpbiB0aGUgcGFzdC5cbiAgICogQHJldHVybnMgLSBUaGUgbW9zdCBzcGVjaWZpYyBldmVudC10YXJnZXQgc3RpbGwgbW91bnRlZCBhdCB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgc2NlbmUgZ3JhcGguXG4gICAqL1xuICBmaW5kTW91bnRlZFRhcmdldChwcm9wYWdhdGlvblBhdGgpIHtcbiAgICBpZiAoIXByb3BhZ2F0aW9uUGF0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gcHJvcGFnYXRpb25QYXRoWzBdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcHJvcGFnYXRpb25QYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJvcGFnYXRpb25QYXRoW2ldLnBhcmVudCA9PT0gY3VycmVudFRhcmdldCkge1xuICAgICAgICBjdXJyZW50VGFyZ2V0ID0gcHJvcGFnYXRpb25QYXRoW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGV2ZW50IHdob3NlIHtAY29kZSBvcmlnaW5hbEV2ZW50fSBpcyB7QGNvZGUgZnJvbX0sIHdpdGggYW4gb3B0aW9uYWwgYHR5cGVgIGFuZCBgdGFyZ2V0YCBvdmVycmlkZS5cbiAgICpcbiAgICogVGhlIGV2ZW50IGlzIGFsbG9jYXRlZCB1c2luZyB7QGxpbmsgRXZlbnRCb3VuZGFyeSNhbGxvY2F0ZUV2ZW50IHRoaXMuYWxsb2NhdGVFdmVudH0uXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHtAY29kZSBvcmlnaW5hbEV2ZW50fSBmb3IgdGhlIHJldHVybmVkIGV2ZW50LlxuICAgKiBAcGFyYW0gW3R5cGU9ZnJvbS50eXBlXSAtIFRoZSB0eXBlIG9mIHRoZSByZXR1cm5lZCBldmVudC5cbiAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIHJldHVybmVkIGV2ZW50LlxuICAgKi9cbiAgY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIHR5cGUsIHRhcmdldCkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5hbGxvY2F0ZUV2ZW50KEZlZGVyYXRlZFBvaW50ZXJFdmVudCk7XG4gICAgdGhpcy5jb3B5UG9pbnRlckRhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weU1vdXNlRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5RGF0YShmcm9tLCBldmVudCk7XG4gICAgZXZlbnQubmF0aXZlRXZlbnQgPSBmcm9tLm5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBmcm9tO1xuICAgIGV2ZW50LnRhcmdldCA9IHRhcmdldCA/PyB0aGlzLmhpdFRlc3QoZXZlbnQuZ2xvYmFsLngsIGV2ZW50Lmdsb2JhbC55KSA/PyB0aGlzLl9oaXRFbGVtZW50c1swXTtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB3aGVlbCBldmVudCB3aG9zZSB7QGNvZGUgb3JpZ2luYWxFdmVudH0gaXMge0Bjb2RlIGZyb219LlxuICAgKlxuICAgKiBUaGUgZXZlbnQgaXMgYWxsb2NhdGVkIHVzaW5nIHtAbGluayBFdmVudEJvdW5kYXJ5I2FsbG9jYXRlRXZlbnQgdGhpcy5hbGxvY2F0ZUV2ZW50fS5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gd2hlZWwgZXZlbnQuXG4gICAqL1xuICBjcmVhdGVXaGVlbEV2ZW50KGZyb20pIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuYWxsb2NhdGVFdmVudChGZWRlcmF0ZWRXaGVlbEV2ZW50KTtcbiAgICB0aGlzLmNvcHlXaGVlbERhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weU1vdXNlRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5RGF0YShmcm9tLCBldmVudCk7XG4gICAgZXZlbnQubmF0aXZlRXZlbnQgPSBmcm9tLm5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBmcm9tO1xuICAgIGV2ZW50LnRhcmdldCA9IHRoaXMuaGl0VGVzdChldmVudC5nbG9iYWwueCwgZXZlbnQuZ2xvYmFsLnkpO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBldmVudCB7QGNvZGUgZnJvbX0sIHdpdGggYW4gb3B0aW9uYWwge0Bjb2RlIHR5cGV9IG92ZXJyaWRlLlxuICAgKlxuICAgKiBUaGUgZXZlbnQgaXMgYWxsb2NhdGVkIHVzaW5nIHtAbGluayBFdmVudEJvdW5kYXJ5I2FsbG9jYXRlRXZlbnQgdGhpcy5hbGxvY2F0ZUV2ZW50fS5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgZXZlbnQgdG8gY2xvbmUuXG4gICAqIEBwYXJhbSBbdHlwZT1mcm9tLnR5cGVdIC0gVGhlIHR5cGUgb2YgdGhlIHJldHVybmVkIGV2ZW50LlxuICAgKi9cbiAgY2xvbmVQb2ludGVyRXZlbnQoZnJvbSwgdHlwZSkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5hbGxvY2F0ZUV2ZW50KEZlZGVyYXRlZFBvaW50ZXJFdmVudCk7XG4gICAgZXZlbnQubmF0aXZlRXZlbnQgPSBmcm9tLm5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBmcm9tLm9yaWdpbmFsRXZlbnQ7XG4gICAgdGhpcy5jb3B5UG9pbnRlckRhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weU1vdXNlRGF0YShmcm9tLCBldmVudCk7XG4gICAgdGhpcy5jb3B5RGF0YShmcm9tLCBldmVudCk7XG4gICAgZXZlbnQudGFyZ2V0ID0gZnJvbS50YXJnZXQ7XG4gICAgZXZlbnQucGF0aCA9IGZyb20uY29tcG9zZWRQYXRoKCkuc2xpY2UoKTtcbiAgICBldmVudC50eXBlID0gdHlwZSA/PyBldmVudC50eXBlO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIHdoZWVsIHtAbGluayBGZWRlcmF0ZWRXaGVlbEV2ZW50fSBkYXRhIGZyb20ge0Bjb2RlIGZyb219IGludG8ge0Bjb2RlIHRvfS5cbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQ6XG4gICAqICsgZGVsdGFNb2RlXG4gICAqICsgZGVsdGFYXG4gICAqICsgZGVsdGFZXG4gICAqICsgZGVsdGFaXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBmcm9tLlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGludG8uXG4gICAqL1xuICBjb3B5V2hlZWxEYXRhKGZyb20sIHRvKSB7XG4gICAgdG8uZGVsdGFNb2RlID0gZnJvbS5kZWx0YU1vZGU7XG4gICAgdG8uZGVsdGFYID0gZnJvbS5kZWx0YVg7XG4gICAgdG8uZGVsdGFZID0gZnJvbS5kZWx0YVk7XG4gICAgdG8uZGVsdGFaID0gZnJvbS5kZWx0YVo7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyBwb2ludGVyIHtAbGluayBGZWRlcmF0ZWRQb2ludGVyRXZlbnR9IGRhdGEgZnJvbSB7QGNvZGUgZnJvbX0gaW50byB7QGNvZGUgdG99LlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIGNvcGllZDpcbiAgICogKyBwb2ludGVySWRcbiAgICogKyB3aWR0aFxuICAgKiArIGhlaWdodFxuICAgKiArIGlzUHJpbWFyeVxuICAgKiArIHBvaW50ZXJUeXBlXG4gICAqICsgcHJlc3N1cmVcbiAgICogKyB0YW5nZW50aWFsUHJlc3N1cmVcbiAgICogKyB0aWx0WFxuICAgKiArIHRpbHRZXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBmcm9tLlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGludG8uXG4gICAqL1xuICBjb3B5UG9pbnRlckRhdGEoZnJvbSwgdG8pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50ICYmIHRvIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSlcbiAgICAgIHJldHVybjtcbiAgICB0by5wb2ludGVySWQgPSBmcm9tLnBvaW50ZXJJZDtcbiAgICB0by53aWR0aCA9IGZyb20ud2lkdGg7XG4gICAgdG8uaGVpZ2h0ID0gZnJvbS5oZWlnaHQ7XG4gICAgdG8uaXNQcmltYXJ5ID0gZnJvbS5pc1ByaW1hcnk7XG4gICAgdG8ucG9pbnRlclR5cGUgPSBmcm9tLnBvaW50ZXJUeXBlO1xuICAgIHRvLnByZXNzdXJlID0gZnJvbS5wcmVzc3VyZTtcbiAgICB0by50YW5nZW50aWFsUHJlc3N1cmUgPSBmcm9tLnRhbmdlbnRpYWxQcmVzc3VyZTtcbiAgICB0by50aWx0WCA9IGZyb20udGlsdFg7XG4gICAgdG8udGlsdFkgPSBmcm9tLnRpbHRZO1xuICAgIHRvLnR3aXN0ID0gZnJvbS50d2lzdDtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIG1vdXNlIHtAbGluayBGZWRlcmF0ZWRNb3VzZUV2ZW50fSBkYXRhIGZyb20ge0Bjb2RlIGZyb219IHRvIHtAY29kZSB0b30uXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgY29waWVkOlxuICAgKiArIGFsdEtleVxuICAgKiArIGJ1dHRvblxuICAgKiArIGJ1dHRvbnNcbiAgICogKyBjbGllbnRYXG4gICAqICsgY2xpZW50WVxuICAgKiArIG1ldGFLZXlcbiAgICogKyBtb3ZlbWVudFhcbiAgICogKyBtb3ZlbWVudFlcbiAgICogKyBwYWdlWFxuICAgKiArIHBhZ2VZXG4gICAqICsgeFxuICAgKiArIHlcbiAgICogKyBzY3JlZW5cbiAgICogKyBzaGlmdEtleVxuICAgKiArIGdsb2JhbFxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgZnJvbS5cbiAgICogQHBhcmFtIHRvIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBpbnRvLlxuICAgKi9cbiAgY29weU1vdXNlRGF0YShmcm9tLCB0bykge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRNb3VzZUV2ZW50ICYmIHRvIGluc3RhbmNlb2YgRmVkZXJhdGVkTW91c2VFdmVudCkpXG4gICAgICByZXR1cm47XG4gICAgdG8uYWx0S2V5ID0gZnJvbS5hbHRLZXk7XG4gICAgdG8uYnV0dG9uID0gZnJvbS5idXR0b247XG4gICAgdG8uYnV0dG9ucyA9IGZyb20uYnV0dG9ucztcbiAgICB0by5jbGllbnQuY29weUZyb20oZnJvbS5jbGllbnQpO1xuICAgIHRvLmN0cmxLZXkgPSBmcm9tLmN0cmxLZXk7XG4gICAgdG8ubWV0YUtleSA9IGZyb20ubWV0YUtleTtcbiAgICB0by5tb3ZlbWVudC5jb3B5RnJvbShmcm9tLm1vdmVtZW50KTtcbiAgICB0by5zY3JlZW4uY29weUZyb20oZnJvbS5zY3JlZW4pO1xuICAgIHRvLnNoaWZ0S2V5ID0gZnJvbS5zaGlmdEtleTtcbiAgICB0by5nbG9iYWwuY29weUZyb20oZnJvbS5nbG9iYWwpO1xuICB9XG4gIC8qKlxuICAgKiBDb3BpZXMgYmFzZSB7QGxpbmsgRmVkZXJhdGVkRXZlbnR9IGRhdGEgZnJvbSB7QGNvZGUgZnJvbX0gaW50byB7QGNvZGUgdG99LlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIGNvcGllZDpcbiAgICogKyBpc1RydXN0ZWRcbiAgICogKyBzcmNFbGVtZW50XG4gICAqICsgdGltZVN0YW1wXG4gICAqICsgdHlwZVxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgZnJvbS5cbiAgICogQHBhcmFtIHRvIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBpbnRvLlxuICAgKi9cbiAgY29weURhdGEoZnJvbSwgdG8pIHtcbiAgICB0by5pc1RydXN0ZWQgPSBmcm9tLmlzVHJ1c3RlZDtcbiAgICB0by5zcmNFbGVtZW50ID0gZnJvbS5zcmNFbGVtZW50O1xuICAgIHRvLnRpbWVTdGFtcCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRvLnR5cGUgPSBmcm9tLnR5cGU7XG4gICAgdG8uZGV0YWlsID0gZnJvbS5kZXRhaWw7XG4gICAgdG8udmlldyA9IGZyb20udmlldztcbiAgICB0by53aGljaCA9IGZyb20ud2hpY2g7XG4gICAgdG8ubGF5ZXIuY29weUZyb20oZnJvbS5sYXllcik7XG4gICAgdG8ucGFnZS5jb3B5RnJvbShmcm9tLnBhZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gaWQgLSBUaGUgcG9pbnRlciBJRC5cbiAgICogQHJldHVybnMgVGhlIHRyYWNraW5nIGRhdGEgc3RvcmVkIGZvciB0aGUgZ2l2ZW4gcG9pbnRlci4gSWYgbm8gZGF0YSBleGlzdHMsIGEgYmxhbmtcbiAgICogIHN0YXRlIHdpbGwgYmUgY3JlYXRlZC5cbiAgICovXG4gIHRyYWNraW5nRGF0YShpZCkge1xuICAgIGlmICghdGhpcy5tYXBwaW5nU3RhdGUudHJhY2tpbmdEYXRhW2lkXSkge1xuICAgICAgdGhpcy5tYXBwaW5nU3RhdGUudHJhY2tpbmdEYXRhW2lkXSA9IHtcbiAgICAgICAgcHJlc3NUYXJnZXRzQnlCdXR0b246IHt9LFxuICAgICAgICBjbGlja3NCeUJ1dHRvbjoge30sXG4gICAgICAgIG92ZXJUYXJnZXQ6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1hcHBpbmdTdGF0ZS50cmFja2luZ0RhdGFbaWRdO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvY2F0ZSBhIHNwZWNpZmljIHR5cGUgb2YgZXZlbnQgZnJvbSB7QGxpbmsgRXZlbnRCb3VuZGFyeSNldmVudFBvb2wgdGhpcy5ldmVudFBvb2x9LlxuICAgKlxuICAgKiBUaGlzIGFsbG9jYXRpb24gaXMgY29uc3RydWN0b3ItYWdub3N0aWMsIGFzIGxvbmcgYXMgaXQgb25seSB0YWtlcyBvbmUgYXJndW1lbnQgLSB0aGlzIGV2ZW50XG4gICAqIGJvdW5kYXJ5LlxuICAgKiBAcGFyYW0gY29uc3RydWN0b3IgLSBUaGUgZXZlbnQncyBjb25zdHJ1Y3Rvci5cbiAgICovXG4gIGFsbG9jYXRlRXZlbnQoY29uc3RydWN0b3IpIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRQb29sLmhhcyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQb29sLnNldChjb25zdHJ1Y3RvciwgW10pO1xuICAgIH1cbiAgICBjb25zdCBldmVudCA9IHRoaXMuZXZlbnRQb29sLmdldChjb25zdHJ1Y3RvcikucG9wKCkgfHwgbmV3IGNvbnN0cnVjdG9yKHRoaXMpO1xuICAgIGV2ZW50LmV2ZW50UGhhc2UgPSBldmVudC5OT05FO1xuICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICBldmVudC5wYXRoID0gbnVsbDtcbiAgICBldmVudC50YXJnZXQgPSBudWxsO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogRnJlZXMgdGhlIGV2ZW50IGFuZCBwdXRzIGl0IGJhY2sgaW50byB0aGUgZXZlbnQgcG9vbC5cbiAgICpcbiAgICogSXQgaXMgaWxsZWdhbCB0byByZXVzZSB0aGUgZXZlbnQgdW50aWwgaXQgaXMgYWxsb2NhdGVkIGFnYWluLCB1c2luZyBgdGhpcy5hbGxvY2F0ZUV2ZW50YC5cbiAgICpcbiAgICogSXQgaXMgYWxzbyBhZHZpc2VkIHRoYXQgZXZlbnRzIG5vdCBhbGxvY2F0ZWQgZnJvbSB7QGxpbmsgRXZlbnRCb3VuZGFyeSNhbGxvY2F0ZUV2ZW50IHRoaXMuYWxsb2NhdGVFdmVudH1cbiAgICogbm90IGJlIGZyZWVkLiBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBvc3NpYmlsaXR5IHRoYXQgdGhlIHNhbWUgZXZlbnQgaXMgZnJlZWQgdHdpY2UsIHdoaWNoIGNhbiBjYXVzZVxuICAgKiBpdCB0byBiZSBhbGxvY2F0ZWQgdHdpY2UgJiByZXN1bHQgaW4gb3ZlcndyaXRpbmcuXG4gICAqIEBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0byBiZSBmcmVlZC5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgZXZlbnQgaXMgbWFuYWdlZCBieSBhbm90aGVyIGV2ZW50IGJvdW5kYXJ5LlxuICAgKi9cbiAgZnJlZUV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50Lm1hbmFnZXIgIT09IHRoaXMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdCBpcyBpbGxlZ2FsIHRvIGZyZWUgYW4gZXZlbnQgbm90IG1hbmFnZWQgYnkgdGhpcyBFdmVudEJvdW5kYXJ5IVwiKTtcbiAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGV2ZW50LmNvbnN0cnVjdG9yO1xuICAgIGlmICghdGhpcy5ldmVudFBvb2wuaGFzKGNvbnN0cnVjdG9yKSkge1xuICAgICAgdGhpcy5ldmVudFBvb2wuc2V0KGNvbnN0cnVjdG9yLCBbXSk7XG4gICAgfVxuICAgIHRoaXMuZXZlbnRQb29sLmdldChjb25zdHJ1Y3RvcikucHVzaChldmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8ge0BsaW5rIEV2ZW50RW1pdHRlci5lbWl0fSwgZXhjZXB0IGl0IHN0b3BzIGlmIHRoZSBgcHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWRgIGZsYWdcbiAgICogaXMgc2V0IG9uIHRoZSBldmVudC5cbiAgICogQHBhcmFtIGUgLSBUaGUgZXZlbnQgdG8gY2FsbCBlYWNoIGxpc3RlbmVyIHdpdGguXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIGV2ZW50IGtleS5cbiAgICovXG4gIF9ub3RpZnlMaXN0ZW5lcnMoZSwgdHlwZSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGUuY3VycmVudFRhcmdldC5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICghbGlzdGVuZXJzKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChcImZuXCIgaW4gbGlzdGVuZXJzKSB7XG4gICAgICBpZiAobGlzdGVuZXJzLm9uY2UpXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMuZm4sIHZvaWQgMCwgdHJ1ZSk7XG4gICAgICBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGogJiYgIWUucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQ7IGkrKykge1xuICAgICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpXG4gICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXS5mbiwgdm9pZCAwLCB0cnVlKTtcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBFdmVudEJvdW5kYXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudEJvdW5kYXJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEV2ZW50Qm91bmRhcnkgfSBmcm9tICcuL0V2ZW50Qm91bmRhcnkubWpzJztcbmltcG9ydCB7IEV2ZW50c1RpY2tlciB9IGZyb20gJy4vRXZlbnRUaWNrZXIubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZFBvaW50ZXJFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkUG9pbnRlckV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRXaGVlbEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRXaGVlbEV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5jb25zdCBUT1VDSF9UT19QT0lOVEVSID0ge1xuICB0b3VjaHN0YXJ0OiBcInBvaW50ZXJkb3duXCIsXG4gIHRvdWNoZW5kOiBcInBvaW50ZXJ1cFwiLFxuICB0b3VjaGVuZG91dHNpZGU6IFwicG9pbnRlcnVwb3V0c2lkZVwiLFxuICB0b3VjaG1vdmU6IFwicG9pbnRlcm1vdmVcIixcbiAgdG91Y2hjYW5jZWw6IFwicG9pbnRlcmNhbmNlbFwiXG59O1xuY29uc3QgX0V2ZW50U3lzdGVtID0gY2xhc3MgX0V2ZW50U3lzdGVtIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7UmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIC8qKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHMgaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy8gKi9cbiAgICB0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSBcIm9udG91Y2hzdGFydFwiIGluIGdsb2JhbFRoaXM7XG4gICAgLyoqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzLyAqL1xuICAgIHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISFnbG9iYWxUaGlzLlBvaW50ZXJFdmVudDtcbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdG8gd2hpY2ggdGhlIHJvb3QgZXZlbnQgbGlzdGVuZXJzIGFyZSBib3VuZC4gVGhpcyBpcyBhdXRvbWF0aWNhbGx5IHNldCB0b1xuICAgICAqIHRoZSByZW5kZXJlcidzIHtAbGluayBSZW5kZXJlciN2aWV3IHZpZXd9LlxuICAgICAqL1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IG51bGw7XG4gICAgLyoqIFRoZSByZXNvbHV0aW9uIHVzZWQgdG8gY29udmVydCBiZXR3ZWVuIHRoZSBET00gY2xpZW50IHNwYWNlIGludG8gd29ybGQgc3BhY2UuICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5yb290Qm91bmRhcnkgPSBuZXcgRXZlbnRCb3VuZGFyeShudWxsKTtcbiAgICBFdmVudHNUaWNrZXIuaW5pdCh0aGlzKTtcbiAgICB0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgdGhpcy5fZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yb290UG9pbnRlckV2ZW50ID0gbmV3IEZlZGVyYXRlZFBvaW50ZXJFdmVudChudWxsKTtcbiAgICB0aGlzLl9yb290V2hlZWxFdmVudCA9IG5ldyBGZWRlcmF0ZWRXaGVlbEV2ZW50KG51bGwpO1xuICAgIHRoaXMuY3Vyc29yU3R5bGVzID0ge1xuICAgICAgZGVmYXVsdDogXCJpbmhlcml0XCIsXG4gICAgICBwb2ludGVyOiBcInBvaW50ZXJcIlxuICAgIH07XG4gICAgdGhpcy5mZWF0dXJlcyA9IG5ldyBQcm94eSh7IC4uLl9FdmVudFN5c3RlbS5kZWZhdWx0RXZlbnRGZWF0dXJlcyB9LCB7XG4gICAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJnbG9iYWxNb3ZlXCIpIHtcbiAgICAgICAgICB0aGlzLnJvb3RCb3VuZGFyeS5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fb25Qb2ludGVyRG93biA9IHRoaXMuX29uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblBvaW50ZXJNb3ZlID0gdGhpcy5fb25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uUG9pbnRlclVwID0gdGhpcy5fb25Qb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblBvaW50ZXJPdmVyT3V0ID0gdGhpcy5fb25Qb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25XaGVlbCA9IHRoaXMub25XaGVlbC5iaW5kKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBpbnRlcmFjdGlvbiBtb2RlIGZvciBhbGwgZGlzcGxheSBvYmplY3RzLlxuICAgKiBAc2VlIENvbnRhaW5lci5ldmVudE1vZGVcbiAgICogQHR5cGUge0V2ZW50TW9kZX1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBzaW5jZSA3LjIuMFxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0RXZlbnRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0RXZlbnRNb2RlO1xuICB9XG4gIC8qKlxuICAgKiBSdW5uZXIgaW5pdCBjYWxsZWQsIHZpZXcgaXMgYXZhaWxhYmxlIGF0IHRoaXMgcG9pbnQuXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIGNvbnN0IHsgY2FudmFzLCByZXNvbHV0aW9uIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIHRoaXMuc2V0VGFyZ2V0RWxlbWVudChjYW52YXMpO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgX0V2ZW50U3lzdGVtLl9kZWZhdWx0RXZlbnRNb2RlID0gb3B0aW9ucy5ldmVudE1vZGUgPz8gXCJwYXNzaXZlXCI7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmZlYXR1cmVzLCBvcHRpb25zLmV2ZW50RmVhdHVyZXMgPz8ge30pO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LmVuYWJsZUdsb2JhbE1vdmVFdmVudHMgPSB0aGlzLmZlYXR1cmVzLmdsb2JhbE1vdmU7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjaGFuZ2luZyByZXNvbHV0aW9uLlxuICAgKiBAaWdub3JlXG4gICAqL1xuICByZXNvbHV0aW9uQ2hhbmdlKHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICB9XG4gIC8qKiBEZXN0cm95cyBhbGwgZXZlbnQgbGlzdGVuZXJzIGFuZCBkZXRhY2hlcyB0aGUgcmVuZGVyZXIuICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KG51bGwpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2N1cnJlbnRDdXJzb3IgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgKiBAcGFyYW0gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgKi9cbiAgc2V0Q3Vyc29yKG1vZGUpIHtcbiAgICBtb2RlIHx8IChtb2RlID0gXCJkZWZhdWx0XCIpO1xuICAgIGxldCBhcHBseVN0eWxlcyA9IHRydWU7XG4gICAgaWYgKGdsb2JhbFRoaXMuT2Zmc2NyZWVuQ2FudmFzICYmIHRoaXMuZG9tRWxlbWVudCBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgICAgYXBwbHlTdHlsZXMgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRDdXJzb3IgPT09IG1vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY3VycmVudEN1cnNvciA9IG1vZGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBpZiAoYXBwbHlTdHlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIHN0eWxlKG1vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgaWYgKGFwcGx5U3R5bGVzKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZG9tRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcGx5U3R5bGVzICYmIHR5cGVvZiBtb2RlID09PSBcInN0cmluZ1wiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jdXJzb3JTdHlsZXMsIG1vZGUpKSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gbW9kZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBnbG9iYWwgcG9pbnRlciBldmVudC5cbiAgICogVXNlZnVsIGZvciBnZXR0aW5nIHRoZSBwb2ludGVyIHBvc2l0aW9uIHdpdGhvdXQgbGlzdGVuaW5nIHRvIGV2ZW50cy5cbiAgICogQHNpbmNlIDcuMi4wXG4gICAqL1xuICBnZXQgcG9pbnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fcm9vdFBvaW50ZXJFdmVudDtcbiAgfVxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgcG9pbnRlciBkb3duIGV2ZW50cyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIG1vdXNlL3BvaW50ZXIvdG91Y2ggZXZlbnQuXG4gICAqL1xuICBfb25Qb2ludGVyRG93bihuYXRpdmVFdmVudCkge1xuICAgIGlmICghdGhpcy5mZWF0dXJlcy5jbGljaylcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgY29uc3QgZXZlbnRzID0gdGhpcy5fbm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpIHtcbiAgICAgIGNvbnN0IGNhbmNlbGFibGUgPSBuYXRpdmVFdmVudC5jYW5jZWxhYmxlIHx8ICEoXCJjYW5jZWxhYmxlXCIgaW4gbmF0aXZlRXZlbnQpO1xuICAgICAgaWYgKGNhbmNlbGFibGUpIHtcbiAgICAgICAgbmF0aXZlRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBldmVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBuYXRpdmVFdmVudDIgPSBldmVudHNbaV07XG4gICAgICBjb25zdCBmZWRlcmF0ZWRFdmVudCA9IHRoaXMuX2Jvb3RzdHJhcEV2ZW50KHRoaXMuX3Jvb3RQb2ludGVyRXZlbnQsIG5hdGl2ZUV2ZW50Mik7XG4gICAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudChmZWRlcmF0ZWRFdmVudCk7XG4gICAgfVxuICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMucm9vdEJvdW5kYXJ5LmN1cnNvcik7XG4gIH1cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIHBvaW50ZXIgbW92ZSBldmVudHMgb24gb24ge0BsaW5rIEV2ZW50U3lzdGVtI2RvbUVsZW1lbnQgdGhpcy5kb21FbGVtZW50fS5cbiAgICogQHBhcmFtIG5hdGl2ZUV2ZW50IC0gVGhlIG5hdGl2ZSBtb3VzZS9wb2ludGVyL3RvdWNoIGV2ZW50cy5cbiAgICovXG4gIF9vblBvaW50ZXJNb3ZlKG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLm1vdmUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIEV2ZW50c1RpY2tlci5wb2ludGVyTW92ZWQoKTtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gdGhpcy5fbm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ib290c3RyYXBFdmVudCh0aGlzLl9yb290UG9pbnRlckV2ZW50LCBub3JtYWxpemVkRXZlbnRzW2ldKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgcG9pbnRlciB1cCBldmVudHMgb24ge0BsaW5rIEV2ZW50U3lzdGVtI2RvbUVsZW1lbnQgdGhpcy5kb21FbGVtZW50fS5cbiAgICogQHBhcmFtIG5hdGl2ZUV2ZW50IC0gVGhlIG5hdGl2ZSBtb3VzZS9wb2ludGVyL3RvdWNoIGV2ZW50LlxuICAgKi9cbiAgX29uUG9pbnRlclVwKG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBsZXQgdGFyZ2V0ID0gbmF0aXZlRXZlbnQudGFyZ2V0O1xuICAgIGlmIChuYXRpdmVFdmVudC5jb21wb3NlZFBhdGggJiYgbmF0aXZlRXZlbnQuY29tcG9zZWRQYXRoKCkubGVuZ3RoID4gMCkge1xuICAgICAgdGFyZ2V0ID0gbmF0aXZlRXZlbnQuY29tcG9zZWRQYXRoKClbMF07XG4gICAgfVxuICAgIGNvbnN0IG91dHNpZGUgPSB0YXJnZXQgIT09IHRoaXMuZG9tRWxlbWVudCA/IFwib3V0c2lkZVwiIDogXCJcIjtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gdGhpcy5fbm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ib290c3RyYXBFdmVudCh0aGlzLl9yb290UG9pbnRlckV2ZW50LCBub3JtYWxpemVkRXZlbnRzW2ldKTtcbiAgICAgIGV2ZW50LnR5cGUgKz0gb3V0c2lkZTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgcG9pbnRlciBvdmVyICYgb3V0IGV2ZW50cyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIG1vdXNlL3BvaW50ZXIvdG91Y2ggZXZlbnQuXG4gICAqL1xuICBfb25Qb2ludGVyT3Zlck91dChuYXRpdmVFdmVudCkge1xuICAgIGlmICghdGhpcy5mZWF0dXJlcy5jbGljaylcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZEV2ZW50cyA9IHRoaXMuX25vcm1hbGl6ZVRvUG9pbnRlckRhdGEobmF0aXZlRXZlbnQpO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gbm9ybWFsaXplZEV2ZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fYm9vdHN0cmFwRXZlbnQodGhpcy5fcm9vdFBvaW50ZXJFdmVudCwgbm9ybWFsaXplZEV2ZW50c1tpXSk7XG4gICAgICB0aGlzLnJvb3RCb3VuZGFyeS5tYXBFdmVudChldmVudCk7XG4gICAgfVxuICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMucm9vdEJvdW5kYXJ5LmN1cnNvcik7XG4gIH1cbiAgLyoqXG4gICAqIFBhc3NpdmUgaGFuZGxlciBmb3IgYHdoZWVsYCBldmVudHMgb24ge0BsaW5rIEV2ZW50U3lzdGVtLmRvbUVsZW1lbnQgdGhpcy5kb21FbGVtZW50fS5cbiAgICogQHBhcmFtIG5hdGl2ZUV2ZW50IC0gVGhlIG5hdGl2ZSB3aGVlbCBldmVudC5cbiAgICovXG4gIG9uV2hlZWwobmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXMud2hlZWwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgd2hlZWxFdmVudCA9IHRoaXMubm9ybWFsaXplV2hlZWxFdmVudChuYXRpdmVFdmVudCk7XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KHdoZWVsRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCBkb21FbGVtZW50fSBhbmQgYmluZHMgZXZlbnQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBUbyBkZXJlZ2lzdGVyIHRoZSBjdXJyZW50IERPTSBlbGVtZW50IHdpdGhvdXQgc2V0dGluZyBhIG5ldyBvbmUsIHBhc3Mge0Bjb2RlIG51bGx9LlxuICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBuZXcgRE9NIGVsZW1lbnQuXG4gICAqL1xuICBzZXRUYXJnZXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudHMoKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBlbGVtZW50O1xuICAgIEV2ZW50c1RpY2tlci5kb21FbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9hZGRFdmVudHMoKTtcbiAgfVxuICAvKiogUmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzIG9uIHtAbGluayBSZW5kZXJlciNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uICovXG4gIF9hZGRFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50c0FkZGVkIHx8ICF0aGlzLmRvbUVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgRXZlbnRzVGlja2VyLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmRvbUVsZW1lbnQuc3R5bGU7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBpZiAoZ2xvYmFsVGhpcy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICBzdHlsZS5tc0NvbnRlbnRab29taW5nID0gXCJub25lXCI7XG4gICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLl9vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgdGhpcy5fb25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm92ZXJcIiwgdGhpcy5fb25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5fb25Qb2ludGVyVXAsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgdGhpcy5fb25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5fb25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cykge1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fb25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5fb25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLl9vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLm9uV2hlZWwsIHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5fZXZlbnRzQWRkZWQgPSB0cnVlO1xuICB9XG4gIC8qKiBVbnJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVycyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LiAqL1xuICBfcmVtb3ZlRXZlbnRzKCkge1xuICAgIGlmICghdGhpcy5fZXZlbnRzQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBFdmVudHNUaWNrZXIucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZG9tRWxlbWVudC5zdHlsZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSBcIlwiO1xuICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gXCJcIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMub25XaGVlbCwgdHJ1ZSk7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLl9ldmVudHNBZGRlZCA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICogQHBhcmFtICB7UG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAqL1xuICBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkpIHtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5kb21FbGVtZW50LmlzQ29ubmVjdGVkID8gdGhpcy5kb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogdGhpcy5kb21FbGVtZW50LndpZHRoLFxuICAgICAgaGVpZ2h0OiB0aGlzLmRvbUVsZW1lbnQuaGVpZ2h0LFxuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMFxuICAgIH07XG4gICAgY29uc3QgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgIHBvaW50LnggPSAoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5kb21FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICBwb2ludC55ID0gKHkgLSByZWN0LnRvcCkgKiAodGhpcy5kb21FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICB9XG4gIC8qKlxuICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICogQHBhcmFtIGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAqIEByZXR1cm5zIEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgKi9cbiAgX25vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpIHtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gW107XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guYnV0dG9uID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmJ1dHRvbnMgPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09IFwidG91Y2hzdGFydFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50aWx0WCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gudGlsdFkgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnBvaW50ZXJUeXBlID0gXCJ0b3VjaFwiO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudHdpc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gudHdpc3QgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRvdWNoLnR5cGUgPSBldmVudC50eXBlO1xuICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWdsb2JhbFRoaXMuTW91c2VFdmVudCB8fCBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5Qb2ludGVyRXZlbnQpKSkge1xuICAgICAgY29uc3QgdGVtcEV2ZW50ID0gZXZlbnQ7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5pc1ByaW1hcnkgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC53aWR0aCA9IDE7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5oZWlnaHQgPSAxO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGlsdFggPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50aWx0WCA9IDA7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnRpbHRZID0gMDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSBcIm1vdXNlXCI7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnR3aXN0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudHdpc3QgPSAwO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICB9XG4gIC8qKlxuICAgKiBOb3JtYWxpemVzIHRoZSBuYXRpdmUge0BsaW5rIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby91aWV2ZW50cy8jaW50ZXJmYWNlLXdoZWVsZXZlbnQgV2hlZWxFdmVudH0uXG4gICAqXG4gICAqIFRoZSByZXR1cm5lZCB7QGxpbmsgRmVkZXJhdGVkV2hlZWxFdmVudH0gaXMgYSBzaGFyZWQgaW5zdGFuY2UuIEl0IHdpbGwgbm90IHBlcnNpc3QgYWNyb3NzXG4gICAqIG11bHRpcGxlIG5hdGl2ZSB3aGVlbCBldmVudHMuXG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudCAtIFRoZSBuYXRpdmUgd2hlZWwgZXZlbnQgdGhhdCBvY2N1cnJlZCBvbiB0aGUgY2FudmFzLlxuICAgKiBAcmV0dXJucyBBIGZlZGVyYXRlZCB3aGVlbCBldmVudC5cbiAgICovXG4gIG5vcm1hbGl6ZVdoZWVsRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuX3Jvb3RXaGVlbEV2ZW50O1xuICAgIHRoaXMuX3RyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCk7XG4gICAgZXZlbnQuZGVsdGFYID0gbmF0aXZlRXZlbnQuZGVsdGFYO1xuICAgIGV2ZW50LmRlbHRhWSA9IG5hdGl2ZUV2ZW50LmRlbHRhWTtcbiAgICBldmVudC5kZWx0YVogPSBuYXRpdmVFdmVudC5kZWx0YVo7XG4gICAgZXZlbnQuZGVsdGFNb2RlID0gbmF0aXZlRXZlbnQuZGVsdGFNb2RlO1xuICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGV2ZW50LnNjcmVlbiwgbmF0aXZlRXZlbnQuY2xpZW50WCwgbmF0aXZlRXZlbnQuY2xpZW50WSk7XG4gICAgZXZlbnQuZ2xvYmFsLmNvcHlGcm9tKGV2ZW50LnNjcmVlbik7XG4gICAgZXZlbnQub2Zmc2V0LmNvcHlGcm9tKGV2ZW50LnNjcmVlbik7XG4gICAgZXZlbnQubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICBldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgdGhlIGBuYXRpdmVFdmVudGAgaW50byBhIGZlZGVyYXRlZWQge0BsaW5rIEZlZGVyYXRlZFBvaW50ZXJFdmVudH0uXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnRcbiAgICovXG4gIF9ib290c3RyYXBFdmVudChldmVudCwgbmF0aXZlRXZlbnQpIHtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50LnBvaW50ZXJJZCA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJJZDtcbiAgICBldmVudC53aWR0aCA9IG5hdGl2ZUV2ZW50LndpZHRoO1xuICAgIGV2ZW50LmhlaWdodCA9IG5hdGl2ZUV2ZW50LmhlaWdodDtcbiAgICBldmVudC5pc1ByaW1hcnkgPSBuYXRpdmVFdmVudC5pc1ByaW1hcnk7XG4gICAgZXZlbnQucG9pbnRlclR5cGUgPSBuYXRpdmVFdmVudC5wb2ludGVyVHlwZTtcbiAgICBldmVudC5wcmVzc3VyZSA9IG5hdGl2ZUV2ZW50LnByZXNzdXJlO1xuICAgIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9IG5hdGl2ZUV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZTtcbiAgICBldmVudC50aWx0WCA9IG5hdGl2ZUV2ZW50LnRpbHRYO1xuICAgIGV2ZW50LnRpbHRZID0gbmF0aXZlRXZlbnQudGlsdFk7XG4gICAgZXZlbnQudHdpc3QgPSBuYXRpdmVFdmVudC50d2lzdDtcbiAgICB0aGlzLl90cmFuc2Zlck1vdXNlRGF0YShldmVudCwgbmF0aXZlRXZlbnQpO1xuICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGV2ZW50LnNjcmVlbiwgbmF0aXZlRXZlbnQuY2xpZW50WCwgbmF0aXZlRXZlbnQuY2xpZW50WSk7XG4gICAgZXZlbnQuZ2xvYmFsLmNvcHlGcm9tKGV2ZW50LnNjcmVlbik7XG4gICAgZXZlbnQub2Zmc2V0LmNvcHlGcm9tKGV2ZW50LnNjcmVlbik7XG4gICAgZXZlbnQuaXNUcnVzdGVkID0gbmF0aXZlRXZlbnQuaXNUcnVzdGVkO1xuICAgIGlmIChldmVudC50eXBlID09PSBcInBvaW50ZXJsZWF2ZVwiKSB7XG4gICAgICBldmVudC50eXBlID0gXCJwb2ludGVyb3V0XCI7XG4gICAgfVxuICAgIGlmIChldmVudC50eXBlLnN0YXJ0c1dpdGgoXCJtb3VzZVwiKSkge1xuICAgICAgZXZlbnQudHlwZSA9IGV2ZW50LnR5cGUucmVwbGFjZShcIm1vdXNlXCIsIFwicG9pbnRlclwiKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUuc3RhcnRzV2l0aChcInRvdWNoXCIpKSB7XG4gICAgICBldmVudC50eXBlID0gVE9VQ0hfVE9fUE9JTlRFUltldmVudC50eXBlXSB8fCBldmVudC50eXBlO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zZmVycyBiYXNlICYgbW91c2UgZXZlbnQgZGF0YSBmcm9tIHRoZSB7QGNvZGUgbmF0aXZlRXZlbnR9IHRvIHRoZSBmZWRlcmF0ZWQgZXZlbnQuXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnRcbiAgICovXG4gIF90cmFuc2Zlck1vdXNlRGF0YShldmVudCwgbmF0aXZlRXZlbnQpIHtcbiAgICBldmVudC5pc1RydXN0ZWQgPSBuYXRpdmVFdmVudC5pc1RydXN0ZWQ7XG4gICAgZXZlbnQuc3JjRWxlbWVudCA9IG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQ7XG4gICAgZXZlbnQudGltZVN0YW1wID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgZXZlbnQudHlwZSA9IG5hdGl2ZUV2ZW50LnR5cGU7XG4gICAgZXZlbnQuYWx0S2V5ID0gbmF0aXZlRXZlbnQuYWx0S2V5O1xuICAgIGV2ZW50LmJ1dHRvbiA9IG5hdGl2ZUV2ZW50LmJ1dHRvbjtcbiAgICBldmVudC5idXR0b25zID0gbmF0aXZlRXZlbnQuYnV0dG9ucztcbiAgICBldmVudC5jbGllbnQueCA9IG5hdGl2ZUV2ZW50LmNsaWVudFg7XG4gICAgZXZlbnQuY2xpZW50LnkgPSBuYXRpdmVFdmVudC5jbGllbnRZO1xuICAgIGV2ZW50LmN0cmxLZXkgPSBuYXRpdmVFdmVudC5jdHJsS2V5O1xuICAgIGV2ZW50Lm1ldGFLZXkgPSBuYXRpdmVFdmVudC5tZXRhS2V5O1xuICAgIGV2ZW50Lm1vdmVtZW50LnggPSBuYXRpdmVFdmVudC5tb3ZlbWVudFg7XG4gICAgZXZlbnQubW92ZW1lbnQueSA9IG5hdGl2ZUV2ZW50Lm1vdmVtZW50WTtcbiAgICBldmVudC5wYWdlLnggPSBuYXRpdmVFdmVudC5wYWdlWDtcbiAgICBldmVudC5wYWdlLnkgPSBuYXRpdmVFdmVudC5wYWdlWTtcbiAgICBldmVudC5yZWxhdGVkVGFyZ2V0ID0gbnVsbDtcbiAgICBldmVudC5zaGlmdEtleSA9IG5hdGl2ZUV2ZW50LnNoaWZ0S2V5O1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9FdmVudFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIG5hbWU6IFwiZXZlbnRzXCIsXG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIHByaW9yaXR5OiAtMVxufTtcbi8qKlxuICogVGhlIGV2ZW50IGZlYXR1cmVzIHRoYXQgYXJlIGVuYWJsZWQgYnkgdGhlIEV2ZW50U3lzdGVtXG4gKiAoaW5jbHVkZWQgaW4gdGhlICoqcGl4aS5qcyoqIGFuZCAqKnBpeGkuanMtbGVnYWN5KiogYnVuZGxlKSwgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgaWdub3JlZC5cbiAqIEBzaW5jZSA3LjIuMFxuICovXG5fRXZlbnRTeXN0ZW0uZGVmYXVsdEV2ZW50RmVhdHVyZXMgPSB7XG4gIC8qKiBFbmFibGVzIHBvaW50ZXIgZXZlbnRzIGFzc29jaWF0ZWQgd2l0aCBwb2ludGVyIG1vdmVtZW50LiAqL1xuICBtb3ZlOiB0cnVlLFxuICAvKiogRW5hYmxlcyBnbG9iYWwgcG9pbnRlciBtb3ZlIGV2ZW50cy4gKi9cbiAgZ2xvYmFsTW92ZTogdHJ1ZSxcbiAgLyoqIEVuYWJsZXMgcG9pbnRlciBldmVudHMgYXNzb2NpYXRlZCB3aXRoIGNsaWNraW5nLiAqL1xuICBjbGljazogdHJ1ZSxcbiAgLyoqIEVuYWJsZXMgd2hlZWwgZXZlbnRzLiAqL1xuICB3aGVlbDogdHJ1ZVxufTtcbmxldCBFdmVudFN5c3RlbSA9IF9FdmVudFN5c3RlbTtcblxuZXhwb3J0IHsgRXZlbnRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV2ZW50U3lzdGVtIH0gZnJvbSAnLi9FdmVudFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZEV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgRmVkZXJhdGVkQ29udGFpbmVyID0ge1xuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBjbGlja2AgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gY2xpY2tcbiAgICogfVxuICAgKi9cbiAgb25jbGljazogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgbW91c2Vkb3duYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ubW91c2Vkb3duID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gbW91c2Vkb3duXG4gICAqIH1cbiAgICovXG4gIG9ubW91c2Vkb3duOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZWVudGVyYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ubW91c2VlbnRlciA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNlZW50ZXJcbiAgICogfVxuICAgKi9cbiAgb25tb3VzZWVudGVyOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZWxlYXZlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ubW91c2VsZWF2ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNlbGVhdmVcbiAgICogfVxuICAgKi9cbiAgb25tb3VzZWxlYXZlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBtb3VzZW1vdmVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25tb3VzZW1vdmUgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBtb3VzZW1vdmVcbiAgICogfVxuICAgKi9cbiAgb25tb3VzZW1vdmU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYGdsb2JhbG1vdXNlbW92ZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbmdsb2JhbG1vdXNlbW92ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIGdsb2JhbG1vdXNlbW92ZVxuICAgKiB9XG4gICAqL1xuICBvbmdsb2JhbG1vdXNlbW92ZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgbW91c2VvdXRgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25tb3VzZW91dCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNlb3V0XG4gICAqIH1cbiAgICovXG4gIG9ubW91c2VvdXQ6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYG1vdXNlb3ZlcmAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbm1vdXNlb3ZlciA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNlb3ZlclxuICAgKiB9XG4gICAqL1xuICBvbm1vdXNlb3ZlcjogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgbW91c2V1cGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbm1vdXNldXAgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBtb3VzZXVwXG4gICAqIH1cbiAgICovXG4gIG9ubW91c2V1cDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgbW91c2V1cG91dHNpZGVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25tb3VzZXVwb3V0c2lkZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIG1vdXNldXBvdXRzaWRlXG4gICAqIH1cbiAgICovXG4gIG9ubW91c2V1cG91dHNpZGU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJjYW5jZWxgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVyY2FuY2VsID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcmNhbmNlbFxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJjYW5jZWw6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJkb3duYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcmRvd24gPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBwb2ludGVyZG93blxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJkb3duOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVyZW50ZXJgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVyZW50ZXIgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBwb2ludGVyZW50ZXJcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVyZW50ZXI6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHBvaW50ZXJsZWF2ZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnBvaW50ZXJsZWF2ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJsZWF2ZVxuICAgKiB9XG4gICAqL1xuICBvbnBvaW50ZXJsZWF2ZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcG9pbnRlcm1vdmVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25wb2ludGVybW92ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJtb3ZlXG4gICAqIH1cbiAgICovXG4gIG9ucG9pbnRlcm1vdmU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYGdsb2JhbHBvaW50ZXJtb3ZlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9uZ2xvYmFscG9pbnRlcm1vdmUgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBnbG9iYWxwb2ludGVybW92ZVxuICAgKiB9XG4gICAqL1xuICBvbmdsb2JhbHBvaW50ZXJtb3ZlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVyb3V0YCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcm91dCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJvdXRcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVyb3V0OiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVyb3ZlcmAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnBvaW50ZXJvdmVyID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcm92ZXJcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVyb3ZlcjogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcG9pbnRlcnRhcGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnBvaW50ZXJ0YXAgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiBwb2ludGVydGFwXG4gICAqIH1cbiAgICovXG4gIG9ucG9pbnRlcnRhcDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgcG9pbnRlcnVwYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcnVwID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcG9pbnRlcnVwXG4gICAqIH1cbiAgICovXG4gIG9ucG9pbnRlcnVwOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGBwb2ludGVydXBvdXRzaWRlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucG9pbnRlcnVwb3V0c2lkZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHBvaW50ZXJ1cG91dHNpZGVcbiAgICogfVxuICAgKi9cbiAgb25wb2ludGVydXBvdXRzaWRlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGByaWdodGNsaWNrYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucmlnaHRjbGljayA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHJpZ2h0Y2xpY2tcbiAgICogfVxuICAgKi9cbiAgb25yaWdodGNsaWNrOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGByaWdodGRvd25gIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25yaWdodGRvd24gPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiByaWdodGRvd25cbiAgICogfVxuICAgKi9cbiAgb25yaWdodGRvd246IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHJpZ2h0dXBgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub25yaWdodHVwID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gcmlnaHR1cFxuICAgKiB9XG4gICAqL1xuICBvbnJpZ2h0dXA6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHJpZ2h0dXBvdXRzaWRlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9ucmlnaHR1cG91dHNpZGUgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiByaWdodHVwb3V0c2lkZVxuICAgKiB9XG4gICAqL1xuICBvbnJpZ2h0dXBvdXRzaWRlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGB0YXBgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub250YXAgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiB0YXBcbiAgICogfVxuICAgKi9cbiAgb250YXA6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYHRvdWNoY2FuY2VsYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9udG91Y2hjYW5jZWwgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiB0b3VjaGNhbmNlbFxuICAgKiB9XG4gICAqL1xuICBvbnRvdWNoY2FuY2VsOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGB0b3VjaGVuZGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnRvdWNoZW5kID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gdG91Y2hlbmRcbiAgICogfVxuICAgKi9cbiAgb250b3VjaGVuZDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgdG91Y2hlbmRvdXRzaWRlYCBldmVudC5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAZXhhbXBsZVxuICAgKiB0aGlzLm9udG91Y2hlbmRvdXRzaWRlID0gKGV2ZW50KSA9PiB7XG4gICAqICAvL3NvbWUgZnVuY3Rpb24gaGVyZSB0aGF0IGhhcHBlbnMgb24gdG91Y2hlbmRvdXRzaWRlXG4gICAqIH1cbiAgICovXG4gIG9udG91Y2hlbmRvdXRzaWRlOiBudWxsLFxuICAvKipcbiAgICogUHJvcGVydHktYmFzZWQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGB0b3VjaG1vdmVgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub250b3VjaG1vdmUgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiB0b3VjaG1vdmVcbiAgICogfVxuICAgKi9cbiAgb250b3VjaG1vdmU6IG51bGwsXG4gIC8qKlxuICAgKiBQcm9wZXJ0eS1iYXNlZCBldmVudCBoYW5kbGVyIGZvciB0aGUgYGdsb2JhbHRvdWNobW92ZWAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbmdsb2JhbHRvdWNobW92ZSA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIGdsb2JhbHRvdWNobW92ZVxuICAgKiB9XG4gICAqL1xuICBvbmdsb2JhbHRvdWNobW92ZTogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgdG91Y2hzdGFydGAgZXZlbnQuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQGV4YW1wbGVcbiAgICogdGhpcy5vbnRvdWNoc3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICogIC8vc29tZSBmdW5jdGlvbiBoZXJlIHRoYXQgaGFwcGVucyBvbiB0b3VjaHN0YXJ0XG4gICAqIH1cbiAgICovXG4gIG9udG91Y2hzdGFydDogbnVsbCxcbiAgLyoqXG4gICAqIFByb3BlcnR5LWJhc2VkIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBgd2hlZWxgIGV2ZW50LlxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEBleGFtcGxlXG4gICAqIHRoaXMub253aGVlbCA9IChldmVudCkgPT4ge1xuICAgKiAgLy9zb21lIGZ1bmN0aW9uIGhlcmUgdGhhdCBoYXBwZW5zIG9uIHdoZWVsXG4gICAqIH1cbiAgICovXG4gIG9ud2hlZWw6IG51bGwsXG4gIC8qKlxuICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgQ29udGFpbmVyLiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lciNcbiAgICovXG4gIGdldCBpbnRlcmFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudE1vZGUgPT09IFwiZHluYW1pY1wiIHx8IHRoaXMuZXZlbnRNb2RlID09PSBcInN0YXRpY1wiO1xuICB9LFxuICBzZXQgaW50ZXJhY3RpdmUodmFsdWUpIHtcbiAgICB0aGlzLmV2ZW50TW9kZSA9IHZhbHVlID8gXCJzdGF0aWNcIiA6IFwicGFzc2l2ZVwiO1xuICB9LFxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgX2ludGVybmFsRXZlbnRNb2RlOiB2b2lkIDAsXG4gIC8qKlxuICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgQ29udGFpbmVyLiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2UuXG4gICAqIFRoZXJlIGFyZSA1IHR5cGVzIG9mIGludGVyYWN0aW9uIHNldHRpbmdzOlxuICAgKiAtIGAnbm9uZSdgOiBJZ25vcmVzIGFsbCBpbnRlcmFjdGlvbiBldmVudHMsIGV2ZW4gb24gaXRzIGNoaWxkcmVuLlxuICAgKiAtIGAncGFzc2l2ZSdgOiAqKihkZWZhdWx0KSoqIERvZXMgbm90IGVtaXQgZXZlbnRzIGFuZCBpZ25vcmVzIGFsbCBoaXQgdGVzdGluZyBvbiBpdHNlbGYgYW5kIG5vbi1pbnRlcmFjdGl2ZSBjaGlsZHJlbi5cbiAgICogSW50ZXJhY3RpdmUgY2hpbGRyZW4gd2lsbCBzdGlsbCBlbWl0IGV2ZW50cy5cbiAgICogLSBgJ2F1dG8nYDogRG9lcyBub3QgZW1pdCBldmVudHMgYnV0IGlzIGhpdCB0ZXN0ZWQgaWYgcGFyZW50IGlzIGludGVyYWN0aXZlLiBTYW1lIGFzIGBpbnRlcmFjdGl2ZSA9IGZhbHNlYCBpbiB2N1xuICAgKiAtIGAnc3RhdGljJ2A6IEVtaXQgZXZlbnRzIGFuZCBpcyBoaXQgdGVzdGVkLiBTYW1lIGFzIGBpbnRlcmFjdGlvbiA9IHRydWVgIGluIHY3XG4gICAqIC0gYCdkeW5hbWljJ2A6IEVtaXRzIGV2ZW50cyBhbmQgaXMgaGl0IHRlc3RlZCBidXQgd2lsbCBhbHNvIHJlY2VpdmUgbW9jayBpbnRlcmFjdGlvbiBldmVudHMgZmlyZWQgZnJvbSBhIHRpY2tlciB0b1xuICAgKiBhbGxvdyBmb3IgaW50ZXJhY3Rpb24gd2hlbiB0aGUgbW91c2UgaXNuJ3QgbW92aW5nXG4gICAqIEBleGFtcGxlXG4gICAqIGltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ3BpeGkuanMnO1xuICAgKlxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuZXZlbnRNb2RlID0gJ3N0YXRpYyc7XG4gICAqIHNwcml0ZS5vbigndGFwJywgKGV2ZW50KSA9PiB7XG4gICAqICAgICAvLyBIYW5kbGUgZXZlbnRcbiAgICogfSk7XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBzaW5jZSA3LjIuMFxuICAgKi9cbiAgZ2V0IGV2ZW50TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxFdmVudE1vZGUgPz8gRXZlbnRTeXN0ZW0uZGVmYXVsdEV2ZW50TW9kZTtcbiAgfSxcbiAgc2V0IGV2ZW50TW9kZSh2YWx1ZSkge1xuICAgIHRoaXMuX2ludGVybmFsRXZlbnRNb2RlID0gdmFsdWU7XG4gIH0sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb250YWluZXIgaXMgaW50ZXJhY3RpdmUgb3Igbm90XG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBjb250YWluZXIgaXMgaW50ZXJhY3RpdmUgb3Igbm90XG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqIEBzaW5jZSA3LjIuMFxuICAgKiBAZXhhbXBsZVxuICAgKiBpbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdwaXhpLmpzJztcbiAgICpcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmV2ZW50TW9kZSA9ICdzdGF0aWMnO1xuICAgKiBzcHJpdGUuaXNJbnRlcmFjdGl2ZSgpOyAvLyB0cnVlXG4gICAqXG4gICAqIHNwcml0ZS5ldmVudE1vZGUgPSAnZHluYW1pYyc7XG4gICAqIHNwcml0ZS5pc0ludGVyYWN0aXZlKCk7IC8vIHRydWVcbiAgICpcbiAgICogc3ByaXRlLmV2ZW50TW9kZSA9ICdub25lJztcbiAgICogc3ByaXRlLmlzSW50ZXJhY3RpdmUoKTsgLy8gZmFsc2VcbiAgICpcbiAgICogc3ByaXRlLmV2ZW50TW9kZSA9ICdwYXNzaXZlJztcbiAgICogc3ByaXRlLmlzSW50ZXJhY3RpdmUoKTsgLy8gZmFsc2VcbiAgICpcbiAgICogc3ByaXRlLmV2ZW50TW9kZSA9ICdhdXRvJztcbiAgICogc3ByaXRlLmlzSW50ZXJhY3RpdmUoKTsgLy8gZmFsc2VcbiAgICovXG4gIGlzSW50ZXJhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRNb2RlID09PSBcInN0YXRpY1wiIHx8IHRoaXMuZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIjtcbiAgfSxcbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXIjXG4gICAqL1xuICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuICAvKipcbiAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBjb250YWluZXIncyBib3VuZHMuXG4gICAqIEBleGFtcGxlXG4gICAqIGltcG9ydCB7IFJlY3RhbmdsZSwgU3ByaXRlIH0gZnJvbSAncGl4aS5qcyc7XG4gICAqXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAqIEBtZW1iZXIge0lIaXRBcmVhfVxuICAgKiBAbWVtYmVyb2Ygc2NlbmUuQ29udGFpbmVyI1xuICAgKi9cbiAgaGl0QXJlYTogbnVsbCxcbiAgLyoqXG4gICAqIFVubGlrZSBgb25gIG9yIGBhZGRMaXN0ZW5lcmAgd2hpY2ggYXJlIG1ldGhvZHMgZnJvbSBFdmVudEVtaXR0ZXIsIGBhZGRFdmVudExpc3RlbmVyYFxuICAgKiBzZWVrcyB0byBiZSBjb21wYXRpYmxlIHdpdGggdGhlIERPTSdzIGBhZGRFdmVudExpc3RlbmVyYCB3aXRoIHN1cHBvcnQgZm9yIG9wdGlvbnMuXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXJcbiAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBldmVudCB0byBsaXN0ZW4gdG8uXG4gICAqIEBwYXJhbSBsaXN0ZW5lciAtIFRoZSBsaXN0ZW5lciBjYWxsYmFjayBvciBvYmplY3QuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTGlzdGVuZXIgb3B0aW9ucywgdXNlZCBmb3IgY2FwdHVyZSBwaGFzZS5cbiAgICogQGV4YW1wbGVcbiAgICogLy8gVGVsbCB0aGUgdXNlciB3aGV0aGVyIHRoZXkgZGlkIGEgc2luZ2xlLCBkb3VibGUsIHRyaXBsZSwgb3IgbnRoIGNsaWNrLlxuICAgKiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7XG4gICAqICAgICBoYW5kbGVFdmVudChlKToge1xuICAgKiAgICAgICAgIGxldCBwcmVmaXg7XG4gICAqXG4gICAqICAgICAgICAgc3dpdGNoIChlLmRldGFpbCkge1xuICAgKiAgICAgICAgICAgICBjYXNlIDE6IHByZWZpeCA9ICdzaW5nbGUnOyBicmVhaztcbiAgICogICAgICAgICAgICAgY2FzZSAyOiBwcmVmaXggPSAnZG91YmxlJzsgYnJlYWs7XG4gICAqICAgICAgICAgICAgIGNhc2UgMzogcHJlZml4ID0gJ3RyaXBsZSc7IGJyZWFrO1xuICAgKiAgICAgICAgICAgICBkZWZhdWx0OiBwcmVmaXggPSBlLmRldGFpbCArICd0aCc7IGJyZWFrO1xuICAgKiAgICAgICAgIH1cbiAgICpcbiAgICogICAgICAgICBjb25zb2xlLmxvZygnVGhhdCB3YXMgYSAnICsgcHJlZml4ICsgJ2NsaWNrJyk7XG4gICAqICAgICB9XG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBCdXQgc2tpcCB0aGUgZmlyc3QgY2xpY2shXG4gICAqIGJ1dHRvbi5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBibG9ja0NsaWNrT25jZShlKSB7XG4gICAqICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgKiAgICAgYnV0dG9uLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGJsb2NrQ2xpY2tPbmNlLCB0cnVlKTtcbiAgICogfSwge1xuICAgKiAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICogfSk7XG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2FwdHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIiAmJiBvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuY2FwdHVyZTtcbiAgICBjb25zdCBzaWduYWwgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuc2lnbmFsIDogdm9pZCAwO1xuICAgIGNvbnN0IG9uY2UgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMub25jZSA9PT0gdHJ1ZSA6IGZhbHNlO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IHZvaWQgMCA6IGxpc3RlbmVyO1xuICAgIHR5cGUgPSBjYXB0dXJlID8gYCR7dHlwZX1jYXB0dXJlYCA6IHR5cGU7XG4gICAgY29uc3QgbGlzdGVuZXJGbiA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gbGlzdGVuZXIgOiBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICBjb25zdCBlbWl0dGVyID0gdGhpcztcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgZW1pdHRlci5vZmYodHlwZSwgbGlzdGVuZXJGbiwgY29udGV4dCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZSh0eXBlLCBsaXN0ZW5lckZuLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbih0eXBlLCBsaXN0ZW5lckZuLCBjb250ZXh0KTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBVbmxpa2UgYG9mZmAgb3IgYHJlbW92ZUxpc3RlbmVyYCB3aGljaCBhcmUgbWV0aG9kcyBmcm9tIEV2ZW50RW1pdHRlciwgYHJlbW92ZUV2ZW50TGlzdGVuZXJgXG4gICAqIHNlZWtzIHRvIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgRE9NJ3MgYHJlbW92ZUV2ZW50TGlzdGVuZXJgIHdpdGggc3VwcG9ydCBmb3Igb3B0aW9ucy5cbiAgICogQG1lbWJlcm9mIHNjZW5lLkNvbnRhaW5lclxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGV2ZW50IHRoZSBsaXN0ZW5lciBpcyBib3VuZCB0by5cbiAgICogQHBhcmFtIGxpc3RlbmVyIC0gVGhlIGxpc3RlbmVyIGNhbGxiYWNrIG9yIG9iamVjdC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3JpZ2luYWwgbGlzdGVuZXIgb3B0aW9ucy4gVGhpcyBpcyByZXF1aXJlZCB0byBkZXJlZ2lzdGVyIGEgY2FwdHVyZSBwaGFzZSBsaXN0ZW5lci5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYXB0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiICYmIG9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5jYXB0dXJlO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IHZvaWQgMCA6IGxpc3RlbmVyO1xuICAgIHR5cGUgPSBjYXB0dXJlID8gYCR7dHlwZX1jYXB0dXJlYCA6IHR5cGU7XG4gICAgbGlzdGVuZXIgPSB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiA/IGxpc3RlbmVyIDogbGlzdGVuZXIuaGFuZGxlRXZlbnQ7XG4gICAgdGhpcy5vZmYodHlwZSwgbGlzdGVuZXIsIGNvbnRleHQpO1xuICB9LFxuICAvKipcbiAgICogRGlzcGF0Y2ggdGhlIGV2ZW50IG9uIHRoaXMge0BsaW5rIENvbnRhaW5lcn0gdXNpbmcgdGhlIGV2ZW50J3Mge0BsaW5rIEV2ZW50Qm91bmRhcnl9LlxuICAgKlxuICAgKiBUaGUgdGFyZ2V0IG9mIHRoZSBldmVudCBpcyBzZXQgdG8gYHRoaXNgIGFuZCB0aGUgYGRlZmF1bHRQcmV2ZW50ZWRgIGZsYWcgaXMgY2xlYXJlZCBiZWZvcmUgZGlzcGF0Y2guXG4gICAqIEBtZW1iZXJvZiBzY2VuZS5Db250YWluZXJcbiAgICogQHBhcmFtIGUgLSBUaGUgZXZlbnQgdG8gZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHtAbGluayBGZWRlcmF0ZWRFdmVudC5wcmV2ZW50RGVmYXVsdCBwcmV2ZW50RGVmYXVsdH0oKSBtZXRob2Qgd2FzIG5vdCBpbnZva2VkLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBSZXVzZSBhIGNsaWNrIGV2ZW50IVxuICAgKiBidXR0b24uZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50KTtcbiAgICovXG4gIGRpc3BhdGNoRXZlbnQoZSkge1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBGZWRlcmF0ZWRFdmVudCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBjYW5ub3QgcHJvcGFnYXRlIGV2ZW50cyBvdXRzaWRlIG9mIHRoZSBGZWRlcmF0ZWQgRXZlbnRzIEFQSVwiKTtcbiAgICB9XG4gICAgZS5kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgZS5wYXRoID0gbnVsbDtcbiAgICBlLnRhcmdldCA9IHRoaXM7XG4gICAgZS5tYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgcmV0dXJuICFlLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCB7IEZlZGVyYXRlZENvbnRhaW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkRXZlbnRUYXJnZXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgRXZlbnRTeXN0ZW0gfSBmcm9tICcuL0V2ZW50U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRDb250YWluZXIgfSBmcm9tICcuL0ZlZGVyYXRlZEV2ZW50VGFyZ2V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoRXZlbnRTeXN0ZW0pO1xuQ29udGFpbmVyLm1peGluKEZlZGVyYXRlZENvbnRhaW5lcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBicm93c2VyRXh0ID0ge1xuICBleHRlbnNpb246IHtcbiAgICB0eXBlOiBFeHRlbnNpb25UeXBlLkVudmlyb25tZW50LFxuICAgIG5hbWU6IFwiYnJvd3NlclwiLFxuICAgIHByaW9yaXR5OiAtMVxuICB9LFxuICB0ZXN0OiAoKSA9PiB0cnVlLFxuICBsb2FkOiBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgaW1wb3J0KCcuL2Jyb3dzZXJBbGwubWpzJyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGJyb3dzZXJFeHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJFeHQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHdlYndvcmtlckV4dCA9IHtcbiAgZXh0ZW5zaW9uOiB7XG4gICAgdHlwZTogRXh0ZW5zaW9uVHlwZS5FbnZpcm9ubWVudCxcbiAgICBuYW1lOiBcIndlYndvcmtlclwiLFxuICAgIHByaW9yaXR5OiAwXG4gIH0sXG4gIHRlc3Q6ICgpID0+IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuV29ya2VyR2xvYmFsU2NvcGUgIT09IHZvaWQgMCxcbiAgbG9hZDogYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGltcG9ydCgnLi93ZWJ3b3JrZXJBbGwubWpzJyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IHdlYndvcmtlckV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2Vid29ya2VyRXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEJyb3dzZXJBZGFwdGVyIH0gZnJvbSAnLi4vZW52aXJvbm1lbnQtYnJvd3Nlci9Ccm93c2VyQWRhcHRlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBjdXJyZW50QWRhcHRlciA9IEJyb3dzZXJBZGFwdGVyO1xuY29uc3QgRE9NQWRhcHRlciA9IHtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgYWRhcHRlci5cbiAgICogQHJldHVybnMge2Vudmlyb25tZW50LkFkYXB0ZXJ9IFRoZSBjdXJyZW50IGFkYXB0ZXIuXG4gICAqL1xuICBnZXQoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRBZGFwdGVyO1xuICB9LFxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBhZGFwdGVyLlxuICAgKiBAcGFyYW0gYWRhcHRlciAtIFRoZSBuZXcgYWRhcHRlci5cbiAgICovXG4gIHNldChhZGFwdGVyKSB7XG4gICAgY3VycmVudEFkYXB0ZXIgPSBhZGFwdGVyO1xuICB9XG59O1xuXG5leHBvcnQgeyBET01BZGFwdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGFwdGVyLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgQnJvd3NlckFkYXB0ZXIgPSB7XG4gIGNyZWF0ZUNhbnZhczogKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfSxcbiAgZ2V0Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEOiAoKSA9PiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIGdldFdlYkdMUmVuZGVyaW5nQ29udGV4dDogKCkgPT4gV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxuICBnZXROYXZpZ2F0b3I6ICgpID0+IG5hdmlnYXRvcixcbiAgZ2V0QmFzZVVybDogKCkgPT4gZG9jdW1lbnQuYmFzZVVSSSA/PyB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgZ2V0Rm9udEZhY2VTZXQ6ICgpID0+IGRvY3VtZW50LmZvbnRzLFxuICBmZXRjaDogKHVybCwgb3B0aW9ucykgPT4gZmV0Y2godXJsLCBvcHRpb25zKSxcbiAgcGFyc2VYTUw6ICh4bWwpID0+IHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sLCBcInRleHQveG1sXCIpO1xuICB9XG59O1xuXG5leHBvcnQgeyBCcm93c2VyQWRhcHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckFkYXB0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGVudmlyb25tZW50cyA9IFtdO1xuZXh0ZW5zaW9ucy5oYW5kbGVCeU5hbWVkTGlzdChFeHRlbnNpb25UeXBlLkVudmlyb25tZW50LCBlbnZpcm9ubWVudHMpO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEVudmlyb25tZW50RXh0ZW5zaW9ucyhza2lwKSB7XG4gIGlmIChza2lwKVxuICAgIHJldHVybjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnZpcm9ubWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbnYgPSBlbnZpcm9ubWVudHNbaV07XG4gICAgaWYgKGVudi52YWx1ZS50ZXN0KCkpIHtcbiAgICAgIGF3YWl0IGVudi52YWx1ZS5sb2FkKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5hc3luYyBmdW5jdGlvbiBhdXRvRGV0ZWN0RW52aXJvbm1lbnQoYWRkKSB7XG4gIHJldHVybiBsb2FkRW52aXJvbm1lbnRFeHRlbnNpb25zKCFhZGQpO1xufVxuXG5leHBvcnQgeyBhdXRvRGV0ZWN0RW52aXJvbm1lbnQsIGxvYWRFbnZpcm9ubWVudEV4dGVuc2lvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9EZXRlY3RFbnZpcm9ubWVudC5tanMubWFwXG4iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmVkZXJhdGVkRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIG1hbmFnZXIgLSBUaGUgZXZlbnQgYm91bmRhcnkgd2hpY2ggbWFuYWdlcyB0aGlzIGV2ZW50LiBQcm9wYWdhdGlvbiBjYW4gb25seSBvY2N1clxuICAgKiAgd2l0aGluIHRoZSBib3VuZGFyeSdzIGp1cmlzZGljdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICAvKiogRmxhZ3Mgd2hldGhlciB0aGlzIGV2ZW50IGJ1YmJsZXMuIFRoaXMgd2lsbCB0YWtlIGVmZmVjdCBvbmx5IGlmIGl0IGlzIHNldCBiZWZvcmUgcHJvcGFnYXRpb24uICovXG4gICAgdGhpcy5idWJibGVzID0gdHJ1ZTtcbiAgICAvKiogQGRlcHJlY2F0ZWQgc2luY2UgNy4wLjAgKi9cbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogRmxhZ3Mgd2hldGhlciB0aGlzIGV2ZW50IGNhbiBiZSBjYW5jZWxlZCB1c2luZyB7QGxpbmsgRmVkZXJhdGVkRXZlbnQucHJldmVudERlZmF1bHR9LiBUaGlzIGlzIGFsd2F5c1xuICAgICAqIGZhbHNlIChmb3Igbm93KS5cbiAgICAgKi9cbiAgICB0aGlzLmNhbmNlbGFibGUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBGbGFnIGFkZGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggRE9NIHtAY29kZSBFdmVudH0uIEl0IGlzIG5vdCB1c2VkIGluIHRoZSBGZWRlcmF0ZWQgRXZlbnRzXG4gICAgICogQVBJLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNkb20tZXZlbnQtY29tcG9zZWRcbiAgICAgKi9cbiAgICB0aGlzLmNvbXBvc2VkID0gZmFsc2U7XG4gICAgLyoqIEZsYWdzIHdoZXRoZXIgdGhlIGRlZmF1bHQgcmVzcG9uc2Ugb2YgdGhlIHVzZXIgYWdlbnQgd2FzIHByZXZlbnQgdGhyb3VnaCB0aGlzIGV2ZW50LiAqL1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9wYWdhdGlvbiBwaGFzZS5cbiAgICAgKiBAZGVmYXVsdCB7QGxpbmsgRmVkZXJhdGVkRXZlbnQuTk9ORX1cbiAgICAgKi9cbiAgICB0aGlzLmV2ZW50UGhhc2UgPSBGZWRlcmF0ZWRFdmVudC5wcm90b3R5cGUuTk9ORTtcbiAgICAvKiogRmxhZ3Mgd2hldGhlciBwcm9wYWdhdGlvbiB3YXMgc3RvcHBlZC4gKi9cbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuICAgIC8qKiBGbGFncyB3aGV0aGVyIHByb3BhZ2F0aW9uIHdhcyBpbW1lZGlhdGVseSBzdG9wcGVkLiAqL1xuICAgIHRoaXMucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQgPSBmYWxzZTtcbiAgICAvKiogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgbmVhcmVzdCBET00gbGF5ZXIuIFRoaXMgaXMgYSBub24tc3RhbmRhcmQgcHJvcGVydHkuICovXG4gICAgdGhpcy5sYXllciA9IG5ldyBQb2ludCgpO1xuICAgIC8qKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBET00gZG9jdW1lbnQuIFRoaXMgaXMgYSBub24tc3RhbmRhcmQgcHJvcGVydHkuICovXG4gICAgdGhpcy5wYWdlID0gbmV3IFBvaW50KCk7XG4gICAgdGhpcy5OT05FID0gMDtcbiAgICB0aGlzLkNBUFRVUklOR19QSEFTRSA9IDE7XG4gICAgdGhpcy5BVF9UQVJHRVQgPSAyO1xuICAgIHRoaXMuQlVCQkxJTkdfUEhBU0UgPSAzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgbGF5ZXJYKCkge1xuICAgIHJldHVybiB0aGlzLmxheWVyLng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgbGF5ZXJZKCkge1xuICAgIHJldHVybiB0aGlzLmxheWVyLnk7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgcGFnZVgoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZS54O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IHBhZ2VZKCkge1xuICAgIHJldHVybiB0aGlzLnBhZ2UueTtcbiAgfVxuICAvKipcbiAgICogRmFsbGJhY2sgZm9yIHRoZSBkZXByZWNhdGVkIEBjb2Rle0ludGVyYWN0aW9uRXZlbnQuZGF0YX0uXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDcuMC4wXG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogVGhlIHByb3BhZ2F0aW9uIHBhdGggZm9yIHRoaXMgZXZlbnQuIEFsaWFzIGZvciB7QGxpbmsgRXZlbnRCb3VuZGFyeS5wcm9wYWdhdGlvblBhdGh9LiAqL1xuICBjb21wb3NlZFBhdGgoKSB7XG4gICAgaWYgKHRoaXMubWFuYWdlciAmJiAoIXRoaXMucGF0aCB8fCB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdICE9PSB0aGlzLnRhcmdldCkpIHtcbiAgICAgIHRoaXMucGF0aCA9IHRoaXMudGFyZ2V0ID8gdGhpcy5tYW5hZ2VyLnByb3BhZ2F0aW9uUGF0aCh0aGlzLnRhcmdldCkgOiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGF0aDtcbiAgfVxuICAvKipcbiAgICogVW5pbXBsZW1lbnRlZCBtZXRob2QgaW5jbHVkZWQgZm9yIGltcGxlbWVudGluZyB0aGUgRE9NIGludGVyZmFjZSB7QGNvZGUgRXZlbnR9LiBJdCB3aWxsIHRocm93IGFuIHtAY29kZSBFcnJvcn0uXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBwYXJhbSBfdHlwZVxuICAgKiBAcGFyYW0gX2J1YmJsZXNcbiAgICogQHBhcmFtIF9jYW5jZWxhYmxlXG4gICAqL1xuICBpbml0RXZlbnQoX3R5cGUsIF9idWJibGVzLCBfY2FuY2VsYWJsZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImluaXRFdmVudCgpIGlzIGEgbGVnYWN5IERPTSBBUEkuIEl0IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGUgRmVkZXJhdGVkIEV2ZW50cyBBUEkuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBVbmltcGxlbWVudGVkIG1ldGhvZCBpbmNsdWRlZCBmb3IgaW1wbGVtZW50aW5nIHRoZSBET00gaW50ZXJmYWNlIHtAY29kZSBVSUV2ZW50fS4gSXQgd2lsbCB0aHJvdyBhbiB7QGNvZGUgRXJyb3J9LlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAcGFyYW0gX3R5cGVBcmdcbiAgICogQHBhcmFtIF9idWJibGVzQXJnXG4gICAqIEBwYXJhbSBfY2FuY2VsYWJsZUFyZ1xuICAgKiBAcGFyYW0gX3ZpZXdBcmdcbiAgICogQHBhcmFtIF9kZXRhaWxBcmdcbiAgICovXG4gIGluaXRVSUV2ZW50KF90eXBlQXJnLCBfYnViYmxlc0FyZywgX2NhbmNlbGFibGVBcmcsIF92aWV3QXJnLCBfZGV0YWlsQXJnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW5pdFVJRXZlbnQoKSBpcyBhIGxlZ2FjeSBET00gQVBJLiBJdCBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJLlwiKTtcbiAgfVxuICAvKiogUHJldmVudCBkZWZhdWx0IGJlaGF2aW9yIG9mIFBpeGlKUyBhbmQgdGhlIHVzZXIgYWdlbnQuICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIGlmICh0aGlzLm5hdGl2ZUV2ZW50IGluc3RhbmNlb2YgRXZlbnQgJiYgdGhpcy5uYXRpdmVFdmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICB0aGlzLm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhpcyBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHRvIGFueSBhZGRpdGlvbiBsaXN0ZW5lcnMsIGluY2x1ZGluZyBvbiB0aGVcbiAgICoge0BsaW5rIEZlZGVyYXRlZEV2ZW50VGFyZ2V0LmN1cnJlbnRUYXJnZXQgY3VycmVudFRhcmdldH0gYW5kIGFsc28gdGhlIGZvbGxvd2luZ1xuICAgKiBldmVudCB0YXJnZXRzIG9uIHRoZSBwcm9wYWdhdGlvbiBwYXRoLlxuICAgKi9cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBTdG9wIHRoaXMgZXZlbnQgZnJvbSBwcm9wYWdhdGluZyB0byB0aGUgbmV4dCB7QGxpbmsgRmVkZXJhdGVkRXZlbnRUYXJnZXR9LiBUaGUgcmVzdCBvZiB0aGUgbGlzdGVuZXJzXG4gICAqIG9uIHRoZSB7QGxpbmsgRmVkZXJhdGVkRXZlbnRUYXJnZXQuY3VycmVudFRhcmdldCBjdXJyZW50VGFyZ2V0fSB3aWxsIHN0aWxsIGJlIG5vdGlmaWVkLlxuICAgKi9cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkRXZlbnQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgRXh0ZW5zaW9uVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEV4dGVuc2lvblR5cGUyKSA9PiB7XG4gIEV4dGVuc2lvblR5cGUyW1wiQXBwbGljYXRpb25cIl0gPSBcImFwcGxpY2F0aW9uXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiV2ViR0xQaXBlc1wiXSA9IFwid2ViZ2wtcGlwZXNcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJXZWJHTFBpcGVzQWRhcHRvclwiXSA9IFwid2ViZ2wtcGlwZXMtYWRhcHRvclwiO1xuICBFeHRlbnNpb25UeXBlMltcIldlYkdMU3lzdGVtXCJdID0gXCJ3ZWJnbC1zeXN0ZW1cIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJXZWJHUFVQaXBlc1wiXSA9IFwid2ViZ3B1LXBpcGVzXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiV2ViR1BVUGlwZXNBZGFwdG9yXCJdID0gXCJ3ZWJncHUtcGlwZXMtYWRhcHRvclwiO1xuICBFeHRlbnNpb25UeXBlMltcIldlYkdQVVN5c3RlbVwiXSA9IFwid2ViZ3B1LXN5c3RlbVwiO1xuICBFeHRlbnNpb25UeXBlMltcIkNhbnZhc1N5c3RlbVwiXSA9IFwiY2FudmFzLXN5c3RlbVwiO1xuICBFeHRlbnNpb25UeXBlMltcIkNhbnZhc1BpcGVzQWRhcHRvclwiXSA9IFwiY2FudmFzLXBpcGVzLWFkYXB0b3JcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJDYW52YXNQaXBlc1wiXSA9IFwiY2FudmFzLXBpcGVzXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiQXNzZXRcIl0gPSBcImFzc2V0XCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiTG9hZFBhcnNlclwiXSA9IFwibG9hZC1wYXJzZXJcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJSZXNvbHZlUGFyc2VyXCJdID0gXCJyZXNvbHZlLXBhcnNlclwiO1xuICBFeHRlbnNpb25UeXBlMltcIkNhY2hlUGFyc2VyXCJdID0gXCJjYWNoZS1wYXJzZXJcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJEZXRlY3Rpb25QYXJzZXJcIl0gPSBcImRldGVjdGlvbi1wYXJzZXJcIjtcbiAgRXh0ZW5zaW9uVHlwZTJbXCJNYXNrRWZmZWN0XCJdID0gXCJtYXNrLWVmZmVjdFwiO1xuICBFeHRlbnNpb25UeXBlMltcIkJsZW5kTW9kZVwiXSA9IFwiYmxlbmQtbW9kZVwiO1xuICBFeHRlbnNpb25UeXBlMltcIlRleHR1cmVTb3VyY2VcIl0gPSBcInRleHR1cmUtc291cmNlXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiRW52aXJvbm1lbnRcIl0gPSBcImVudmlyb25tZW50XCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiU2hhcGVCdWlsZGVyXCJdID0gXCJzaGFwZS1idWlsZGVyXCI7XG4gIEV4dGVuc2lvblR5cGUyW1wiQmF0Y2hlclwiXSA9IFwiYmF0Y2hlclwiO1xuICByZXR1cm4gRXh0ZW5zaW9uVHlwZTI7XG59KShFeHRlbnNpb25UeXBlIHx8IHt9KTtcbmNvbnN0IG5vcm1hbGl6ZUV4dGVuc2lvbiA9IChleHQpID0+IHtcbiAgaWYgKHR5cGVvZiBleHQgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgZXh0ID09PSBcIm9iamVjdFwiICYmIGV4dC5leHRlbnNpb24pIHtcbiAgICBpZiAoIWV4dC5leHRlbnNpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4dGVuc2lvbiBjbGFzcyBtdXN0IGhhdmUgYW4gZXh0ZW5zaW9uIG9iamVjdFwiKTtcbiAgICB9XG4gICAgY29uc3QgbWV0YWRhdGEgPSB0eXBlb2YgZXh0LmV4dGVuc2lvbiAhPT0gXCJvYmplY3RcIiA/IHsgdHlwZTogZXh0LmV4dGVuc2lvbiB9IDogZXh0LmV4dGVuc2lvbjtcbiAgICBleHQgPSB7IC4uLm1ldGFkYXRhLCByZWY6IGV4dCB9O1xuICB9XG4gIGlmICh0eXBlb2YgZXh0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgZXh0ID0geyAuLi5leHQgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV4dGVuc2lvbiB0eXBlXCIpO1xuICB9XG4gIGlmICh0eXBlb2YgZXh0LnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBleHQudHlwZSA9IFtleHQudHlwZV07XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn07XG5jb25zdCBub3JtYWxpemVFeHRlbnNpb25Qcmlvcml0eSA9IChleHQsIGRlZmF1bHRQcmlvcml0eSkgPT4gbm9ybWFsaXplRXh0ZW5zaW9uKGV4dCkucHJpb3JpdHkgPz8gZGVmYXVsdFByaW9yaXR5O1xuY29uc3QgZXh0ZW5zaW9ucyA9IHtcbiAgLyoqIEBpZ25vcmUgKi9cbiAgX2FkZEhhbmRsZXJzOiB7fSxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgX3JlbW92ZUhhbmRsZXJzOiB7fSxcbiAgLyoqIEBpZ25vcmUgKi9cbiAgX3F1ZXVlOiB7fSxcbiAgLyoqXG4gICAqIFJlbW92ZSBleHRlbnNpb25zIGZyb20gUGl4aUpTLlxuICAgKiBAcGFyYW0gZXh0ZW5zaW9ucyAtIEV4dGVuc2lvbnMgdG8gYmUgcmVtb3ZlZC5cbiAgICogQHJldHVybnMge2V4dGVuc2lvbnN9IEZvciBjaGFpbmluZy5cbiAgICovXG4gIHJlbW92ZSguLi5leHRlbnNpb25zMikge1xuICAgIGV4dGVuc2lvbnMyLm1hcChub3JtYWxpemVFeHRlbnNpb24pLmZvckVhY2goKGV4dCkgPT4ge1xuICAgICAgZXh0LnR5cGUuZm9yRWFjaCgodHlwZSkgPT4gdGhpcy5fcmVtb3ZlSGFuZGxlcnNbdHlwZV0/LihleHQpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIG5ldyBleHRlbnNpb25zIHdpdGggUGl4aUpTLlxuICAgKiBAcGFyYW0gZXh0ZW5zaW9ucyAtIFRoZSBzcHJlYWQgb2YgZXh0ZW5zaW9ucyB0byBhZGQgdG8gUGl4aUpTLlxuICAgKiBAcmV0dXJucyB7ZXh0ZW5zaW9uc30gRm9yIGNoYWluaW5nLlxuICAgKi9cbiAgYWRkKC4uLmV4dGVuc2lvbnMyKSB7XG4gICAgZXh0ZW5zaW9uczIubWFwKG5vcm1hbGl6ZUV4dGVuc2lvbikuZm9yRWFjaCgoZXh0KSA9PiB7XG4gICAgICBleHQudHlwZS5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5fYWRkSGFuZGxlcnM7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgICAgIGlmICghaGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgICBxdWV1ZVt0eXBlXSA9IHF1ZXVlW3R5cGVdIHx8IFtdO1xuICAgICAgICAgIHF1ZXVlW3R5cGVdPy5wdXNoKGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlcnNbdHlwZV0/LihleHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLyoqXG4gICAqIEludGVybmFsIG1ldGhvZCB0byBoYW5kbGUgZXh0ZW5zaW9ucyBieSBuYW1lLlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSBleHRlbnNpb24gdHlwZS5cbiAgICogQHBhcmFtIG9uQWRkICAtIEZ1bmN0aW9uIGhhbmRsZXIgd2hlbiBleHRlbnNpb25zIGFyZSBhZGRlZC9yZWdpc3RlcmVkIHtAbGluayBTdHJpY3RFeHRlbnNpb25Gb3JtYXR9LlxuICAgKiBAcGFyYW0gb25SZW1vdmUgIC0gRnVuY3Rpb24gaGFuZGxlciB3aGVuIGV4dGVuc2lvbnMgYXJlIHJlbW92ZWQvdW5yZWdpc3RlcmVkIHtAbGluayBTdHJpY3RFeHRlbnNpb25Gb3JtYXR9LlxuICAgKiBAcmV0dXJucyB7ZXh0ZW5zaW9uc30gRm9yIGNoYWluaW5nLlxuICAgKi9cbiAgaGFuZGxlKHR5cGUsIG9uQWRkLCBvblJlbW92ZSkge1xuICAgIGNvbnN0IGFkZEhhbmRsZXJzID0gdGhpcy5fYWRkSGFuZGxlcnM7XG4gICAgY29uc3QgcmVtb3ZlSGFuZGxlcnMgPSB0aGlzLl9yZW1vdmVIYW5kbGVycztcbiAgICBpZiAoYWRkSGFuZGxlcnNbdHlwZV0gfHwgcmVtb3ZlSGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXh0ZW5zaW9uIHR5cGUgJHt0eXBlfSBhbHJlYWR5IGhhcyBhIGhhbmRsZXJgKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcnNbdHlwZV0gPSBvbkFkZDtcbiAgICByZW1vdmVIYW5kbGVyc1t0eXBlXSA9IG9uUmVtb3ZlO1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgaWYgKHF1ZXVlW3R5cGVdKSB7XG4gICAgICBxdWV1ZVt0eXBlXT8uZm9yRWFjaCgoZXh0KSA9PiBvbkFkZChleHQpKTtcbiAgICAgIGRlbGV0ZSBxdWV1ZVt0eXBlXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8qKlxuICAgKiBIYW5kbGUgYSB0eXBlLCBidXQgdXNpbmcgYSBtYXAgYnkgYG5hbWVgIHByb3BlcnR5LlxuICAgKiBAcGFyYW0gdHlwZSAtIFR5cGUgb2YgZXh0ZW5zaW9uIHRvIGhhbmRsZS5cbiAgICogQHBhcmFtIG1hcCAtIFRoZSBvYmplY3QgbWFwIG9mIG5hbWVkIGV4dGVuc2lvbnMuXG4gICAqIEByZXR1cm5zIHtleHRlbnNpb25zfSBGb3IgY2hhaW5pbmcuXG4gICAqL1xuICBoYW5kbGVCeU1hcCh0eXBlLCBtYXApIHtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGUoXG4gICAgICB0eXBlLFxuICAgICAgKGV4dGVuc2lvbikgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uLm5hbWUpIHtcbiAgICAgICAgICBtYXBbZXh0ZW5zaW9uLm5hbWVdID0gZXh0ZW5zaW9uLnJlZjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChleHRlbnNpb24pID0+IHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbi5uYW1lKSB7XG4gICAgICAgICAgZGVsZXRlIG1hcFtleHRlbnNpb24ubmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9LFxuICAvKipcbiAgICogSGFuZGxlIGEgdHlwZSwgYnV0IHVzaW5nIGEgbGlzdCBvZiBleHRlbnNpb25zIHdpdGggYSBgbmFtZWAgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB0eXBlIC0gVHlwZSBvZiBleHRlbnNpb24gdG8gaGFuZGxlLlxuICAgKiBAcGFyYW0gbWFwIC0gVGhlIGFycmF5IG9mIG5hbWVkIGV4dGVuc2lvbnMuXG4gICAqIEBwYXJhbSBkZWZhdWx0UHJpb3JpdHkgLSBGYWxsYmFjayBwcmlvcml0eSBpZiBub25lIGlzIGRlZmluZWQuXG4gICAqIEByZXR1cm5zIHtleHRlbnNpb25zfSBGb3IgY2hhaW5pbmcuXG4gICAqL1xuICBoYW5kbGVCeU5hbWVkTGlzdCh0eXBlLCBtYXAsIGRlZmF1bHRQcmlvcml0eSA9IC0xKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlKFxuICAgICAgdHlwZSxcbiAgICAgIChleHRlbnNpb24pID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBtYXAuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IGV4dGVuc2lvbi5uYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBtYXAucHVzaCh7IG5hbWU6IGV4dGVuc2lvbi5uYW1lLCB2YWx1ZTogZXh0ZW5zaW9uLnJlZiB9KTtcbiAgICAgICAgbWFwLnNvcnQoKGEsIGIpID0+IG5vcm1hbGl6ZUV4dGVuc2lvblByaW9yaXR5KGIudmFsdWUsIGRlZmF1bHRQcmlvcml0eSkgLSBub3JtYWxpemVFeHRlbnNpb25Qcmlvcml0eShhLnZhbHVlLCBkZWZhdWx0UHJpb3JpdHkpKTtcbiAgICAgIH0sXG4gICAgICAoZXh0ZW5zaW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbWFwLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5uYW1lID09PSBleHRlbnNpb24ubmFtZSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBtYXAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIC8qKlxuICAgKiBIYW5kbGUgYSB0eXBlLCBidXQgdXNpbmcgYSBsaXN0IG9mIGV4dGVuc2lvbnMuXG4gICAqIEBwYXJhbSB0eXBlIC0gVHlwZSBvZiBleHRlbnNpb24gdG8gaGFuZGxlLlxuICAgKiBAcGFyYW0gbGlzdCAtIFRoZSBsaXN0IG9mIGV4dGVuc2lvbnMuXG4gICAqIEBwYXJhbSBkZWZhdWx0UHJpb3JpdHkgLSBUaGUgZGVmYXVsdCBwcmlvcml0eSB0byB1c2UgaWYgbm9uZSBpcyBzcGVjaWZpZWQuXG4gICAqIEByZXR1cm5zIHtleHRlbnNpb25zfSBGb3IgY2hhaW5pbmcuXG4gICAqL1xuICBoYW5kbGVCeUxpc3QodHlwZSwgbGlzdCwgZGVmYXVsdFByaW9yaXR5ID0gLTEpIHtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGUoXG4gICAgICB0eXBlLFxuICAgICAgKGV4dGVuc2lvbikgPT4ge1xuICAgICAgICBpZiAobGlzdC5pbmNsdWRlcyhleHRlbnNpb24ucmVmKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsaXN0LnB1c2goZXh0ZW5zaW9uLnJlZik7XG4gICAgICAgIGxpc3Quc29ydCgoYSwgYikgPT4gbm9ybWFsaXplRXh0ZW5zaW9uUHJpb3JpdHkoYiwgZGVmYXVsdFByaW9yaXR5KSAtIG5vcm1hbGl6ZUV4dGVuc2lvblByaW9yaXR5KGEsIGRlZmF1bHRQcmlvcml0eSkpO1xuICAgICAgfSxcbiAgICAgIChleHRlbnNpb24pID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YoZXh0ZW5zaW9uLnJlZik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zLCBub3JtYWxpemVFeHRlbnNpb25Qcmlvcml0eSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXh0ZW5zaW9ucy5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9GaWx0ZXIgPSBjbGFzcyBfRmlsdGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMgb2YgdGhpcyBmaWx0ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0ZpbHRlci5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIC8qKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC4gKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBncHUgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IG9wdGlvbnMuYmxlbmRNb2RlO1xuICAgIHRoaXMucGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuYW50aWFsaWFzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5hbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhcyA/IFwib25cIiA6IFwib2ZmXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW50aWFsaWFzID0gb3B0aW9ucy5hbnRpYWxpYXM7XG4gICAgfVxuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICB0aGlzLmJsZW5kUmVxdWlyZWQgPSBvcHRpb25zLmJsZW5kUmVxdWlyZWQ7XG4gICAgdGhpcy5jbGlwVG9WaWV3cG9ydCA9IG9wdGlvbnMuY2xpcFRvVmlld3BvcnQ7XG4gICAgdGhpcy5hZGRSZXNvdXJjZShcInVUZXh0dXJlXCIsIDAsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAqIEBwYXJhbSBjbGVhck1vZGUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICovXG4gIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBibGVuZCBtb2RlIG9mIHRoZSBmaWx0ZXIuXG4gICAqIEBkZWZhdWx0IFwibm9ybWFsXCJcbiAgICovXG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmJsZW5kTW9kZTtcbiAgfVxuICAvKiogU2V0cyB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgZmlsdGVyLiAqL1xuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5fc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBmaWx0ZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlciBzcmMuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm5zIEEgc2hpbnkgbmV3IFBpeGlKUyBmaWx0ZXIhXG4gICAqL1xuICBzdGF0aWMgZnJvbShvcHRpb25zKSB7XG4gICAgY29uc3QgeyBncHUsIGdsLCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICAgIGxldCBncHVQcm9ncmFtO1xuICAgIGxldCBnbFByb2dyYW07XG4gICAgaWYgKGdwdSkge1xuICAgICAgZ3B1UHJvZ3JhbSA9IEdwdVByb2dyYW0uZnJvbShncHUpO1xuICAgIH1cbiAgICBpZiAoZ2wpIHtcbiAgICAgIGdsUHJvZ3JhbSA9IEdsUHJvZ3JhbS5mcm9tKGdsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfRmlsdGVyKHtcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICBnbFByb2dyYW0sXG4gICAgICAuLi5yZXN0XG4gICAgfSk7XG4gIH1cbn07XG4vKipcbiAqIFRoZSBkZWZhdWx0IGZpbHRlciBzZXR0aW5nc1xuICogQHN0YXRpY1xuICovXG5fRmlsdGVyLmRlZmF1bHRPcHRpb25zID0ge1xuICBibGVuZE1vZGU6IFwibm9ybWFsXCIsXG4gIHJlc29sdXRpb246IDEsXG4gIHBhZGRpbmc6IDAsXG4gIGFudGlhbGlhczogXCJvZmZcIixcbiAgYmxlbmRSZXF1aXJlZDogZmFsc2UsXG4gIGNsaXBUb1ZpZXdwb3J0OiB0cnVlXG59O1xubGV0IEZpbHRlciA9IF9GaWx0ZXI7XG5cbmV4cG9ydCB7IEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmlsdGVyRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIHRoZSBwaXBlIHRoYXQga25vd3MgaG93IHRvIGhhbmRsZSB0aGlzIGVmZmVjdCAqL1xuICAgIHRoaXMucGlwZSA9IFwiZmlsdGVyXCI7XG4gICAgLyoqIHRoZSBwcmlvcml0eSBvZiB0aGlzIGVmZmVjdCAqL1xuICAgIHRoaXMucHJpb3JpdHkgPSAxO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZmlsdGVyc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBGaWx0ZXJFZmZlY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlckVmZmVjdC5tanMubWFwXG4iLCJ2YXIgc291cmNlID0gXCJzdHJ1Y3QgR2xvYmFsRmlsdGVyVW5pZm9ybXMge1xcbiAgdUlucHV0U2l6ZTp2ZWM0PGYzMj4sXFxuICB1SW5wdXRQaXhlbDp2ZWM0PGYzMj4sXFxuICB1SW5wdXRDbGFtcDp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0RnJhbWU6dmVjNDxmMzI+LFxcbiAgdUdsb2JhbEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVPdXRwdXRUZXh0dXJlOnZlYzQ8ZjMyPixcXG59O1xcblxcbnN0cnVjdCBBbHBoYVVuaWZvcm1zIHtcXG4gIHVBbHBoYTpmMzIsXFxufTtcXG5cXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdmdTogR2xvYmFsRmlsdGVyVW5pZm9ybXM7XFxuQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXIgOiBzYW1wbGVyO1xcblxcbkBncm91cCgxKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gYWxwaGFVbmlmb3JtcyA6IEFscGhhVW5pZm9ybXM7XFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAgIEBsb2NhdGlvbigwKSB1diA6IHZlYzI8ZjMyPlxcbiAgfTtcXG5cXG5mbiBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb246dmVjMjxmMzI+KSAtPiB2ZWM0PGYzMj5cXG57XFxuICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIGdmdS51T3V0cHV0RnJhbWUuencgKyBnZnUudU91dHB1dEZyYW1lLnh5O1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqICgyLjAgLyBnZnUudU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCpnZnUudU91dHB1dFRleHR1cmUueiAvIGdmdS51T3V0cHV0VGV4dHVyZS55KSAtIGdmdS51T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG5mbiBmaWx0ZXJUZXh0dXJlQ29vcmQoIGFQb3NpdGlvbjp2ZWMyPGYzMj4gKSAtPiB2ZWMyPGYzMj5cXG57XFxuICAgIHJldHVybiBhUG9zaXRpb24gKiAoZ2Z1LnVPdXRwdXRGcmFtZS56dyAqIGdmdS51SW5wdXRTaXplLnp3KTtcXG59XFxuXFxuZm4gZ2xvYmFsVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICAoYVBvc2l0aW9uLnh5IC8gZ2Z1LnVHbG9iYWxGcmFtZS56dykgKyAoZ2Z1LnVHbG9iYWxGcmFtZS54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpOyAgXFxufVxcblxcbmZuIGdldFNpemUoKSAtPiB2ZWMyPGYzMj5cXG57XFxuICByZXR1cm4gZ2Z1LnVHbG9iYWxGcmFtZS56dztcXG59XFxuICBcXG5AdmVydGV4XFxuZm4gbWFpblZlcnRleChcXG4gIEBsb2NhdGlvbigwKSBhUG9zaXRpb24gOiB2ZWMyPGYzMj4sIFxcbikgLT4gVlNPdXRwdXQge1xcbiAgcmV0dXJuIFZTT3V0cHV0KFxcbiAgIGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbiksXFxuICAgZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbilcXG4gICk7XFxufVxcblxcbkBmcmFnbWVudFxcbmZuIG1haW5GcmFnbWVudChcXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMjxmMzI+LFxcbiAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj5cXG4pIC0+IEBsb2NhdGlvbigwKSB2ZWM0PGYzMj4ge1xcbiBcXG4gICAgdmFyIHNhbXBsZSA9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCB1dik7XFxuICAgIFxcbiAgICByZXR1cm4gc2FtcGxlICogYWxwaGFVbmlmb3Jtcy51QWxwaGE7XFxufVwiO1xuXG5leHBvcnQgeyBzb3VyY2UgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxwaGEud2dzbC5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi4vLi4vRmlsdGVyLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4uL2RlZmF1bHRGaWx0ZXIudmVydC5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vYWxwaGEuZnJhZy5tanMnO1xuaW1wb3J0IHNvdXJjZSBmcm9tICcuL2FscGhhLndnc2wubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQWxwaGFGaWx0ZXIgPSBjbGFzcyBfQWxwaGFGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0FscGhhRmlsdGVyLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgZ3B1UHJvZ3JhbSA9IEdwdVByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgc291cmNlLFxuICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5WZXJ0ZXhcIlxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluRnJhZ21lbnRcIlxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IEdsUHJvZ3JhbS5mcm9tKHtcbiAgICAgIHZlcnRleCxcbiAgICAgIGZyYWdtZW50LFxuICAgICAgbmFtZTogXCJhbHBoYS1maWx0ZXJcIlxuICAgIH0pO1xuICAgIGNvbnN0IHsgYWxwaGEsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYWxwaGFVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdUFscGhhOiB7IHZhbHVlOiBhbHBoYSwgdHlwZTogXCJmMzJcIiB9XG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgLi4ucmVzdCxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICBnbFByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgYWxwaGFVbmlmb3Jtc1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgZ2V0IGFscGhhKCkge1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5hbHBoYVVuaWZvcm1zLnVuaWZvcm1zLnVBbHBoYTtcbiAgfVxuICBzZXQgYWxwaGEodmFsdWUpIHtcbiAgICB0aGlzLnJlc291cmNlcy5hbHBoYVVuaWZvcm1zLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICB9XG59O1xuLyoqIERlZmF1bHQgZmlsdGVyIG9wdGlvbnMgKi9cbl9BbHBoYUZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudCAqL1xuICBhbHBoYTogMVxufTtcbmxldCBBbHBoYUZpbHRlciA9IF9BbHBoYUZpbHRlcjtcblxuZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFscGhhRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImluIHZlYzIgYVBvc2l0aW9uO1xcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IHVJbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IHVPdXRwdXRGcmFtZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dFRleHR1cmU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVBvc2l0aW9uICogdU91dHB1dEZyYW1lLnp3ICsgdU91dHB1dEZyYW1lLnh5O1xcbiAgICBcXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggKiAoMi4wIC8gdU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCp1T3V0cHV0VGV4dHVyZS56IC8gdU91dHB1dFRleHR1cmUueSkgLSB1T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKHVPdXRwdXRGcmFtZS56dyAqIHVJbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRGaWx0ZXIudmVydC5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcIlxcbmluIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG5vdXQgdmVjNCBmaW5hbENvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICBmaW5hbENvbG9yID0gIHRleHR1cmUodVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpICogdUFscGhhO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxwaGEuZnJhZy5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvdHlwZXMubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi8uLi9GaWx0ZXIubWpzJztcbmltcG9ydCB7IEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnLi9CbHVyRmlsdGVyUGFzcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJsdXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmdzWzBdID8/IHt9O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgZGVwcmVjYXRpb24odjhfMF8wLCBcIkJsdXJGaWx0ZXIgY29uc3RydWN0b3IgcGFyYW1zIGFyZSBub3cgb3B0aW9ucyBvYmplY3QuIFNlZSBwYXJhbXM6IHsgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUgfVwiKTtcbiAgICAgIG9wdGlvbnMgPSB7IHN0cmVuZ3RoOiBvcHRpb25zIH07XG4gICAgICBpZiAoYXJnc1sxXSAhPT0gdm9pZCAwKVxuICAgICAgICBvcHRpb25zLnF1YWxpdHkgPSBhcmdzWzFdO1xuICAgICAgaWYgKGFyZ3NbMl0gIT09IHZvaWQgMClcbiAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gYXJnc1syXSB8fCBcImluaGVyaXRcIjtcbiAgICAgIGlmIChhcmdzWzNdICE9PSB2b2lkIDApXG4gICAgICAgIG9wdGlvbnMua2VybmVsU2l6ZSA9IGFyZ3NbM107XG4gICAgfVxuICAgIG9wdGlvbnMgPSB7IC4uLkJsdXJGaWx0ZXJQYXNzLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgeyBzdHJlbmd0aCwgc3RyZW5ndGhYLCBzdHJlbmd0aFksIHF1YWxpdHksIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgc3VwZXIoe1xuICAgICAgLi4ucmVzdCxcbiAgICAgIGNvbXBhdGlibGVSZW5kZXJlcnM6IFJlbmRlcmVyVHlwZS5CT1RILFxuICAgICAgcmVzb3VyY2VzOiB7fVxuICAgIH0pO1xuICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICB0aGlzLmJsdXJYRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKHsgaG9yaXpvbnRhbDogdHJ1ZSwgLi4ub3B0aW9ucyB9KTtcbiAgICB0aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKHsgaG9yaXpvbnRhbDogZmFsc2UsIC4uLm9wdGlvbnMgfSk7XG4gICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICB0aGlzLnN0cmVuZ3RoWCA9IHN0cmVuZ3RoWCA/PyBzdHJlbmd0aDtcbiAgICB0aGlzLnN0cmVuZ3RoWSA9IHN0cmVuZ3RoWSA/PyBzdHJlbmd0aDtcbiAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAqIEBwYXJhbSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICovXG4gIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgIGNvbnN0IHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgIGNvbnN0IHlTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpO1xuICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKSB7XG4gICAgICBjb25zdCB0ZW1wVGV4dHVyZSA9IFRleHR1cmVQb29sLmdldFNhbWVTaXplVGV4dHVyZShpbnB1dCk7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsZW5kTW9kZSA9IFwibm9ybWFsXCI7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCB0ZW1wVGV4dHVyZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCB0ZW1wVGV4dHVyZSwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZSh0ZW1wVGV4dHVyZSk7XG4gICAgfSBlbHNlIGlmICh5U3RyZW5ndGgpIHtcbiAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG4gICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG4gICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVBhZGRpbmcoKSB7XG4gICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuYmx1ciksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuYmx1cikpICogMjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAqIEBkZWZhdWx0IDhcbiAgICovXG4gIGdldCBzdHJlbmd0aCgpIHtcbiAgICBpZiAodGhpcy5zdHJlbmd0aFggIT09IHRoaXMuc3RyZW5ndGhZKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCbHVyRmlsdGVyJ3Mgc3RyZW5ndGhYIGFuZCBzdHJlbmd0aFkgYXJlIGRpZmZlcmVudFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZW5ndGhYO1xuICB9XG4gIHNldCBzdHJlbmd0aCh2YWx1ZSkge1xuICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhbGl0eSBibHVyaW5nLlxuICAgKiBAZGVmYXVsdCAxXG4gICAqL1xuICBnZXQgcXVhbGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICB9XG4gIHNldCBxdWFsaXR5KHZhbHVlKSB7XG4gICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGhvcml6b250YWwgYmx1clxuICAgKiBAZGVmYXVsdCA4XG4gICAqL1xuICBnZXQgc3RyZW5ndGhYKCkge1xuICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gIH1cbiAgc2V0IHN0cmVuZ3RoWCh2YWx1ZSkge1xuICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgdmVydGljYWwgYmx1clxuICAgKiBAZGVmYXVsdCA4XG4gICAqL1xuICBnZXQgc3RyZW5ndGhZKCkge1xuICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gIH1cbiAgc2V0IHN0cmVuZ3RoWSh2YWx1ZSkge1xuICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgKiBAZGVmYXVsdCAyXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMy4wXG4gICAqIEBzZWUgQmx1ckZpbHRlci5zdHJlbmd0aFxuICAgKi9cbiAgZ2V0IGJsdXIoKSB7XG4gICAgZGVwcmVjYXRpb24oXCI4LjMuMFwiLCBcIkJsdXJGaWx0ZXIuYmx1ciBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJsdXJGaWx0ZXIuc3RyZW5ndGggaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gIH1cbiAgc2V0IGJsdXIodmFsdWUpIHtcbiAgICBkZXByZWNhdGlvbihcIjguMy4wXCIsIFwiQmx1ckZpbHRlci5ibHVyIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgQmx1ckZpbHRlci5zdHJlbmd0aCBpbnN0ZWFkLlwiKTtcbiAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgKiBAZGVmYXVsdCAyXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMy4wXG4gICAqIEBzZWUgQmx1ckZpbHRlci5zdHJlbmd0aFhcbiAgICovXG4gIGdldCBibHVyWCgpIHtcbiAgICBkZXByZWNhdGlvbihcIjguMy4wXCIsIFwiQmx1ckZpbHRlci5ibHVyWCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJsdXJGaWx0ZXIuc3RyZW5ndGhYIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoWDtcbiAgfVxuICBzZXQgYmx1clgodmFsdWUpIHtcbiAgICBkZXByZWNhdGlvbihcIjguMy4wXCIsIFwiQmx1ckZpbHRlci5ibHVyWCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJsdXJGaWx0ZXIuc3RyZW5ndGhYIGluc3RlYWQuXCIpO1xuICAgIHRoaXMuc3RyZW5ndGhYID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgKiBAZGVmYXVsdCAyXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMy4wXG4gICAqIEBzZWUgQmx1ckZpbHRlci5zdHJlbmd0aFlcbiAgICovXG4gIGdldCBibHVyWSgpIHtcbiAgICBkZXByZWNhdGlvbihcIjguMy4wXCIsIFwiQmx1ckZpbHRlci5ibHVyWSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJsdXJGaWx0ZXIuc3RyZW5ndGhZIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoWTtcbiAgfVxuICBzZXQgYmx1clkodmFsdWUpIHtcbiAgICBkZXByZWNhdGlvbihcIjguMy4wXCIsIFwiQmx1ckZpbHRlci5ibHVyWSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIEJsdXJGaWx0ZXIuc3RyZW5ndGhZIGluc3RlYWQuXCIpO1xuICAgIHRoaXMuc3RyZW5ndGhZID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIElmIHNldCB0byB0cnVlIHRoZSBlZGdlIG9mIHRoZSB0YXJnZXQgd2lsbCBiZSBjbGFtcGVkXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgcmVwZWF0RWRnZVBpeGVscygpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgfVxuICBzZXQgcmVwZWF0RWRnZVBpeGVscyh2YWx1ZSkge1xuICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgfVxufVxuLyoqIERlZmF1bHQgYmx1ciBmaWx0ZXIgb3B0aW9ucyAqL1xuQmx1ckZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuICovXG4gIHN0cmVuZ3RoOiA4LFxuICAvKiogVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLiAqL1xuICBxdWFsaXR5OiA0LFxuICAvKiogVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuICovXG4gIGtlcm5lbFNpemU6IDVcbn07XG5cbmV4cG9ydCB7IEJsdXJGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgMTE6IFs5M2UtNCwgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgMTM6IFsyNDA2ZS02LCA5MjU1ZS02LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAxNTogWzQ4OWUtNiwgMjQwM2UtNiwgOTI0NmUtNiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdXG59O1xuXG5leHBvcnQgeyBHQVVTU0lBTl9WQUxVRVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEdBVVNTSUFOX1ZBTFVFUyB9IGZyb20gJy4uL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgZnJhZ1RlbXBsYXRlID0gW1xuICBcImluIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcIixcbiAgXCJ1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcIixcbiAgXCJvdXQgdmVjNCBmaW5hbENvbG9yO1wiLFxuICBcInZvaWQgbWFpbih2b2lkKVwiLFxuICBcIntcIixcbiAgXCIgICAgZmluYWxDb2xvciA9IHZlYzQoMC4wKTtcIixcbiAgXCIgICAgJWJsdXIlXCIsXG4gIFwifVwiXG5dLmpvaW4oXCJcXG5cIik7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpIHtcbiAgY29uc3Qga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICBjb25zdCBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcbiAgbGV0IGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG4gIGxldCBibHVyTG9vcCA9IFwiXCI7XG4gIGNvbnN0IHRlbXBsYXRlID0gXCJmaW5hbENvbG9yICs9IHRleHR1cmUodVRleHR1cmUsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7XCI7XG4gIGxldCB2YWx1ZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICBsZXQgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoXCIlaW5kZXglXCIsIGkudG9TdHJpbmcoKSk7XG4gICAgdmFsdWUgPSBpO1xuICAgIGlmIChpID49IGhhbGZMZW5ndGgpIHtcbiAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgIH1cbiAgICBibHVyID0gYmx1ci5yZXBsYWNlKFwiJXZhbHVlJVwiLCBrZXJuZWxbdmFsdWVdLnRvU3RyaW5nKCkpO1xuICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgYmx1ckxvb3AgKz0gXCJcXG5cIjtcbiAgfVxuICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKFwiJWJsdXIlXCIsIGJsdXJMb29wKTtcbiAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZShcIiVzaXplJVwiLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyRnJhZ1NvdXJjZS5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2UgfSBmcm9tICcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlQmx1clZlcnRTb3VyY2UgfSBmcm9tICcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJHbFByb2dyYW0oaG9yaXpvbnRhbCwga2VybmVsU2l6ZSkge1xuICBjb25zdCB2ZXJ0ZXggPSBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICBjb25zdCBmcmFnbWVudCA9IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSk7XG4gIHJldHVybiBHbFByb2dyYW0uZnJvbSh7XG4gICAgdmVydGV4LFxuICAgIGZyYWdtZW50LFxuICAgIG5hbWU6IGBibHVyLSR7aG9yaXpvbnRhbCA/IFwiaG9yaXpvbnRhbFwiIDogXCJ2ZXJ0aWNhbFwifS1wYXNzLWZpbHRlcmBcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlQmx1ckdsUHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyR2xQcm9ncmFtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdmVydFRlbXBsYXRlID0gYFxuICAgIGluIHZlYzIgYVBvc2l0aW9uO1xuXG4gICAgdW5pZm9ybSBmbG9hdCB1U3RyZW5ndGg7XG5cbiAgICBvdXQgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xuXG4gICAgdW5pZm9ybSB2ZWM0IHVJbnB1dFNpemU7XG4gICAgdW5pZm9ybSB2ZWM0IHVPdXRwdXRGcmFtZTtcbiAgICB1bmlmb3JtIHZlYzQgdU91dHB1dFRleHR1cmU7XG5cbiAgICB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcbntcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVBvc2l0aW9uICogdU91dHB1dEZyYW1lLnp3ICsgdU91dHB1dEZyYW1lLnh5O1xuICAgIFxuICAgIHBvc2l0aW9uLnggPSBwb3NpdGlvbi54ICogKDIuMCAvIHVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCp1T3V0cHV0VGV4dHVyZS56IC8gdU91dHB1dFRleHR1cmUueSkgLSB1T3V0cHV0VGV4dHVyZS56O1xuXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcbn1cblxuICAgIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcbiAgICB7XG4gICAgICAgIHJldHVybiBhUG9zaXRpb24gKiAodU91dHB1dEZyYW1lLnp3ICogdUlucHV0U2l6ZS56dyk7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKHZvaWQpXG4gICAge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XG5cbiAgICAgICAgZmxvYXQgcGl4ZWxTdHJlbmd0aCA9IHVJbnB1dFNpemUuJWRpbWVuc2lvbiUgKiB1U3RyZW5ndGg7XG5cbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcbiAgICAgICAgJWJsdXIlXG4gICAgfWA7XG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgY29uc3QgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG4gIGxldCB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuICBsZXQgYmx1ckxvb3AgPSBcIlwiO1xuICBsZXQgdGVtcGxhdGU7XG4gIGlmICh4KSB7XG4gICAgdGVtcGxhdGUgPSBcInZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHBpeGVsU3RyZW5ndGgsIDAuMCk7XCI7XG4gIH0gZWxzZSB7XG4gICAgdGVtcGxhdGUgPSBcInZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogcGl4ZWxTdHJlbmd0aCk7XCI7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICBsZXQgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoXCIlaW5kZXglXCIsIGkudG9TdHJpbmcoKSk7XG4gICAgYmx1ciA9IGJsdXIucmVwbGFjZShcIiVzYW1wbGVJbmRleCVcIiwgYCR7aSAtIChoYWxmTGVuZ3RoIC0gMSl9LjBgKTtcbiAgICBibHVyTG9vcCArPSBibHVyO1xuICAgIGJsdXJMb29wICs9IFwiXFxuXCI7XG4gIH1cbiAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZShcIiVibHVyJVwiLCBibHVyTG9vcCk7XG4gIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoXCIlc2l6ZSVcIiwga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZShcIiVkaW1lbnNpb24lXCIsIHggPyBcInpcIiA6IFwid1wiKTtcbiAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlQmx1clZlcnRTb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1clZlcnRTb3VyY2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi8uLi9GaWx0ZXIubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlQmx1ckdsUHJvZ3JhbSB9IGZyb20gJy4vZ2wvZ2VuZXJhdGVCbHVyR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUJsdXJQcm9ncmFtIH0gZnJvbSAnLi9ncHUvZ2VuZXJhdGVCbHVyUHJvZ3JhbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9CbHVyRmlsdGVyUGFzcyA9IGNsYXNzIF9CbHVyRmlsdGVyUGFzcyBleHRlbmRzIEZpbHRlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5ob3Jpem9udGFsIC0gRG8gcGFzcyBhbG9uZyB0aGUgeC1heGlzIChgdHJ1ZWApIG9yIHktYXhpcyAoYGZhbHNlYCkuXG4gICAqIEBwYXJhbSBvcHRpb25zLnN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICogQHBhcmFtIG9wdGlvbnMucXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICogQHBhcmFtIG9wdGlvbnMua2VybmVsU2l6ZSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7IC4uLl9CbHVyRmlsdGVyUGFzcy5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGdsUHJvZ3JhbSA9IGdlbmVyYXRlQmx1ckdsUHJvZ3JhbShvcHRpb25zLmhvcml6b250YWwsIG9wdGlvbnMua2VybmVsU2l6ZSk7XG4gICAgY29uc3QgZ3B1UHJvZ3JhbSA9IGdlbmVyYXRlQmx1clByb2dyYW0ob3B0aW9ucy5ob3Jpem9udGFsLCBvcHRpb25zLmtlcm5lbFNpemUpO1xuICAgIHN1cGVyKHtcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgYmx1clVuaWZvcm1zOiB7XG4gICAgICAgICAgdVN0cmVuZ3RoOiB7IHZhbHVlOiAwLCB0eXBlOiBcImYzMlwiIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KTtcbiAgICB0aGlzLmhvcml6b250YWwgPSBvcHRpb25zLmhvcml6b250YWw7XG4gICAgdGhpcy5fcXVhbGl0eSA9IDA7XG4gICAgdGhpcy5xdWFsaXR5ID0gb3B0aW9ucy5xdWFsaXR5O1xuICAgIHRoaXMuYmx1ciA9IG9wdGlvbnMuc3RyZW5ndGg7XG4gICAgdGhpcy5fdW5pZm9ybXMgPSB0aGlzLnJlc291cmNlcy5ibHVyVW5pZm9ybXMudW5pZm9ybXM7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICogQHBhcmFtIGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICogQHBhcmFtIG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgKiBAcGFyYW0gY2xlYXJNb2RlIC0gSG93IHRvIGNsZWFyXG4gICAqL1xuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICB0aGlzLl91bmlmb3Jtcy51U3RyZW5ndGggPSB0aGlzLnN0cmVuZ3RoIC8gdGhpcy5wYXNzZXM7XG4gICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRlbXBUZXh0dXJlID0gVGV4dHVyZVBvb2wuZ2V0U2FtZVNpemVUZXh0dXJlKGlucHV0KTtcbiAgICAgIGxldCBmbGlwID0gaW5wdXQ7XG4gICAgICBsZXQgZmxvcCA9IHRlbXBUZXh0dXJlO1xuICAgICAgdGhpcy5fc3RhdGUuYmxlbmQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHNob3VsZENsZWFyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR1BVO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKykge1xuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIGkgPT09IDAgPyB0cnVlIDogc2hvdWxkQ2xlYXIpO1xuICAgICAgICBjb25zdCB0ZW1wID0gZmxvcDtcbiAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRlbXBUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAqIEBkZWZhdWx0IDE2XG4gICAqL1xuICBnZXQgYmx1cigpIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgfVxuICBzZXQgYmx1cih2YWx1ZSkge1xuICAgIHRoaXMucGFkZGluZyA9IDEgKyBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgKiBxdWFsaXR5IGJsdXJyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgKiBAZGVmYXVsdCA0XG4gICAqL1xuICBnZXQgcXVhbGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgfVxuICBzZXQgcXVhbGl0eSh2YWx1ZSkge1xuICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICB9XG59O1xuLyoqIERlZmF1bHQgYmx1ciBmaWx0ZXIgcGFzcyBvcHRpb25zICovXG5fQmx1ckZpbHRlclBhc3MuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLiAqL1xuICBzdHJlbmd0aDogOCxcbiAgLyoqIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci4gKi9cbiAgcXVhbGl0eTogNCxcbiAgLyoqIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LiAqL1xuICBrZXJuZWxTaXplOiA1XG59O1xubGV0IEJsdXJGaWx0ZXJQYXNzID0gX0JsdXJGaWx0ZXJQYXNzO1xuXG5leHBvcnQgeyBCbHVyRmlsdGVyUGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1ckZpbHRlclBhc3MubWpzLm1hcFxuIiwiaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHQVVTU0lBTl9WQUxVRVMgfSBmcm9tICcuLi9jb25zdC5tanMnO1xuaW1wb3J0IHNvdXJjZSBmcm9tICcuL2JsdXItdGVtcGxhdGUud2dzbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clByb2dyYW0oaG9yaXpvbnRhbCwga2VybmVsU2l6ZSkge1xuICBjb25zdCBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gIGNvbnN0IGhhbGZMZW5ndGggPSBrZXJuZWwubGVuZ3RoO1xuICBjb25zdCBibHVyU3RydWN0U291cmNlID0gW107XG4gIGNvbnN0IGJsdXJPdXRTb3VyY2UgPSBbXTtcbiAgY29uc3QgYmx1clNhbXBsaW5nU291cmNlID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgYmx1clN0cnVjdFNvdXJjZVtpXSA9IGBAbG9jYXRpb24oJHtpfSkgb2Zmc2V0JHtpfTogdmVjMjxmMzI+LGA7XG4gICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgIGJsdXJPdXRTb3VyY2VbaV0gPSBgZmlsdGVyZWRDb3JkICsgdmVjMigke2kgLSBoYWxmTGVuZ3RoICsgMX0gKiBwaXhlbFN0cmVuZ3RoLCAwLjApLGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJsdXJPdXRTb3VyY2VbaV0gPSBgZmlsdGVyZWRDb3JkICsgdmVjMigwLjAsICR7aSAtIGhhbGZMZW5ndGggKyAxfSAqIHBpeGVsU3RyZW5ndGgpLGA7XG4gICAgfVxuICAgIGNvbnN0IGtlcm5lbEluZGV4ID0gaSA8IGhhbGZMZW5ndGggPyBpIDoga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgIGNvbnN0IGtlcm5lbFZhbHVlID0ga2VybmVsW2tlcm5lbEluZGV4XS50b1N0cmluZygpO1xuICAgIGJsdXJTYW1wbGluZ1NvdXJjZVtpXSA9IGBmaW5hbENvbG9yICs9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCBvZmZzZXQke2l9KSAqICR7a2VybmVsVmFsdWV9O2A7XG4gIH1cbiAgY29uc3QgYmx1clN0cnVjdCA9IGJsdXJTdHJ1Y3RTb3VyY2Uuam9pbihcIlxcblwiKTtcbiAgY29uc3QgYmx1ck91dCA9IGJsdXJPdXRTb3VyY2Uuam9pbihcIlxcblwiKTtcbiAgY29uc3QgYmx1clNhbXBsaW5nID0gYmx1clNhbXBsaW5nU291cmNlLmpvaW4oXCJcXG5cIik7XG4gIGNvbnN0IGZpbmFsU291cmNlID0gc291cmNlLnJlcGxhY2UoXCIlYmx1ci1zdHJ1Y3QlXCIsIGJsdXJTdHJ1Y3QpLnJlcGxhY2UoXCIlYmx1ci12ZXJ0ZXgtb3V0JVwiLCBibHVyT3V0KS5yZXBsYWNlKFwiJWJsdXItZnJhZ21lbnQtaW4lXCIsIGJsdXJTdHJ1Y3QpLnJlcGxhY2UoXCIlYmx1ci1zYW1wbGluZyVcIiwgYmx1clNhbXBsaW5nKS5yZXBsYWNlKFwiJWRpbWVuc2lvbiVcIiwgaG9yaXpvbnRhbCA/IFwielwiIDogXCJ3XCIpO1xuICByZXR1cm4gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICB2ZXJ0ZXg6IHtcbiAgICAgIHNvdXJjZTogZmluYWxTb3VyY2UsXG4gICAgICBlbnRyeVBvaW50OiBcIm1haW5WZXJ0ZXhcIlxuICAgIH0sXG4gICAgZnJhZ21lbnQ6IHtcbiAgICAgIHNvdXJjZTogZmluYWxTb3VyY2UsXG4gICAgICBlbnRyeVBvaW50OiBcIm1haW5GcmFnbWVudFwiXG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVCbHVyUHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVCbHVyUHJvZ3JhbS5tanMubWFwXG4iLCJ2YXIgc291cmNlID0gXCJcXG5cXG5zdHJ1Y3QgR2xvYmFsRmlsdGVyVW5pZm9ybXMge1xcbiAgdUlucHV0U2l6ZTp2ZWM0PGYzMj4sXFxuICB1SW5wdXRQaXhlbDp2ZWM0PGYzMj4sXFxuICB1SW5wdXRDbGFtcDp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0RnJhbWU6dmVjNDxmMzI+LFxcbiAgdUdsb2JhbEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVPdXRwdXRUZXh0dXJlOnZlYzQ8ZjMyPixcXG59O1xcblxcbnN0cnVjdCBCbHVyVW5pZm9ybXMge1xcbiAgdVN0cmVuZ3RoOmYzMixcXG59O1xcblxcbkBncm91cCgwKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZ2Z1OiBHbG9iYWxGaWx0ZXJVbmlmb3JtcztcXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhciB1U2FtcGxlciA6IHNhbXBsZXI7XFxuXFxuQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBibHVyVW5pZm9ybXMgOiBCbHVyVW5pZm9ybXM7XFxuXFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAgICVibHVyLXN0cnVjdCVcXG4gIH07XFxuXFxuZm4gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uOnZlYzI8ZjMyPikgLT4gdmVjNDxmMzI+XFxue1xcbiAgICB2YXIgcG9zaXRpb24gPSBhUG9zaXRpb24gKiBnZnUudU91dHB1dEZyYW1lLnp3ICsgZ2Z1LnVPdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggKiAoMi4wIC8gZ2Z1LnVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqZ2Z1LnVPdXRwdXRUZXh0dXJlLnogLyBnZnUudU91dHB1dFRleHR1cmUueSkgLSBnZnUudU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxuZm4gZmlsdGVyVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKGdmdS51T3V0cHV0RnJhbWUuencgKiBnZnUudUlucHV0U2l6ZS56dyk7XFxufVxcblxcbmZuIGdsb2JhbFRleHR1cmVDb29yZCggYVBvc2l0aW9uOnZlYzI8ZjMyPiApIC0+IHZlYzI8ZjMyPlxcbntcXG4gIHJldHVybiAgKGFQb3NpdGlvbi54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpICsgKGdmdS51R2xvYmFsRnJhbWUueHkgLyBnZnUudUdsb2JhbEZyYW1lLnp3KTsgIFxcbn1cXG5cXG5mbiBnZXRTaXplKCkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuIGdmdS51R2xvYmFsRnJhbWUuenc7XFxufVxcblxcblxcbkB2ZXJ0ZXhcXG5mbiBtYWluVmVydGV4KFxcbiAgQGxvY2F0aW9uKDApIGFQb3NpdGlvbiA6IHZlYzI8ZjMyPiwgXFxuKSAtPiBWU091dHB1dCB7XFxuXFxuICBsZXQgZmlsdGVyZWRDb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbik7XFxuXFxuICBsZXQgcGl4ZWxTdHJlbmd0aCA9IGdmdS51SW5wdXRTaXplLiVkaW1lbnNpb24lICogYmx1clVuaWZvcm1zLnVTdHJlbmd0aDtcXG5cXG4gIHJldHVybiBWU091dHB1dChcXG4gICBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb24pLFxcbiAgICAlYmx1ci12ZXJ0ZXgtb3V0JVxcbiAgKTtcXG59XFxuXFxuQGZyYWdtZW50XFxuZm4gbWFpbkZyYWdtZW50KFxcbiAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAlYmx1ci1mcmFnbWVudC1pbiVcXG4pIC0+IEBsb2NhdGlvbigwKSB2ZWM0PGYzMj4ge1xcblxcbiAgICB2YXIgICBmaW5hbENvbG9yID0gdmVjNCgwLjApO1xcblxcbiAgICAlYmx1ci1zYW1wbGluZyVcXG5cXG4gICAgcmV0dXJuIGZpbmFsQ29sb3I7XFxufVwiO1xuXG5leHBvcnQgeyBzb3VyY2UgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ymx1ci10ZW1wbGF0ZS53Z3NsLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBGaWx0ZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHB1c2goZmlsdGVyRWZmZWN0LCBjb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICByZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2UsXG4gICAgICBhY3Rpb246IFwicHVzaEZpbHRlclwiLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgZmlsdGVyRWZmZWN0XG4gICAgfSk7XG4gIH1cbiAgcG9wKF9maWx0ZXJFZmZlY3QsIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiZmlsdGVyXCIsXG4gICAgICBhY3Rpb246IFwicG9wRmlsdGVyXCIsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaEZpbHRlclwiKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5maWx0ZXIucHVzaChpbnN0cnVjdGlvbik7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicG9wRmlsdGVyXCIpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbkZpbHRlclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImZpbHRlclwiXG59O1xuXG5leHBvcnQgeyBGaWx0ZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbWF0aHMvcG9pbnQvUG9pbnQubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGdldEZhc3RHbG9iYWxCb3VuZHMgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldEZhc3RHbG9iYWxCb3VuZHMubWpzJztcbmltcG9ydCB7IGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldFJlbmRlcmFibGVCb3VuZHMubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBxdWFkR2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoe1xuICBhdHRyaWJ1dGVzOiB7XG4gICAgYVBvc2l0aW9uOiB7XG4gICAgICBidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKSxcbiAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgIHN0cmlkZTogMiAqIDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9XG4gIH0sXG4gIGluZGV4QnVmZmVyOiBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKVxufSk7XG5jbGFzcyBGaWx0ZXJTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrSW5kZXggPSAwO1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrID0gW107XG4gICAgdGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVJbnB1dFNpemU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVJbnB1dFBpeGVsOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1SW5wdXRDbGFtcDogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdU91dHB1dEZyYW1lOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1R2xvYmFsRnJhbWU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVPdXRwdXRUZXh0dXJlOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH1cbiAgICB9KTtcbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAgPSBuZXcgQmluZEdyb3VwKHt9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBiYWNrIHRleHR1cmUgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgZmlsdGVyLiBSZXF1aXJlcyB0aGUgZmlsdGVyIHRvIGhhdmUgYGJsZW5kUmVxdWlyZWRgIHNldCB0byB0cnVlLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBhY3RpdmVCYWNrVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlRmlsdGVyRGF0YT8uYmFja1RleHR1cmU7XG4gIH1cbiAgcHVzaChpbnN0cnVjdGlvbikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBmaWx0ZXJzID0gaW5zdHJ1Y3Rpb24uZmlsdGVyRWZmZWN0LmZpbHRlcnM7XG4gICAgaWYgKCF0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XSkge1xuICAgICAgdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleF0gPSB0aGlzLl9nZXRGaWx0ZXJEYXRhKCk7XG4gICAgfVxuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XTtcbiAgICB0aGlzLl9maWx0ZXJTdGFja0luZGV4Kys7XG4gICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBmaWx0ZXJEYXRhLnNraXAgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBib3VuZHMgPSBmaWx0ZXJEYXRhLmJvdW5kcztcbiAgICBpZiAoaW5zdHJ1Y3Rpb24ucmVuZGVyYWJsZXMpIHtcbiAgICAgIGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMoaW5zdHJ1Y3Rpb24ucmVuZGVyYWJsZXMsIGJvdW5kcyk7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3QuZmlsdGVyQXJlYSkge1xuICAgICAgYm91bmRzLmNsZWFyKCk7XG4gICAgICBib3VuZHMuYWRkUmVjdChpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3QuZmlsdGVyQXJlYSk7XG4gICAgICBib3VuZHMuYXBwbHlNYXRyaXgoaW5zdHJ1Y3Rpb24uY29udGFpbmVyLndvcmxkVHJhbnNmb3JtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2V0RmFzdEdsb2JhbEJvdW5kcyhpbnN0cnVjdGlvbi5jb250YWluZXIsIGJvdW5kcyk7XG4gICAgfVxuICAgIGlmIChpbnN0cnVjdGlvbi5jb250YWluZXIpIHtcbiAgICAgIGNvbnN0IHJlbmRlckdyb3VwID0gaW5zdHJ1Y3Rpb24uY29udGFpbmVyLnJlbmRlckdyb3VwIHx8IGluc3RydWN0aW9uLmNvbnRhaW5lci5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICAgIGNvbnN0IGZpbHRlckZyYW1lVHJhbnNmb3JtID0gcmVuZGVyR3JvdXAuY2FjaGVUb0xvY2FsVHJhbnNmb3JtO1xuICAgICAgaWYgKGZpbHRlckZyYW1lVHJhbnNmb3JtKSB7XG4gICAgICAgIGJvdW5kcy5hcHBseU1hdHJpeChmaWx0ZXJGcmFtZVRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbG9yVGV4dHVyZVNvdXJjZSA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlLnNvdXJjZTtcbiAgICBsZXQgcmVzb2x1dGlvbiA9IEluZmluaXR5O1xuICAgIGxldCBwYWRkaW5nID0gMDtcbiAgICBsZXQgYW50aWFsaWFzID0gdHJ1ZTtcbiAgICBsZXQgYmxlbmRSZXF1aXJlZCA9IGZhbHNlO1xuICAgIGxldCBlbmFibGVkID0gZmFsc2U7XG4gICAgbGV0IGNsaXBUb1ZpZXdwb3J0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgZmlsdGVyLnJlc29sdXRpb24gPT09IFwiaW5oZXJpdFwiID8gY29sb3JUZXh0dXJlU291cmNlLl9yZXNvbHV0aW9uIDogZmlsdGVyLnJlc29sdXRpb24pO1xuICAgICAgcGFkZGluZyArPSBmaWx0ZXIucGFkZGluZztcbiAgICAgIGlmIChmaWx0ZXIuYW50aWFsaWFzID09PSBcIm9mZlwiKSB7XG4gICAgICAgIGFudGlhbGlhcyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXIuYW50aWFsaWFzID09PSBcImluaGVyaXRcIikge1xuICAgICAgICBhbnRpYWxpYXMgJiYgKGFudGlhbGlhcyA9IGNvbG9yVGV4dHVyZVNvdXJjZS5hbnRpYWxpYXMpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXIuY2xpcFRvVmlld3BvcnQpIHtcbiAgICAgICAgY2xpcFRvVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzQ29tcGF0aWJsZSA9ICEhKGZpbHRlci5jb21wYXRpYmxlUmVuZGVyZXJzICYgcmVuZGVyZXIudHlwZSk7XG4gICAgICBpZiAoIWlzQ29tcGF0aWJsZSkge1xuICAgICAgICBlbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlci5ibGVuZFJlcXVpcmVkICYmICEocmVuZGVyZXIuYmFja0J1ZmZlcj8udXNlQmFja0J1ZmZlciA/PyB0cnVlKSkge1xuICAgICAgICB3YXJuKFwiQmxlbmQgZmlsdGVyIHJlcXVpcmVzIGJhY2tCdWZmZXIgb24gV2ViR0wgcmVuZGVyZXIgdG8gYmUgZW5hYmxlZC4gU2V0IGB1c2VCYWNrQnVmZmVyOiB0cnVlYCBpbiB0aGUgcmVuZGVyZXIgb3B0aW9ucy5cIik7XG4gICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlbmFibGVkID0gZmlsdGVyLmVuYWJsZWQgfHwgZW5hYmxlZDtcbiAgICAgIGJsZW5kUmVxdWlyZWQgfHwgKGJsZW5kUmVxdWlyZWQgPSBmaWx0ZXIuYmxlbmRSZXF1aXJlZCk7XG4gICAgfVxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgZmlsdGVyRGF0YS5za2lwID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNsaXBUb1ZpZXdwb3J0KSB7XG4gICAgICBjb25zdCB2aWV3UG9ydCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yb290Vmlld1BvcnQ7XG4gICAgICBjb25zdCByb290UmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgIGJvdW5kcy5maXRCb3VuZHMoMCwgdmlld1BvcnQud2lkdGggLyByb290UmVzb2x1dGlvbiwgMCwgdmlld1BvcnQuaGVpZ2h0IC8gcm9vdFJlc29sdXRpb24pO1xuICAgIH1cbiAgICBib3VuZHMuc2NhbGUocmVzb2x1dGlvbikuY2VpbCgpLnNjYWxlKDEgLyByZXNvbHV0aW9uKS5wYWQocGFkZGluZyB8IDApO1xuICAgIGlmICghYm91bmRzLmlzUG9zaXRpdmUpIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpbHRlckRhdGEuc2tpcCA9IGZhbHNlO1xuICAgIGZpbHRlckRhdGEuYm91bmRzID0gYm91bmRzO1xuICAgIGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCA9IGJsZW5kUmVxdWlyZWQ7XG4gICAgZmlsdGVyRGF0YS5jb250YWluZXIgPSBpbnN0cnVjdGlvbi5jb250YWluZXI7XG4gICAgZmlsdGVyRGF0YS5maWx0ZXJFZmZlY3QgPSBpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3Q7XG4gICAgZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyU3VyZmFjZTtcbiAgICBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBhbnRpYWxpYXNcbiAgICApO1xuICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5iaW5kKGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlLCB0cnVlKTtcbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgIG9mZnNldDogYm91bmRzXG4gICAgfSk7XG4gIH1cbiAgcG9wKCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB0aGlzLl9maWx0ZXJTdGFja0luZGV4LS07XG4gICAgY29uc3QgZmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdO1xuICAgIGlmIChmaWx0ZXJEYXRhLnNraXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlRmlsdGVyRGF0YSA9IGZpbHRlckRhdGE7XG4gICAgY29uc3QgaW5wdXRUZXh0dXJlID0gZmlsdGVyRGF0YS5pbnB1dFRleHR1cmU7XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgbGV0IGJhY2tUZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgIGlmIChmaWx0ZXJEYXRhLmJsZW5kUmVxdWlyZWQpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzQm91bmRzID0gdGhpcy5fZmlsdGVyU3RhY2tJbmRleCA+IDAgPyB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4IC0gMV0uYm91bmRzIDogbnVsbDtcbiAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5nZXRSZW5kZXJUYXJnZXQoZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UpO1xuICAgICAgYmFja1RleHR1cmUgPSB0aGlzLmdldEJhY2tUZXh0dXJlKHJlbmRlclRhcmdldCwgYm91bmRzLCBwcmV2aW91c0JvdW5kcyk7XG4gICAgfVxuICAgIGZpbHRlckRhdGEuYmFja1RleHR1cmUgPSBiYWNrVGV4dHVyZTtcbiAgICBjb25zdCBmaWx0ZXJzID0gZmlsdGVyRGF0YS5maWx0ZXJFZmZlY3QuZmlsdGVycztcbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoaW5wdXRUZXh0dXJlLnNvdXJjZS5zdHlsZSwgMik7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGJhY2tUZXh0dXJlLnNvdXJjZSwgMyk7XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucG9wKCk7XG4gICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIGlucHV0VGV4dHVyZSwgZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UsIGZhbHNlKTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUoaW5wdXRUZXh0dXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGZsaXAgPSBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZTtcbiAgICAgIGxldCBmbG9wID0gVGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoXG4gICAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgZmxpcC5zb3VyY2UuX3Jlc29sdXRpb24sXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICAgIGZpbHRlci5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcbiAgICAgICAgY29uc3QgdCA9IGZsaXA7XG4gICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICBmbG9wID0gdDtcbiAgICAgIH1cbiAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2UsIGZhbHNlKTtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUoZmxpcCk7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGZsb3ApO1xuICAgIH1cbiAgICBpZiAoZmlsdGVyRGF0YS5ibGVuZFJlcXVpcmVkKSB7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGJhY2tUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgZ2V0QmFja1RleHR1cmUobGFzdFJlbmRlclN1cmZhY2UsIGJvdW5kcywgcHJldmlvdXNCb3VuZHMpIHtcbiAgICBjb25zdCBiYWNrZ3JvdW5kUmVzb2x1dGlvbiA9IGxhc3RSZW5kZXJTdXJmYWNlLmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gICAgY29uc3QgYmFja1RleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgICBiYWNrZ3JvdW5kUmVzb2x1dGlvbixcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBsZXQgeCA9IGJvdW5kcy5taW5YO1xuICAgIGxldCB5ID0gYm91bmRzLm1pblk7XG4gICAgaWYgKHByZXZpb3VzQm91bmRzKSB7XG4gICAgICB4IC09IHByZXZpb3VzQm91bmRzLm1pblg7XG4gICAgICB5IC09IHByZXZpb3VzQm91bmRzLm1pblk7XG4gICAgfVxuICAgIHggPSBNYXRoLmZsb29yKHggKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgeSA9IE1hdGguZmxvb3IoeSAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChib3VuZHMud2lkdGggKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKGJvdW5kcy5oZWlnaHQgKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQuY29weVRvVGV4dHVyZShcbiAgICAgIGxhc3RSZW5kZXJTdXJmYWNlLFxuICAgICAgYmFja1RleHR1cmUsXG4gICAgICB7IHgsIHkgfSxcbiAgICAgIHsgd2lkdGgsIGhlaWdodCB9LFxuICAgICAgeyB4OiAwLCB5OiAwIH1cbiAgICApO1xuICAgIHJldHVybiBiYWNrVGV4dHVyZTtcbiAgfVxuICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XTtcbiAgICBjb25zdCBib3VuZHMgPSBmaWx0ZXJEYXRhLmJvdW5kcztcbiAgICBjb25zdCBvZmZzZXQgPSBQb2ludC5zaGFyZWQ7XG4gICAgY29uc3QgcHJldmlvdXNSZW5kZXJTdXJmYWNlID0gZmlsdGVyRGF0YS5wcmV2aW91c1JlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgaXNGaW5hbFRhcmdldCA9IHByZXZpb3VzUmVuZGVyU3VyZmFjZSA9PT0gb3V0cHV0O1xuICAgIGxldCByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQucm9vdFJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlLl9yZXNvbHV0aW9uO1xuICAgIGxldCBjdXJyZW50SW5kZXggPSB0aGlzLl9maWx0ZXJTdGFja0luZGV4IC0gMTtcbiAgICB3aGlsZSAoY3VycmVudEluZGV4ID4gMCAmJiB0aGlzLl9maWx0ZXJTdGFja1tjdXJyZW50SW5kZXhdLnNraXApIHtcbiAgICAgIC0tY3VycmVudEluZGV4O1xuICAgIH1cbiAgICBpZiAoY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgcmVzb2x1dGlvbiA9IHRoaXMuX2ZpbHRlclN0YWNrW2N1cnJlbnRJbmRleF0uaW5wdXRUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyVW5pZm9ybXMgPSB0aGlzLl9maWx0ZXJHbG9iYWxVbmlmb3JtcztcbiAgICBjb25zdCB1bmlmb3JtcyA9IGZpbHRlclVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGNvbnN0IG91dHB1dEZyYW1lID0gdW5pZm9ybXMudU91dHB1dEZyYW1lO1xuICAgIGNvbnN0IGlucHV0U2l6ZSA9IHVuaWZvcm1zLnVJbnB1dFNpemU7XG4gICAgY29uc3QgaW5wdXRQaXhlbCA9IHVuaWZvcm1zLnVJbnB1dFBpeGVsO1xuICAgIGNvbnN0IGlucHV0Q2xhbXAgPSB1bmlmb3Jtcy51SW5wdXRDbGFtcDtcbiAgICBjb25zdCBnbG9iYWxGcmFtZSA9IHVuaWZvcm1zLnVHbG9iYWxGcmFtZTtcbiAgICBjb25zdCBvdXRwdXRUZXh0dXJlID0gdW5pZm9ybXMudU91dHB1dFRleHR1cmU7XG4gICAgaWYgKGlzRmluYWxUYXJnZXQpIHtcbiAgICAgIGxldCBsYXN0SW5kZXggPSB0aGlzLl9maWx0ZXJTdGFja0luZGV4O1xuICAgICAgd2hpbGUgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgbGFzdEluZGV4LS07XG4gICAgICAgIGNvbnN0IGZpbHRlckRhdGEyID0gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleCAtIDFdO1xuICAgICAgICBpZiAoIWZpbHRlckRhdGEyLnNraXApIHtcbiAgICAgICAgICBvZmZzZXQueCA9IGZpbHRlckRhdGEyLmJvdW5kcy5taW5YO1xuICAgICAgICAgIG9mZnNldC55ID0gZmlsdGVyRGF0YTIuYm91bmRzLm1pblk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dHB1dEZyYW1lWzBdID0gYm91bmRzLm1pblggLSBvZmZzZXQueDtcbiAgICAgIG91dHB1dEZyYW1lWzFdID0gYm91bmRzLm1pblkgLSBvZmZzZXQueTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0RnJhbWVbMF0gPSAwO1xuICAgICAgb3V0cHV0RnJhbWVbMV0gPSAwO1xuICAgIH1cbiAgICBvdXRwdXRGcmFtZVsyXSA9IGlucHV0LmZyYW1lLndpZHRoO1xuICAgIG91dHB1dEZyYW1lWzNdID0gaW5wdXQuZnJhbWUuaGVpZ2h0O1xuICAgIGlucHV0U2l6ZVswXSA9IGlucHV0LnNvdXJjZS53aWR0aDtcbiAgICBpbnB1dFNpemVbMV0gPSBpbnB1dC5zb3VyY2UuaGVpZ2h0O1xuICAgIGlucHV0U2l6ZVsyXSA9IDEgLyBpbnB1dFNpemVbMF07XG4gICAgaW5wdXRTaXplWzNdID0gMSAvIGlucHV0U2l6ZVsxXTtcbiAgICBpbnB1dFBpeGVsWzBdID0gaW5wdXQuc291cmNlLnBpeGVsV2lkdGg7XG4gICAgaW5wdXRQaXhlbFsxXSA9IGlucHV0LnNvdXJjZS5waXhlbEhlaWdodDtcbiAgICBpbnB1dFBpeGVsWzJdID0gMSAvIGlucHV0UGl4ZWxbMF07XG4gICAgaW5wdXRQaXhlbFszXSA9IDEgLyBpbnB1dFBpeGVsWzFdO1xuICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgIGlucHV0Q2xhbXBbMl0gPSBpbnB1dC5mcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSAtIDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgaW5wdXRDbGFtcFszXSA9IGlucHV0LmZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSAtIDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgY29uc3Qgcm9vdFRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclRhcmdldC5yb290UmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZTtcbiAgICBnbG9iYWxGcmFtZVswXSA9IG9mZnNldC54ICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVsxXSA9IG9mZnNldC55ICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVsyXSA9IHJvb3RUZXh0dXJlLnNvdXJjZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWVbM10gPSByb290VGV4dHVyZS5zb3VyY2UuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclRhcmdldC5nZXRSZW5kZXJUYXJnZXQob3V0cHV0KTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuYmluZChvdXRwdXQsICEhY2xlYXIpO1xuICAgIGlmIChvdXRwdXQgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICBvdXRwdXRUZXh0dXJlWzBdID0gb3V0cHV0LmZyYW1lLndpZHRoO1xuICAgICAgb3V0cHV0VGV4dHVyZVsxXSA9IG91dHB1dC5mcmFtZS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dFRleHR1cmVbMF0gPSByZW5kZXJUYXJnZXQud2lkdGg7XG4gICAgICBvdXRwdXRUZXh0dXJlWzFdID0gcmVuZGVyVGFyZ2V0LmhlaWdodDtcbiAgICB9XG4gICAgb3V0cHV0VGV4dHVyZVsyXSA9IHJlbmRlclRhcmdldC5pc1Jvb3QgPyAtMSA6IDE7XG4gICAgZmlsdGVyVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgaWYgKHJlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaCkge1xuICAgICAgY29uc3QgYmF0Y2hVbmlmb3JtcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaC5nZXRVYm9SZXNvdXJjZShmaWx0ZXJVbmlmb3Jtcyk7XG4gICAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoYmF0Y2hVbmlmb3JtcywgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShmaWx0ZXJVbmlmb3JtcywgMCk7XG4gICAgfVxuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShpbnB1dC5zb3VyY2UsIDEpO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShpbnB1dC5zb3VyY2Uuc3R5bGUsIDIpO1xuICAgIGZpbHRlci5ncm91cHNbMF0gPSB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXA7XG4gICAgcmVuZGVyZXIuZW5jb2Rlci5kcmF3KHtcbiAgICAgIGdlb21ldHJ5OiBxdWFkR2VvbWV0cnksXG4gICAgICBzaGFkZXI6IGZpbHRlcixcbiAgICAgIHN0YXRlOiBmaWx0ZXIuX3N0YXRlLFxuICAgICAgdG9wb2xvZ3k6IFwidHJpYW5nbGUtbGlzdFwiXG4gICAgfSk7XG4gICAgaWYgKHJlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmZpbmlzaFJlbmRlclBhc3MoKTtcbiAgICB9XG4gIH1cbiAgX2dldEZpbHRlckRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNraXA6IGZhbHNlLFxuICAgICAgaW5wdXRUZXh0dXJlOiBudWxsLFxuICAgICAgYm91bmRzOiBuZXcgQm91bmRzKCksXG4gICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICBmaWx0ZXJFZmZlY3Q6IG51bGwsXG4gICAgICBibGVuZFJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIHByZXZpb3VzUmVuZGVyU3VyZmFjZTogbnVsbFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgKlxuICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAqIEBwYXJhbSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIHtTcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgKiBAcmV0dXJucyBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICovXG4gIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhO1xuICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLndpZHRoLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLmhlaWdodCxcbiAgICAgIGRhdGEuYm91bmRzLm1pblgsXG4gICAgICBkYXRhLmJvdW5kcy5taW5ZXG4gICAgKTtcbiAgICBjb25zdCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LnNoYXJlZCk7XG4gICAgY29uc3QgcmVuZGVyR3JvdXAgPSBzcHJpdGUucmVuZGVyR3JvdXAgfHwgc3ByaXRlLnBhcmVudFJlbmRlckdyb3VwO1xuICAgIGlmIChyZW5kZXJHcm91cCAmJiByZW5kZXJHcm91cC5jYWNoZVRvTG9jYWxUcmFuc2Zvcm0pIHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtLnByZXBlbmQocmVuZGVyR3JvdXAuY2FjaGVUb0xvY2FsVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZShcbiAgICAgIDEgLyBzcHJpdGUudGV4dHVyZS5mcmFtZS53aWR0aCxcbiAgICAgIDEgLyBzcHJpdGUudGV4dHVyZS5mcmFtZS5oZWlnaHRcbiAgICApO1xuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5GaWx0ZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcImZpbHRlclwiXG59O1xuXG5leHBvcnQgeyBGaWx0ZXJTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlclN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXJQaXBlIH0gZnJvbSAnLi9GaWx0ZXJQaXBlLm1qcyc7XG5pbXBvcnQgeyBGaWx0ZXJTeXN0ZW0gfSBmcm9tICcuL0ZpbHRlclN5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKEZpbHRlclN5c3RlbSk7XG5leHRlbnNpb25zLmFkZChGaWx0ZXJQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwidmFyIHNvdXJjZSA9IFwic3RydWN0IEdsb2JhbEZpbHRlclVuaWZvcm1zIHtcXG4gIHVJbnB1dFNpemU6dmVjNDxmMzI+LFxcbiAgdUlucHV0UGl4ZWw6dmVjNDxmMzI+LFxcbiAgdUlucHV0Q2xhbXA6dmVjNDxmMzI+LFxcbiAgdU91dHB1dEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVHbG9iYWxGcmFtZTp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0VGV4dHVyZTp2ZWM0PGYzMj4sXFxufTtcXG5cXG5zdHJ1Y3QgTWFza1VuaWZvcm1zIHtcXG4gIHVGaWx0ZXJNYXRyaXg6bWF0M3gzPGYzMj4sXFxuICB1TWFza0NsYW1wOnZlYzQ8ZjMyPixcXG4gIHVBbHBoYTpmMzIsXFxuICB1SW52ZXJzZTpmMzIsXFxufTtcXG5cXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdmdTogR2xvYmFsRmlsdGVyVW5pZm9ybXM7XFxuQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXIgOiBzYW1wbGVyO1xcblxcbkBncm91cCgxKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZmlsdGVyVW5pZm9ybXMgOiBNYXNrVW5pZm9ybXM7XFxuQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB1TWFza1RleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcXG5cXG5zdHJ1Y3QgVlNPdXRwdXQge1xcbiAgICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDApIHV2IDogdmVjMjxmMzI+LFxcbiAgICBAbG9jYXRpb24oMSkgZmlsdGVyVXYgOiB2ZWMyPGYzMj4sXFxufTtcXG5cXG5mbiBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb246dmVjMjxmMzI+KSAtPiB2ZWM0PGYzMj5cXG57XFxuICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIGdmdS51T3V0cHV0RnJhbWUuencgKyBnZnUudU91dHB1dEZyYW1lLnh5O1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqICgyLjAgLyBnZnUudU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCpnZnUudU91dHB1dFRleHR1cmUueiAvIGdmdS51T3V0cHV0VGV4dHVyZS55KSAtIGdmdS51T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG5mbiBmaWx0ZXJUZXh0dXJlQ29vcmQoIGFQb3NpdGlvbjp2ZWMyPGYzMj4gKSAtPiB2ZWMyPGYzMj5cXG57XFxuICAgIHJldHVybiBhUG9zaXRpb24gKiAoZ2Z1LnVPdXRwdXRGcmFtZS56dyAqIGdmdS51SW5wdXRTaXplLnp3KTtcXG59XFxuXFxuZm4gZ2xvYmFsVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICAoYVBvc2l0aW9uLnh5IC8gZ2Z1LnVHbG9iYWxGcmFtZS56dykgKyAoZ2Z1LnVHbG9iYWxGcmFtZS54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpO1xcbn1cXG5cXG5mbiBnZXRGaWx0ZXJDb29yZChhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICggZmlsdGVyVW5pZm9ybXMudUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn1cXG5cXG5mbiBnZXRTaXplKCkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuIGdmdS51R2xvYmFsRnJhbWUuenc7XFxufVxcblxcbkB2ZXJ0ZXhcXG5mbiBtYWluVmVydGV4KFxcbiAgQGxvY2F0aW9uKDApIGFQb3NpdGlvbiA6IHZlYzI8ZjMyPixcXG4pIC0+IFZTT3V0cHV0IHtcXG4gIHJldHVybiBWU091dHB1dChcXG4gICBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb24pLFxcbiAgIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLFxcbiAgIGdldEZpbHRlckNvb3JkKGFQb3NpdGlvbilcXG4gICk7XFxufVxcblxcbkBmcmFnbWVudFxcbmZuIG1haW5GcmFnbWVudChcXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMjxmMzI+LFxcbiAgQGxvY2F0aW9uKDEpIGZpbHRlclV2OiB2ZWMyPGYzMj4sXFxuICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPlxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuXFxuICAgIHZhciBtYXNrQ2xhbXAgPSBmaWx0ZXJVbmlmb3Jtcy51TWFza0NsYW1wO1xcbiAgICB2YXIgdUFscGhhID0gZmlsdGVyVW5pZm9ybXMudUFscGhhO1xcblxcbiAgICB2YXIgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgIHN0ZXAobWFza0NsYW1wLngsIGZpbHRlclV2LngpICtcXG4gICAgICBzdGVwKG1hc2tDbGFtcC55LCBmaWx0ZXJVdi55KSArXFxuICAgICAgc3RlcChmaWx0ZXJVdi54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgIHN0ZXAoZmlsdGVyVXYueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmFyIG1hc2sgPSB0ZXh0dXJlU2FtcGxlKHVNYXNrVGV4dHVyZSwgdVNhbXBsZXIsIGZpbHRlclV2KTtcXG4gICAgdmFyIHNvdXJjZSA9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCB1dik7XFxuICAgIHZhciBhbHBoYU11bCA9IDEuMCAtIHVBbHBoYSAqICgxLjAgLSBtYXNrLmEpO1xcblxcbiAgICB2YXIgYTogZjMyID0gYWxwaGFNdWwgKiBtYXNrLnIgKiB1QWxwaGEgKiBjbGlwO1xcblxcbiAgICBpZiAoZmlsdGVyVW5pZm9ybXMudUludmVyc2UgPT0gMS4wKSB7XFxuICAgICAgICBhID0gMS4wIC0gYTtcXG4gICAgfVxcblxcbiAgICByZXR1cm4gc291cmNlICogYTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHNvdXJjZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLndnc2wubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVNYXRyaXgubWpzJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4uL0ZpbHRlci5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbWFzay5mcmFnLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vbWFzay52ZXJ0Lm1qcyc7XG5pbXBvcnQgc291cmNlIGZyb20gJy4vbWFzay53Z3NsLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHNwcml0ZSwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgoc3ByaXRlLnRleHR1cmUpO1xuICAgIGNvbnN0IGZpbHRlclVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1RmlsdGVyTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdU1hc2tDbGFtcDogeyB2YWx1ZTogdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUFscGhhOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICB1SW52ZXJzZTogeyB2YWx1ZTogb3B0aW9ucy5pbnZlcnNlID8gMSA6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgIH0pO1xuICAgIGNvbnN0IGdwdVByb2dyYW0gPSBHcHVQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4OiB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluVmVydGV4XCJcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpbkZyYWdtZW50XCJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBHbFByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXgsXG4gICAgICBmcmFnbWVudCxcbiAgICAgIG5hbWU6IFwibWFzay1maWx0ZXJcIlxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGZpbHRlclVuaWZvcm1zLFxuICAgICAgICB1TWFza1RleHR1cmU6IHNwcml0ZS50ZXh0dXJlLnNvdXJjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXggPSB0ZXh0dXJlTWF0cml4O1xuICB9XG4gIHNldCBpbnZlcnNlKHZhbHVlKSB7XG4gICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUludmVyc2UgPSB2YWx1ZSA/IDEgOiAwO1xuICB9XG4gIGdldCBpbnZlcnNlKCkge1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5maWx0ZXJVbmlmb3Jtcy51bmlmb3Jtcy51SW52ZXJzZSA9PT0gMTtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4LnRleHR1cmUgPSB0aGlzLnNwcml0ZS50ZXh0dXJlO1xuICAgIGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KFxuICAgICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUZpbHRlck1hdHJpeCxcbiAgICAgIHRoaXMuc3ByaXRlXG4gICAgKS5wcmVwZW5kKHRoaXMuX3RleHR1cmVNYXRyaXgubWFwQ29vcmQpO1xuICAgIHRoaXMucmVzb3VyY2VzLnVNYXNrVGV4dHVyZSA9IHRoaXMuc3ByaXRlLnRleHR1cmUuc291cmNlO1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBNYXNrRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImluIHZlYzIgYVBvc2l0aW9uO1xcblxcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxub3V0IHZlYzIgdk1hc2tDb29yZDtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdUlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dEZyYW1lO1xcbnVuaWZvcm0gdmVjNCB1T3V0cHV0VGV4dHVyZTtcXG51bmlmb3JtIG1hdDMgdUZpbHRlck1hdHJpeDtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCAgdmVjMiBhUG9zaXRpb24gKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIHVPdXRwdXRGcmFtZS56dyArIHVPdXRwdXRGcmFtZS54eTtcXG4gICAgICAgXFxuICAgIHBvc2l0aW9uLnggPSBwb3NpdGlvbi54ICogKDIuMCAvIHVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqdU91dHB1dFRleHR1cmUueiAvIHVPdXRwdXRUZXh0dXJlLnkpIC0gdU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoICB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKHVPdXRwdXRGcmFtZS56dyAqIHVJbnB1dFNpemUuencpO1xcbn1cXG5cXG52ZWMyIGdldEZpbHRlckNvb3JkKCB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gICggdUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn0gICBcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pO1xcbiAgICB2TWFza0Nvb3JkID0gZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLnZlcnQubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJpbiB2ZWMyIHZNYXNrQ29vcmQ7XFxuaW4gdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVNYXNrVGV4dHVyZTtcXG5cXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG51bmlmb3JtIHZlYzQgdU1hc2tDbGFtcDtcXG51bmlmb3JtIGZsb2F0IHVJbnZlcnNlO1xcblxcbm91dCB2ZWM0IGZpbmFsQ29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKHVNYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKHVNYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgdU1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgdU1hc2tDbGFtcC53KSk7XFxuXFxuICAgIC8vIFRPRE8gbG9vayBpbnRvIHdoeSB0aGlzIGlzIG5lZWRlZFxcbiAgICBmbG9hdCBucG1BbHBoYSA9IHVBbHBoYTtcXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUodVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZSh1TWFza1RleHR1cmUsIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBmbG9hdCBhID0gYWxwaGFNdWwgKiBtYXNreS5yICogbnBtQWxwaGEgKiBjbGlwO1xcblxcbiAgICBpZiAodUludmVyc2UgPT0gMS4wKSB7XFxuICAgICAgICBhID0gMS4wIC0gYTtcXG4gICAgfVxcblxcbiAgICBmaW5hbENvbG9yID0gb3JpZ2luYWwgKiBhO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzay5mcmFnLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjdWxsaW5nTWl4aW4iLCJjdWxsQXJlYSIsImN1bGxhYmxlIiwiY3VsbGFibGVDaGlsZHJlbiIsIkV2ZW50c1RpY2tlciIsImNvbnN0cnVjdG9yIiwidGhpcyIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwiX2RlbHRhVGltZSIsIl9kaWRNb3ZlIiwiX3RpY2tlckFkZGVkIiwiX3BhdXNlVXBkYXRlIiwiaW5pdCIsImV2ZW50cyIsInJlbW92ZVRpY2tlckxpc3RlbmVyIiwicGF1c2VVcGRhdGUiLCJwYXVzZWQiLCJhZGRUaWNrZXJMaXN0ZW5lciIsImRvbUVsZW1lbnQiLCJUaWNrZXIiLCJzeXN0ZW0iLCJhZGQiLCJfdGlja2VyVXBkYXRlIiwiSU5URVJBQ1RJT04iLCJyZW1vdmUiLCJwb2ludGVyTW92ZWQiLCJfdXBkYXRlIiwicm9vdFBvaW50ZXJFdmVudCIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJwb2ludGVyVHlwZSIsImdsb2JhbFRoaXMiLCJkb2N1bWVudCIsImRpc3BhdGNoRXZlbnQiLCJQb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInBvaW50ZXJJZCIsInRpY2tlciIsImRlbHRhVGltZSIsIkZlZGVyYXRlZE1vdXNlRXZlbnQiLCJGZWRlcmF0ZWRFdmVudCIsInN1cGVyIiwiYXJndW1lbnRzIiwiY2xpZW50IiwiUG9pbnQiLCJtb3ZlbWVudCIsIm9mZnNldCIsImdsb2JhbCIsInNjcmVlbiIsIngiLCJ5IiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsInNjcmVlblgiLCJzY3JlZW5ZIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImNvbnRhaW5lciIsInBvaW50IiwiZ2xvYmFsUG9zIiwid29ybGRUcmFuc2Zvcm0iLCJhcHBseUludmVyc2UiLCJnZXRNb2RpZmllclN0YXRlIiwia2V5IiwibmF0aXZlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsIl90eXBlQXJnIiwiX2NhbkJ1YmJsZUFyZyIsIl9jYW5jZWxhYmxlQXJnIiwiX3ZpZXdBcmciLCJfZGV0YWlsQXJnIiwiX3NjcmVlblhBcmciLCJfc2NyZWVuWUFyZyIsIl9jbGllbnRYQXJnIiwiX2NsaWVudFlBcmciLCJfY3RybEtleUFyZyIsIl9hbHRLZXlBcmciLCJfc2hpZnRLZXlBcmciLCJfbWV0YUtleUFyZyIsIl9idXR0b25BcmciLCJfcmVsYXRlZFRhcmdldEFyZyIsIkVycm9yIiwiRmVkZXJhdGVkUG9pbnRlckV2ZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJpc1ByaW1hcnkiLCJnZXRDb2FsZXNjZWRFdmVudHMiLCJ0eXBlIiwiZ2V0UHJlZGljdGVkRXZlbnRzIiwiRmVkZXJhdGVkV2hlZWxFdmVudCIsIkRPTV9ERUxUQV9QSVhFTCIsIkRPTV9ERUxUQV9MSU5FIiwiRE9NX0RFTFRBX1BBR0UiLCJ0ZW1wSGl0TG9jYXRpb24iLCJ0ZW1wTG9jYWxNYXBwaW5nIiwiRXZlbnRCb3VuZGFyeSIsInJvb3RUYXJnZXQiLCJkaXNwYXRjaCIsIm1vdmVPbkFsbCIsImVuYWJsZUdsb2JhbE1vdmVFdmVudHMiLCJtYXBwaW5nU3RhdGUiLCJ0cmFja2luZ0RhdGEiLCJldmVudFBvb2wiLCJNYXAiLCJfYWxsSW50ZXJhY3RpdmVFbGVtZW50cyIsIl9oaXRFbGVtZW50cyIsIl9pc1BvaW50ZXJNb3ZlRXZlbnQiLCJoaXRQcnVuZUZuIiwiYmluZCIsImhpdFRlc3RGbiIsIm1hcFBvaW50ZXJEb3duIiwibWFwUG9pbnRlck1vdmUiLCJtYXBQb2ludGVyT3V0IiwibWFwUG9pbnRlck92ZXIiLCJtYXBQb2ludGVyVXAiLCJtYXBQb2ludGVyVXBPdXRzaWRlIiwibWFwV2hlZWwiLCJtYXBwaW5nVGFibGUiLCJhZGRFdmVudE1hcHBpbmciLCJmbiIsInB1c2giLCJwcmlvcml0eSIsInNvcnQiLCJhIiwiYiIsImUiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJwcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCIsInByb3BhZ2F0ZSIsImVtaXQiLCJtYXBFdmVudCIsIm1hcHBlcnMiLCJpIiwiaiIsImxlbmd0aCIsIndhcm4iLCJoaXRUZXN0IiwiaW52ZXJ0ZWRQYXRoIiwiZXZlbnRNb2RlIiwic2V0IiwidGFyZ2V0IiwiY29tcG9zZWRQYXRoIiwiZXZlbnRQaGFzZSIsIkNBUFRVUklOR19QSEFTRSIsImN1cnJlbnRUYXJnZXQiLCJub3RpZnlUYXJnZXQiLCJBVF9UQVJHRVQiLCJCVUJCTElOR19QSEFTRSIsImFsbCIsInRhcmdldHMiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiZXZlbnQiLCJwcm9wYWdhdGlvblBhdGgiLCJwYXJlbnQiLCJyZXZlcnNlIiwiaGl0VGVzdE1vdmVSZWN1cnNpdmUiLCJsb2NhdGlvbiIsInRlc3RGbiIsInBydW5lRm4iLCJpZ25vcmUiLCJzaG91bGRSZXR1cm4iLCJfaW50ZXJhY3RpdmVQcnVuZSIsImludGVyYWN0aXZlQ2hpbGRyZW4iLCJjaGlsZHJlbiIsImNoaWxkIiwibmVzdGVkSGl0IiwiX2lzSW50ZXJhY3RpdmUiLCJpc0ludGVyYWN0aXZlIiwiaXNJbnRlcmFjdGl2ZU1vZGUiLCJpc0ludGVyYWN0aXZlVGFyZ2V0IiwiaGl0VGVzdFJlY3Vyc2l2ZSIsInJlbGF0aXZlTG9jYXRpb24iLCJpbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsIm1lYXN1cmFibGUiLCJoaXRBcmVhIiwiY29udGFpbnMiLCJlZmZlY3RzIiwiZWZmZWN0IiwiY29udGFpbnNQb2ludCIsImhhbmRsZXJLZXkiLCJfbm90aWZ5TGlzdGVuZXJzIiwiZnJvbSIsImNyZWF0ZVBvaW50ZXJFdmVudCIsImlzUmlnaHRCdXR0b24iLCJidXR0b24iLCJwcmVzc1RhcmdldHNCeUJ1dHRvbiIsImZyZWVFdmVudCIsImlzTW91c2UiLCJvdXRUYXJnZXQiLCJmaW5kTW91bnRlZFRhcmdldCIsIm92ZXJUYXJnZXRzIiwib3V0VHlwZSIsIm91dEV2ZW50IiwiaW5jbHVkZXMiLCJsZWF2ZUV2ZW50Iiwib3ZlclR5cGUiLCJvdmVyRXZlbnQiLCJjbG9uZVBvaW50ZXJFdmVudCIsIm92ZXJUYXJnZXRBbmNlc3RvciIsImVudGVyRXZlbnQiLCJhbGxNZXRob2RzIiwiYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzIiwic3BsaWNlIiwiY3Vyc29yIiwibm93IiwicGVyZm9ybWFuY2UiLCJwcmVzc1RhcmdldCIsImNsaWNrVGFyZ2V0IiwiY2xpY2tFdmVudCIsInBhdGgiLCJjbGlja3NCeUJ1dHRvbiIsImNsaWNrQ291bnQiLCJ0aW1lU3RhbXAiLCJjbGlja0hpc3RvcnkiLCJkZXRhaWwiLCJ3aGVlbEV2ZW50IiwiY3JlYXRlV2hlZWxFdmVudCIsImFsbG9jYXRlRXZlbnQiLCJjb3B5UG9pbnRlckRhdGEiLCJjb3B5TW91c2VEYXRhIiwiY29weURhdGEiLCJvcmlnaW5hbEV2ZW50IiwiY29weVdoZWVsRGF0YSIsInNsaWNlIiwidG8iLCJkZWx0YU1vZGUiLCJkZWx0YVgiLCJkZWx0YVkiLCJkZWx0YVoiLCJwcmVzc3VyZSIsInRhbmdlbnRpYWxQcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJ0d2lzdCIsImFsdEtleSIsImJ1dHRvbnMiLCJjb3B5RnJvbSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJpc1RydXN0ZWQiLCJzcmNFbGVtZW50IiwidmlldyIsIndoaWNoIiwibGF5ZXIiLCJwYWdlIiwiaWQiLCJvdmVyVGFyZ2V0IiwiaGFzIiwiZ2V0IiwicG9wIiwiTk9ORSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJtYW5hZ2VyIiwibGlzdGVuZXJzIiwiX2V2ZW50cyIsIm9uY2UiLCJyZW1vdmVMaXN0ZW5lciIsImNhbGwiLCJjb250ZXh0IiwiVE9VQ0hfVE9fUE9JTlRFUiIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRvdWNoZW5kb3V0c2lkZSIsInRvdWNobW92ZSIsInRvdWNoY2FuY2VsIiwiX0V2ZW50U3lzdGVtIiwicmVuZGVyZXIiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJyZXNvbHV0aW9uIiwicm9vdEJvdW5kYXJ5IiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiX2V2ZW50c0FkZGVkIiwiX3Jvb3RQb2ludGVyRXZlbnQiLCJfcm9vdFdoZWVsRXZlbnQiLCJjdXJzb3JTdHlsZXMiLCJkZWZhdWx0IiwicG9pbnRlciIsImZlYXR1cmVzIiwiUHJveHkiLCJkZWZhdWx0RXZlbnRGZWF0dXJlcyIsInZhbHVlIiwiX29uUG9pbnRlckRvd24iLCJfb25Qb2ludGVyTW92ZSIsIl9vblBvaW50ZXJVcCIsIl9vblBvaW50ZXJPdmVyT3V0Iiwib25XaGVlbCIsImRlZmF1bHRFdmVudE1vZGUiLCJfZGVmYXVsdEV2ZW50TW9kZSIsIm9wdGlvbnMiLCJjYW52YXMiLCJzZXRUYXJnZXRFbGVtZW50IiwiT2JqZWN0IiwiYXNzaWduIiwiZXZlbnRGZWF0dXJlcyIsImdsb2JhbE1vdmUiLCJyZXNvbHV0aW9uQ2hhbmdlIiwiZGVzdHJveSIsIl9jdXJyZW50Q3Vyc29yIiwic2V0Q3Vyc29yIiwibW9kZSIsImFwcGx5U3R5bGVzIiwiT2Zmc2NyZWVuQ2FudmFzIiwic3R5bGUiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNsaWNrIiwibGFzdE9iamVjdFJlbmRlcmVkIiwiX25vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwicHJldmVudERlZmF1bHQiLCJuYXRpdmVFdmVudDIiLCJmZWRlcmF0ZWRFdmVudCIsIl9ib290c3RyYXBFdmVudCIsIm1vdmUiLCJub3JtYWxpemVkRXZlbnRzIiwib3V0c2lkZSIsIndoZWVsIiwibm9ybWFsaXplV2hlZWxFdmVudCIsImVsZW1lbnQiLCJfcmVtb3ZlRXZlbnRzIiwiX2FkZEV2ZW50cyIsIm5hdmlnYXRvciIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc0NvbnRlbnRab29taW5nIiwibXNUb3VjaEFjdGlvbiIsInRvdWNoQWN0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJjYXB0dXJlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInJlY3QiLCJpc0Nvbm5lY3RlZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2giLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJpZGVudGlmaWVyIiwiZm9yY2UiLCJsYXllclgiLCJsYXllclkiLCJNb3VzZUV2ZW50IiwidGVtcEV2ZW50IiwiX3RyYW5zZmVyTW91c2VEYXRhIiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJwYWdlWCIsInBhZ2VZIiwicmVsYXRlZFRhcmdldCIsImV4dGVuc2lvbiIsIm5hbWUiLCJXZWJHTFN5c3RlbSIsIkNhbnZhc1N5c3RlbSIsIldlYkdQVVN5c3RlbSIsIkV2ZW50U3lzdGVtIiwiRmVkZXJhdGVkQ29udGFpbmVyIiwib25jbGljayIsIm9ubW91c2Vkb3duIiwib25tb3VzZWVudGVyIiwib25tb3VzZWxlYXZlIiwib25tb3VzZW1vdmUiLCJvbmdsb2JhbG1vdXNlbW92ZSIsIm9ubW91c2VvdXQiLCJvbm1vdXNlb3ZlciIsIm9ubW91c2V1cCIsIm9ubW91c2V1cG91dHNpZGUiLCJvbnBvaW50ZXJjYW5jZWwiLCJvbnBvaW50ZXJkb3duIiwib25wb2ludGVyZW50ZXIiLCJvbnBvaW50ZXJsZWF2ZSIsIm9ucG9pbnRlcm1vdmUiLCJvbmdsb2JhbHBvaW50ZXJtb3ZlIiwib25wb2ludGVyb3V0Iiwib25wb2ludGVyb3ZlciIsIm9ucG9pbnRlcnRhcCIsIm9ucG9pbnRlcnVwIiwib25wb2ludGVydXBvdXRzaWRlIiwib25yaWdodGNsaWNrIiwib25yaWdodGRvd24iLCJvbnJpZ2h0dXAiLCJvbnJpZ2h0dXBvdXRzaWRlIiwib250YXAiLCJvbnRvdWNoY2FuY2VsIiwib250b3VjaGVuZCIsIm9udG91Y2hlbmRvdXRzaWRlIiwib250b3VjaG1vdmUiLCJvbmdsb2JhbHRvdWNobW92ZSIsIm9udG91Y2hzdGFydCIsIm9ud2hlZWwiLCJpbnRlcmFjdGl2ZSIsIl9pbnRlcm5hbEV2ZW50TW9kZSIsImxpc3RlbmVyIiwic2lnbmFsIiwibGlzdGVuZXJGbiIsImhhbmRsZUV2ZW50IiwiZW1pdHRlciIsIm9mZiIsIm9uIiwiQ29udGFpbmVyIiwibWl4aW4iLCJicm93c2VyRXh0IiwiRW52aXJvbm1lbnQiLCJ0ZXN0IiwibG9hZCIsImFzeW5jIiwid2Vid29ya2VyRXh0Iiwic2VsZiIsIldvcmtlckdsb2JhbFNjb3BlIiwiY3VycmVudEFkYXB0ZXIiLCJjcmVhdGVDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwiZ2V0V2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0TmF2aWdhdG9yIiwiZ2V0QmFzZVVybCIsImJhc2VVUkkiLCJ3aW5kb3ciLCJocmVmIiwiZ2V0Rm9udEZhY2VTZXQiLCJmb250cyIsImZldGNoIiwidXJsIiwicGFyc2VYTUwiLCJ4bWwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJET01BZGFwdGVyIiwiYWRhcHRlciIsImVudmlyb25tZW50cyIsImxvYWRFbnZpcm9ubWVudEV4dGVuc2lvbnMiLCJza2lwIiwiZW52IiwiaGFuZGxlQnlOYW1lZExpc3QiLCJidWJibGVzIiwiY2FuY2VsQnViYmxlIiwiY29tcG9zZWQiLCJkYXRhIiwiaW5pdEV2ZW50IiwiX3R5cGUiLCJfYnViYmxlcyIsIl9jYW5jZWxhYmxlIiwiaW5pdFVJRXZlbnQiLCJfYnViYmxlc0FyZyIsIkV2ZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiRXh0ZW5zaW9uVHlwZSIsIkV4dGVuc2lvblR5cGUyIiwibm9ybWFsaXplRXh0ZW5zaW9uIiwiZXh0IiwicmVmIiwibm9ybWFsaXplRXh0ZW5zaW9uUHJpb3JpdHkiLCJkZWZhdWx0UHJpb3JpdHkiLCJleHRlbnNpb25zIiwiX2FkZEhhbmRsZXJzIiwiX3JlbW92ZUhhbmRsZXJzIiwiX3F1ZXVlIiwiZXh0ZW5zaW9uczIiLCJtYXAiLCJoYW5kbGVycyIsInF1ZXVlIiwiaGFuZGxlIiwib25BZGQiLCJvblJlbW92ZSIsImFkZEhhbmRsZXJzIiwicmVtb3ZlSGFuZGxlcnMiLCJoYW5kbGVCeU1hcCIsImZpbmRJbmRleCIsIml0ZW0iLCJpbmRleCIsImhhbmRsZUJ5TGlzdCIsImxpc3QiLCJpbmRleE9mIiwiX0ZpbHRlciIsImRlZmF1bHRPcHRpb25zIiwiZW5hYmxlZCIsIl9zdGF0ZSIsImZvcjJkIiwiYmxlbmRNb2RlIiwicGFkZGluZyIsImFudGlhbGlhcyIsImJsZW5kUmVxdWlyZWQiLCJjbGlwVG9WaWV3cG9ydCIsImFkZFJlc291cmNlIiwiYXBwbHkiLCJmaWx0ZXJNYW5hZ2VyIiwiaW5wdXQiLCJvdXRwdXQiLCJjbGVhck1vZGUiLCJhcHBseUZpbHRlciIsImdwdSIsImdsIiwicmVzdCIsImdwdVByb2dyYW0iLCJnbFByb2dyYW0iLCJGaWx0ZXIiLCJGaWx0ZXJFZmZlY3QiLCJwaXBlIiwiZmlsdGVycyIsImZpbHRlckFyZWEiLCJzb3VyY2UiLCJfQWxwaGFGaWx0ZXIiLCJHcHVQcm9ncmFtIiwidmVydGV4IiwiZW50cnlQb2ludCIsImZyYWdtZW50IiwiR2xQcm9ncmFtIiwiYWxwaGEiLCJyZXNvdXJjZXMiLCJhbHBoYVVuaWZvcm1zIiwiVW5pZm9ybUdyb3VwIiwidUFscGhhIiwidW5pZm9ybXMiLCJBbHBoYUZpbHRlciIsIkJsdXJGaWx0ZXIiLCJhcmdzIiwic3RyZW5ndGgiLCJxdWFsaXR5Iiwia2VybmVsU2l6ZSIsInN0cmVuZ3RoWCIsInN0cmVuZ3RoWSIsImNvbXBhdGlibGVSZW5kZXJlcnMiLCJCT1RIIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJibHVyWEZpbHRlciIsImhvcml6b250YWwiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJNYXRoIiwiYWJzIiwieVN0cmVuZ3RoIiwidGVtcFRleHR1cmUiLCJnZXRTYW1lU2l6ZVRleHR1cmUiLCJyZXR1cm5UZXh0dXJlIiwidXBkYXRlUGFkZGluZyIsIm1heCIsImJsdXIiLCJibHVyWCIsImJsdXJZIiwiR0FVU1NJQU5fVkFMVUVTIiwiZnJhZ1RlbXBsYXRlIiwiam9pbiIsImdlbmVyYXRlQmx1ckdsUHJvZ3JhbSIsImhhbGZMZW5ndGgiLCJjZWlsIiwidGVtcGxhdGUiLCJ2ZXJ0U291cmNlIiwiYmx1ckxvb3AiLCJ0b1N0cmluZyIsImdlbmVyYXRlQmx1clZlcnRTb3VyY2UiLCJrZXJuZWwiLCJmcmFnU291cmNlIiwiZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSIsIl9CbHVyRmlsdGVyUGFzcyIsImJsdXJTdHJ1Y3RTb3VyY2UiLCJibHVyT3V0U291cmNlIiwiYmx1clNhbXBsaW5nU291cmNlIiwia2VybmVsVmFsdWUiLCJibHVyU3RydWN0IiwiYmx1ck91dCIsImJsdXJTYW1wbGluZyIsImZpbmFsU291cmNlIiwiZ2VuZXJhdGVCbHVyUHJvZ3JhbSIsImJsdXJVbmlmb3JtcyIsInVTdHJlbmd0aCIsIl9xdWFsaXR5IiwiX3VuaWZvcm1zIiwicGFzc2VzIiwiVGV4dHVyZVBvb2wiLCJmbGlwIiwiZmxvcCIsImJsZW5kIiwic2hvdWxkQ2xlYXIiLCJXRUJHUFUiLCJ0ZW1wIiwiQmx1ckZpbHRlclBhc3MiLCJGaWx0ZXJQaXBlIiwiX3JlbmRlcmVyIiwiZmlsdGVyRWZmZWN0IiwiaW5zdHJ1Y3Rpb25TZXQiLCJyZW5kZXJQaXBlcyIsImJhdGNoIiwiYnJlYWsiLCJyZW5kZXJQaXBlSWQiLCJjYW5CdW5kbGUiLCJhY3Rpb24iLCJfZmlsdGVyRWZmZWN0IiwiX2NvbnRhaW5lciIsImV4ZWN1dGUiLCJpbnN0cnVjdGlvbiIsImZpbHRlciIsIldlYkdMUGlwZXMiLCJXZWJHUFVQaXBlcyIsIkNhbnZhc1BpcGVzIiwicXVhZEdlb21ldHJ5IiwiR2VvbWV0cnkiLCJhdHRyaWJ1dGVzIiwiYVBvc2l0aW9uIiwiYnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiZm9ybWF0Iiwic3RyaWRlIiwiaW5kZXhCdWZmZXIiLCJVaW50MzJBcnJheSIsIkZpbHRlclN5c3RlbSIsIl9maWx0ZXJTdGFja0luZGV4IiwiX2ZpbHRlclN0YWNrIiwiX2ZpbHRlckdsb2JhbFVuaWZvcm1zIiwidUlucHV0U2l6ZSIsInVJbnB1dFBpeGVsIiwidUlucHV0Q2xhbXAiLCJ1T3V0cHV0RnJhbWUiLCJ1R2xvYmFsRnJhbWUiLCJ1T3V0cHV0VGV4dHVyZSIsIl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAiLCJCaW5kR3JvdXAiLCJhY3RpdmVCYWNrVGV4dHVyZSIsIl9hY3RpdmVGaWx0ZXJEYXRhIiwiYmFja1RleHR1cmUiLCJfZ2V0RmlsdGVyRGF0YSIsImZpbHRlckRhdGEiLCJib3VuZHMiLCJyZW5kZXJhYmxlcyIsImNsZWFyIiwiYWRkUmVjdCIsImFwcGx5TWF0cml4IiwiZ2V0RmFzdEdsb2JhbEJvdW5kcyIsImZpbHRlckZyYW1lVHJhbnNmb3JtIiwicmVuZGVyR3JvdXAiLCJwYXJlbnRSZW5kZXJHcm91cCIsImNhY2hlVG9Mb2NhbFRyYW5zZm9ybSIsImNvbG9yVGV4dHVyZVNvdXJjZSIsInJlbmRlclRhcmdldCIsImNvbG9yVGV4dHVyZSIsIkluZmluaXR5IiwibWluIiwiX3Jlc29sdXRpb24iLCJiYWNrQnVmZmVyIiwidXNlQmFja0J1ZmZlciIsInZpZXdQb3J0Iiwicm9vdFZpZXdQb3J0Iiwicm9vdFJlc29sdXRpb24iLCJmaXRCb3VuZHMiLCJzY2FsZSIsInBhZCIsImlzUG9zaXRpdmUiLCJwcmV2aW91c1JlbmRlclN1cmZhY2UiLCJyZW5kZXJTdXJmYWNlIiwiaW5wdXRUZXh0dXJlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJnbG9iYWxVbmlmb3JtcyIsIlRleHR1cmUiLCJFTVBUWSIsImZpbmlzaFJlbmRlclBhc3MiLCJwcmV2aW91c0JvdW5kcyIsImdldFJlbmRlclRhcmdldCIsImdldEJhY2tUZXh0dXJlIiwic2V0UmVzb3VyY2UiLCJ0IiwibGFzdFJlbmRlclN1cmZhY2UiLCJiYWNrZ3JvdW5kUmVzb2x1dGlvbiIsIm1pblgiLCJtaW5ZIiwiZmxvb3IiLCJjb3B5VG9UZXh0dXJlIiwic2hhcmVkIiwiaXNGaW5hbFRhcmdldCIsInJvb3RSZW5kZXJUYXJnZXQiLCJjdXJyZW50SW5kZXgiLCJmaWx0ZXJVbmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJnbG9iYWxGcmFtZSIsIm91dHB1dFRleHR1cmUiLCJsYXN0SW5kZXgiLCJmaWx0ZXJEYXRhMiIsImZyYW1lIiwicGl4ZWxXaWR0aCIsInBpeGVsSGVpZ2h0Iiwicm9vdFRleHR1cmUiLCJpc1Jvb3QiLCJ1cGRhdGUiLCJ1bmlmb3JtQmF0Y2giLCJiYXRjaFVuaWZvcm1zIiwiZ2V0VWJvUmVzb3VyY2UiLCJncm91cHMiLCJlbmNvZGVyIiwiZHJhdyIsImdlb21ldHJ5Iiwic2hhZGVyIiwic3RhdGUiLCJ0b3BvbG9neSIsIldFQkdMIiwiQm91bmRzIiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4Iiwib3V0cHV0TWF0cml4Iiwic3ByaXRlIiwibWFwcGVkTWF0cml4IiwiX3NvdXJjZSIsImNvcHlUbyIsIk1hdHJpeCIsInByZXBlbmQiLCJpbnZlcnQiLCJ0ZXh0dXJlIiwidHJhbnNsYXRlIiwiYW5jaG9yIiwiTWFza0ZpbHRlciIsInRleHR1cmVNYXRyaXgiLCJUZXh0dXJlTWF0cml4IiwidUZpbHRlck1hdHJpeCIsInVNYXNrQ2xhbXAiLCJ1Q2xhbXBGcmFtZSIsInVJbnZlcnNlIiwiaW52ZXJzZSIsInVNYXNrVGV4dHVyZSIsIl90ZXh0dXJlTWF0cml4IiwibWFwQ29vcmQiXSwic291cmNlUm9vdCI6IiJ9